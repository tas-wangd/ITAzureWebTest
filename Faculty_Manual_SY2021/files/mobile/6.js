(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{119:function(e,t,r){"use strict";function o(){}Object.defineProperty(t,"__esModule",{value:!0});var i=/[\u0300-\u036f]/g,a={"ı":"i","ё":"е"},n=new RegExp(Object.keys(a).join("|"),"gi");o.normalize=function(e){return String.prototype.normalize||console.error("String does'nt have normalize function"),e.normalize("NFKD")},o.toLowerCase=function(e){return e.toLowerCase().replace(i,"").replace(n,function(e){return a[e]})},o.findIndexes=function(e,t){for(var r=0,i=0,a=!1,n=0;n<e.length;n++)if(0!==o.toLowerCase(e.charAt(n)).length){if(a)break;o.toLowerCase(e.charAt(n))===o.toLowerCase(t.charAt(i))?i++:(i>0&&(n-=i),r=n+1,i=0),i===t.length&&(a=!0)}return i===t.length?[r,n-1]:null},t.default=o},189:function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){this.searchState=e,this.store=t}Object.defineProperty(t,"__esModule",{value:!0}),t.SearchHighlight=void 0;var a=o(r(101)),n=r(106),s=r(104),l=o(r(119));i.prototype.clear=function(){this.store.commit("search/"+n.CLEAR_HIGHLIGHTS)},i.prototype.findHighlights=function(e,t){for(var r=this,o=!0,i=this.store.state.search.results,h=0,g=i.length;h<g;h++)if(i[h].pageId.toString()===t.toString()){o=!1;break}if(o)this.store.commit("search/"+n.ADD_HIGHLIGHTS,{key:t,query:e,value:[]});else{var f=new XMLHttpRequest;f.onload=function(){var o=this.responseText.split("\n"),i=[],a=l.default.toLowerCase(l.default.normalize(e))||"";a=function(e,t){for(var r=e.split(" "),o=[],i=0;i<r.length;i++)r[i].length>=t&&o.push(r[i]);return o}(a,0);for(var h=1,g=o.length;h<g;h++)for(var f=o[h],u=0,d=0,c=a.length;d<c;d++){var p=a[d],v=f.split(String.fromCharCode(2)),m=!1;if(p.length<r.searchState.searchCharactersLimit){var C=void 0!==o[h-1]?o[h-1].split(String.fromCharCode(2))[0]:"",S=o[h].split(String.fromCharCode(2))[0]||"",w=void 0!==o[h+1]?o[h+1].split(String.fromCharCode(2))[0]:"",H=l.default.toLowerCase(l.default.normalize(C+" "+S))||"",L=l.default.toLowerCase(l.default.normalize(S+" "+w))||"",y=a[d-1]||"",I=a[d],b=a[d+1]||"",k=y+" "+I,P=I+" "+b;""!==y&&-1!==H.indexOf(k)&&(m=!0),""!==b&&-1!==L.indexOf(P)&&(m=!0)}else m=!0;if(m&&p){var _=0;do{if(-1!==(u=(l.default.toLowerCase(l.default.normalize(v[0]))||"").indexOf(p,_))){var x=f.split(String.fromCharCode(4));if(x.length>1){for(var z=[],T=[],G=0,A=x.length;G<A;G++)z[G]=x[G].split(String.fromCharCode(2)),G>0&&z[G].unshift(z[0][0]),T[G]=z[G][5].split(String.fromCharCode(3));for(var M=u,O=u+p.length,D=0,R=z.length;D<R;D++)if(T[D].length<=M)M-=T[D].length,O-=T[D].length;else{var j=0;O>T[D].length?(j=T[D].length,O-=T[D].length):(j=O,O=0),M>0&&(j-=M),i.push(r.getHighlightItem(z[D],T[D],M,j)),M=0}}else{var q="R"===v[1]?v[6].split(String.fromCharCode(3)):v[5].split(String.fromCharCode(3));i.push(r.getHighlightItem(v,q,u,p.length))}_=u+p.length}}while(u>-1)}}r.store.commit("search/"+n.ADD_HIGHLIGHTS,{key:t,query:e,value:i});var E=(0,s.getStore)().state.pager;if("search"===E.lastTarget&&E.singleMode&&r.store.getters["pages/pageProp"](t,"wide")&&E.rightPage===t&&!r.store.getters["pages/isFirstPage"](t)&&!r.store.getters["pages/isLastPage"](t)){for(var F=r.store.state.pages[t].width/2,J=r.store.state.book.rightToLeft,B=!0,K=0,N=i.length;K<N;K++)if(J?i[K].rect[2]>=F:i[K].rect[2]<F){B=!1;break}B&&r.store.dispatch("pager/goToPageById",{id:t.toString(),rightWideHalf:!0})}},f.onerror=function(){},f.open("GET",(0,a.default)().translatePath("assets/common/search/search"+function(e){return("000"+e).slice(-Math.max((e+"").length,4))}(t)+".xml")),f.send()}},i.prototype.getHighlightItem=function(e,t,r,o){var i="R"===e[1],a=void 0,n=void 0,s=void 0,l=void 0;i?(n=e[2]/10,a=e[3]/10,s=e[4]/1e3,l=e[5]/10):(n=e[1]/10,a=e[2]/10,s=e[3]/1e3,l=e[4]/10);var h=r+(o-1),g=0===r?0:t[r-1]/10,f=t[h]/10-g;return{rect:[f,l,n+g-(i?f:0),a],angle:s,rotatePadding:g-(i?f:0)}},t.SearchHighlight=i}}]);