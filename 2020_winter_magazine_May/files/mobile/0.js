(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(97).concat([function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function n(t,e){var i=this;u.default.use(y.default),(0,v.isObject)(t.api)&&(0,m.ApiPlugin)((0,o.getStore)(),t.api,e),(0,g.default)().setAdapter(t.adapter);var r=void 0;switch(e){case"mobile":case"mobile-old":default:r=f.default}(0,s.default)((0,o.getStore)(),function(e){i.vm=new u.default({el:t.container,i18n:h.default,api:t.api,store:(0,o.getStore)(),components:{layout:r},mounted:function(){(0,o.getStore)().contentData=e,e=null,t.onPublicationLoad({}),(0,o.getStore)().commit("workspace/INIT"),(0,m.subscribeEvents)((0,o.getStore)(),t.api,this)}})},t,e),(0,g.default)().setCallback(function(t){(0,o.getStore)().dispatch("pager/goToPageByUserInput",{userInput:t.page,type:"url"})})}Object.defineProperty(e,"__esModule",{value:!0}),e.App=void 0;var o=i(104),a=i(195),s=r(a),l=i(102),u=r(l),c=i(120),h=r(c),d=i(292),f=r(d),p=i(101),g=r(p),m=i(454),v=i(100),b=i(455),y=r(b);n.prototype.constructor=n,n.prototype.destructor=function(){this.vm.$destroy()},e.App=n},,,function(t,e,i){"use strict";function r(t){var e=void 0===t?"undefined":c(t);return"function"===e||"object"===e&&!!t}function n(t){return null===t}function o(t){return void 0===t}function a(t,e){return null!=t&&hasOwnProperty.call(t,e)}function s(t){return"[object String]"===d.call(t)}function l(t){return null==t||(g(t)&&((0,h.isArray)(t)||s(t)||m(t))?0===t.length:0===Object.keys(t).length)}function u(t){var e=t.toUpperCase(),i=/^M*(?:D?C{0,3}|C[MD])(?:L?X{0,3}|X[CL])(?:V?I{0,3}|I[XV])$/;return e&&i.test(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.isRoman=e.isString=e.has=e.isEmpty=e.isArray=e.isFunction=e.isUndefined=e.isNull=e.isObject=void 0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h=i(32),d=Object.prototype.toString,f=Math.pow(2,53)-1,p=function(t){return function(e){return null==e?void 0:e[t]}}("length"),g=function(t){var e=p(t);return"number"==typeof e&&e>=0&&e<=f},m=function(t){return"[object Arguments]"===d.call(t)};!function(){m(arguments)||(m=function(t){return a(t,"callee")})}(),e.isObject=r,e.isNull=n,e.isUndefined=o,e.isFunction=h.isFunction,e.isArray=h.isArray,e.isEmpty=l,e.has=a,e.isString=s,e.isRoman=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(100),n=function(){function t(){return e||(this instanceof t?(e=this,void this.setCallback(function(){})):new t)}var e=void 0;return t.prototype.setAdapter=function(t){var e=this;this.adapter&&(this.adapter.setCallback(null),this.adapter=null),this.adapter=t,this.adapter.setCallback(function(t){e.callback(t)})},t.prototype.setCallback=function(t){this.callback=t},t.prototype.getPathInfo=function(){return this.adapter.getPathInfo()},t.prototype.setPath=function(t){this.adapter.setPath(t)},t.prototype.getShareUrl=function(t){return this.adapter.getShareUrl(t)},t.prototype.getEmbedUrl=function(t){return this.adapter.getEmbedUrl(t)},t.prototype.getLocalStorage=function(){return this.adapter.getLocalStorage()},t.prototype.getSessionStorage=function(){return this.adapter.getSessionStorage()},t.prototype.translatePath=function(t){var e=[];if((0,r.isString)(t))return this.adapter.translatePath(t);for(var i=0,n=t.length;i<n;i++)e.push(this.adapter.translatePath(t[i]));return e},t.prototype.getEmbedPrefix=function(){return this.adapter.getEmbedPrefix()},t.prototype.getCrossOrigin=function(){return this.adapter.getCrossOrigin()},t}();e.default=n},,function(t,e,i){"use strict";function r(t){i(315)}i.r(e);var n=i(130),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);var s=i(99),l=r,u=Object(s.a)(o.a,void 0,void 0,!1,l,null,null);e.default=u.exports},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function n(){return _||(_=new u.default.Store({modules:{},strict:S,plugins:[f.default,g.default,h.default,v.default,y.default]}))}function o(){_=null}Object.defineProperty(e,"__esModule",{value:!0}),e.getStore=n,e.removeStore=o;var a=i(102),s=r(a),l=i(186),u=r(l),c=i(187),h=r(c),d=i(188),f=r(d),p=i(189),g=r(p),m=i(192),v=r(m),b=i(194),y=r(b);s.default.use(u.default);var S=!1,_=null},function(t,e,i){"use strict";function r(t){for(var e=0;e<l.length;e++)if(t===l[e])return!0;return!1}function n(t){var e=/</gi,i=function(){return"&lt;"};return t.replace(e,i)}function o(t){var e=document.createElement("textarea");return e.innerHTML=t,e.value}function a(t){var e=t/1048576;return e=e<1?e<.1?(1024*e).toFixed(0)+" KB":e.toFixed(2)+" MB":e<100?e.toFixed(1)+" MB":e.toFixed(0)+" MB"}function s(t){var e=parseInt(t/3600,10)%24,i=parseInt(t/60,10)%60;t%=60;var r="";return e&&(r+=e+"h"),i&&(r+=i+"m"),r+=t+"s"}Object.defineProperty(e,"__esModule",{value:!0});var l=[",",";","."," ","?","!","'",'"',"",String.fromCharCode(10),String.fromCharCode(13),String.fromCharCode(8211),String.fromCharCode(8212),String.fromCharCode(8722),String.fromCharCode(8209),String.fromCharCode(8208)],u=function(t){return("000"+t).slice(-Math.max((t+"").length,4))};e.isSplitter=r,e.screening=n,e.decodeHtml=o,e.formatSize=a,e.secondToTimeFormat=s,e.getNum=u},function(t,e,i){"use strict";function r(t){var e=Array.prototype.slice.call(arguments,1);return setTimeout(function(){return t.apply(null,e)},1)}function n(t,e){return e=null==e?t.length-1:+e,function(){for(var i=Math.max(arguments.length-e,0),r=Array(i),n=0;n<i;n++)r[n]=arguments[n+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var o=Array(e+1);for(n=0;n<e;n++)o[n]=arguments[n];return o[e]=r,t.apply(this,o)}}function o(t,e,i){var r=void 0,o=void 0,a=function(e,i){r=null,i&&(o=t.apply(e,i))},s=n(function(n){if(r&&clearTimeout(r),i){var s=!r;r=setTimeout(a,e),s&&(o=t.apply(this,n))}else r=h(a,e,this,n);return o});return s.cancel=function(){clearTimeout(r),r=null},s}function a(t){for(var e=[];t;){if(e.push(t),"HTML"===t.tagName)return e;t=t.parentElement}}function s(t){for(var e=[];t;){if(t.classList[0]&&e.push(t.classList[0]),"HTML"===t.tagName)return e;t=t.parentElement}}function l(t,e,i,r){for(var n=0,o=t.length;n<o;n++)t[n].hasOwnProperty(e)&&(t[n][i]=r,l(t[n][e],e,i,r))}function u(t,e){for(var i in t)i===e?delete t[i]:null!==t[i]&&(0,c.isObject)(t[i])&&u(t[i],e)}Object.defineProperty(e,"__esModule",{value:!0}),e.removeParamFromJSON=e.addTreeParamByBranch=e.classPath=e.composedPath=e.delay=e.debounce=e.defer=void 0;var c=i(100),h=n(function(t,e,i){return setTimeout(function(){return t.apply(null,i)},e)});e.defer=r,e.debounce=o,e.delay=h,e.composedPath=a,e.classPath=s,e.addTreeParamByBranch=l,e.removeParamFromJSON=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.fit=function(t,e,i){var r=t.width/t.height,n=e.width/e.height,o={};return r.toFixed(2)===n.toFixed(2)?{width:e.width,height:e.height,top:0,left:0}:(r>n?(o.width=e.width,o.height=t.height*(e.width/t.width)):(o.width=t.width*(e.height/t.height),o.height=e.height),i&&(o.width>t.width||o.height>t.height)?{width:t.width,height:t.height,top:0,left:0}:(o.top=(e.height-o.height)/2,o.left=(e.width-o.width)/2,o))},n=e.fill=function(t,e){var i=t.width/t.height,r=e.width/e.height,n={};return i>r?(n.height=e.height,n.width=t.width*(e.height/t.height)):(n.height=t.height*(e.width/t.width),n.width=e.width),n};e.default={fit:r,fill:n}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.NORMALIZE_INITIALIZED="NORMALIZE_INITIALIZED",n=e.INDEX_LOADED="INDEX_LOADED",o=e.CHANGE_QUERY="CHANGE_QUERY",a=e.CHANGE_PROPERTY="CHANGE_PROPERTY",s=e.HIGHLIGHT_LOADED="HIGHLIGHT_LOADED",l=e.INIT="INIT",u=e.SEARCH_OBJECT_CREATED="SEARCH_OBJECT_CREATED",c=e.SEARCH_LIBRARY_INITIALIZED="SEARCH_LIBRARY_INITIALIZED",h=e.CHANGE_STATUS="CHANGE_STATUS",d=e.ADD_CHUNK="ADD_CHUNK",f=e.ADD_RESULT="ADD_RESULT",p=e.ADD_RESULTS="ADD_RESULTS",g=e.CLEAR_RESULTS="CLEAR_RESULTS",m=e.ADD_HIGHLIGHTS="ADD_HIGHLIGHTS",v=e.CLEAR_HIGHLIGHTS="CLEAR_HIGHLIGHTS",b=e.UPDATE_SCROLL="UPDATE_SCROLL";e.default={NORMALIZE_INITIALIZED:r,INDEX_LOADED:n,CHANGE_QUERY:o,HIGHLIGHT_LOADED:s,INIT:l,CHANGE_PROPERTY:a,SEARCH_OBJECT_CREATED:u,SEARCH_LIBRARY_INITIALIZED:c,CHANGE_STATUS:h,ADD_CHUNK:d,ADD_RESULT:f,ADD_RESULTS:p,CLEAR_RESULTS:g,ADD_HIGHLIGHTS:m,CLEAR_HIGHLIGHTS:v,UPDATE_SCROLL:b}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.CHANGE_PAGE="CHANGE_PAGE",n=e.CHANGE_ZOOM_MODE="CHANGE_ZOOM_MODE",o=e.CHANGE_SINGLE_MODE="CHANGE_SINGLE_MODE",a=e.CHANGE_LAST_TARGET="CHANGE_LAST_TARGET",s=e.FREEZE="FREEZE",l=e.UNFREEZE="UNFREEZE",u=e.FROZEN_BY="FROZEN_BY",c=e.DIRECTION_LEFT="DIRECTION_LEFT",h=e.DIRECTION_RIGHT="DIRECTION_RIGHT",d=e.CHANGE_FLIP_STATE="CHANGE_FLIP_STATE",f=e.CHANGE_FORCE_FLIP="CHANGE_FORCE_FLIP",p=e.CHANGE_FORCE_RERENDER="CHANGE_FORCE_RERENDER";e.default={CHANGE_PAGE:r,CHANGE_ZOOM_MODE:n,CHANGE_SINGLE_MODE:o,CHANGE_LAST_TARGET:a,FREEZE:s,UNFREEZE:l,FROZEN_BY:u,DIRECTION_LEFT:c,DIRECTION_RIGHT:h,CHANGE_FLIP_STATE:d,CHANGE_FORCE_FLIP:f,CHANGE_FORCE_RERENDER:p}},function(t,e,i){"use strict";function r(t){i(303)}i.r(e);var n=i(126),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);var s=i(305),l=i(99),u=r,c=Object(l.a)(o.a,s.a,s.b,!1,u,null,null);e.default=c.exports},,function(t,e,i){"use strict";(function(t){function i(t){var e=t.url,i=void 0===e?"":e,r=t.method,o=void 0===r?"GET":r,a=(t.headers,t.responseType),s=void 0===a?"text":a,l=t.callback,u=void 0===l?function(){}:l,c=t.errorback,h=void 0===c?function(){}:c,d=n();d.open(o,i,!0),"blob"===s&&(d.responseType=s),d.onerror=function(){h(d.status)},d.onreadystatechange=function(){if(4===d.readyState)if(200===d.status)switch(s){case"text":u(d.responseText,d.response.length);break;case"json":u(JSON.parse(d.responseText),d.response.length);break;default:u(d,d.response.length)}else h(d.status)},d.send(null)}function r(e,i){i=i||function(){};var r=t.document.getElementsByTagName("head")[0],n=t.document.createElement("script");n.type="text/javascript",n.src=e,r.appendChild(n),n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,i())}:n.onload=function(){i()}}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){return t.XDomainRequest&&!/MSIE 1/.test(t.navigator.userAgent)?new t.XDomainRequest:t.XMLHttpRequest?new t.XMLHttpRequest:void 0};e.request=i,e.loadScript=r}).call(this,i(21))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.INIT="INIT",n=e.TEMPLATES_LOADED="TEMPLATES_LOADED",o=e.CHANGE_PARAM="CHANGE_PARAM";e.default={INIT:r,TEMPLATES_LOADED:n,CHANGE_PARAM:o}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.INIT="INIT",n=e.LOCALE_LOADED="LOCALE_LOADED",o=e.FONT_LOADED="FONT_LOADED",a=e.SET_CURRENT_LOCALE="SET_CURRENT_LOCALE",s=e.SET_CURRENT_FONT="SET_CURRENT_FONT",l=e.SET_STRINGS="SET_STRINGS",u=e.SET_LOCALE="SET_LOCALE",c=e.SET_LOCALE_STRING="SET_LOCALE_STRING";e.default={INIT:r,LOCALE_LOADED:n,FONT_LOADED:o,SET_CURRENT_LOCALE:a,SET_CURRENT_FONT:s,SET_STRINGS:l,SET_LOCALE:u,SET_LOCALE_STRING:c}},,,,,function(t,e,i){"use strict";function r(t){var e=void 0;return(e=t.match(/^#([0-9a-f]{3})$/i))?(e=e[1],[17*parseInt(e.charAt(0),16),17*parseInt(e.charAt(1),16),17*parseInt(e.charAt(2),16)]):(e=t.match(/^#([0-9a-f]{6})$/i),e?(e=e[1],[parseInt(e.substr(0,2),16),parseInt(e.substr(2,2),16),parseInt(e.substr(4,2),16)]):[0,0,0])}function n(t){return(299*t[0]+667*t[1]+114*t[2])/1080/255}Object.defineProperty(e,"__esModule",{value:!0}),e.parseColor=r,e.calculateLuma=n},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(102),o=r(n),a=i(190),s=r(a);o.default.use(s.default),e.default=new s.default({fallbackLocale:"en"})},function(t,e,i){"use strict";function r(t){return!!(t instanceof Date||t instanceof RegExp)}function n(t){if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return new RegExp(t);throw new Error("Unexpected situation")}function o(t){var e=[];return t.forEach(function(t,i){"object"===(void 0===t?"undefined":s(t))&&null!==t?Array.isArray(t)?e[i]=o(t):r(t)?e[i]=n(t):e[i]=a({},t):e[i]=t}),e}function a(){if(arguments.length<1||"object"!==s(arguments[0]))return!1;if(arguments.length<2)return arguments[0];var t=arguments[0],e=Array.prototype.slice.call(arguments,1),i=void 0,l=void 0;return e.forEach(function(e){"object"!==(void 0===e?"undefined":s(e))||Array.isArray(e)||Object.keys(e).forEach(function(u){l=t[u],(i=e[u])===t||("object"!==(void 0===i?"undefined":s(i))||null===i?t[u]=i:Array.isArray(i)?t[u]=o(i):r(i)?t[u]=n(i):"object"!==(void 0===l?"undefined":s(l))||null===l||Array.isArray(l)?t[u]=a({},i):t[u]=a(l,i))})}),t}Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=a},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(102),o=r(n),a=i(123),s=r(a),l=i(297),u=r(l),c=i(401),h=r(c),d=i(412),f=r(d),p=i(418),g=r(p),m=i(434),v=r(m),b=i(443),y=r(b),S=i(111),_=r(S),w=i(98),P=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(w);i(183),i(448),i(449),i(450),i(451),i(153),i(452);var E=i(100),T=i(106),k=i(101),C=r(k),O=i(119),x=i(105),I=void 0,z=void 0;o.default.use(s.default,{name:"v-touch"}),e.default={data:function(){return{layout:"mobile",windowWidth:window.innerWidth,windowHeight:window.innerHeight,bannerHeight:0,showBars:!this.checkEmbed(),isLightbox:this.checkLightbox(),isProtected:this.$store.state.workspace.isProtected,fullscreen:!1,noticeShown:this.noticeShouldShow(),tapTimeout:0,flipCountTrigger:0,scrollInterval:null,androidKeyboardShift:0,androidKeyboardOpened:!1}},beforeCreate:function(){this.$store.dispatch("workspace/setLayout","mobile")},mounted:function(){var t=this;window.addEventListener("resize",this.onResize),document.addEventListener("fullscreenchange",this.onFullscreenChange),document.addEventListener("webkitfullscreenchange",this.onWebkitfullscreenChange),this.noticeShown&&this.$refs.noticeBanner&&(this.bannerHeight=this.$refs.noticeBanner.$el.getBoundingClientRect().height),this.singleSlideMode&&this.$store.dispatch("pager/setSingleMode",{singleMode:!0,target:"slide-book"}),this.onResize(null,!0),this.isEmbed&&this.$el.parentNode.classList.add("embed"),this.checkPreloader(),this.isIphonePlus&&(this.scrollInterval=setInterval(function(){t.visible&&t.scroll()},1e3))},beforeDestroy:function(){window.removeEventListener("resize",this.onResize),document.removeEventListener("fullscreenchange",this.onFullscreenChange),document.removeEventListener("webkitfullscreenchange",this.onWebkitfullscreenChange),this.isIphonePlus&&clearInterval(this.scrollInterval)},methods:{accessibilityShow:function(t){confirm(this.$t("Accessibility.DOWNLOAD_TITLE")+this.formatSize(this.accessibilityPDF.size))?document.getElementById("ttst").href=this.accessibilityPDFPath:(t.preventDefault(),document.getElementById("ttst").removeAttribute("href"))},formatSize:function(t){var e=t/1048576;return e=e<1?e<.1?(1024*e).toFixed(0)+" KB":e.toFixed(2)+" MB":e<100?e.toFixed(1)+" MB":e.toFixed(0)+" MB"},onResize:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.isAndroid){var r=document.activeElement;if(!(this.androidKeyboardOpened||this.windowWidth!==window.innerWidth||"INPUT"!==r.tagName&&"TEXTAREA"!==r.tagName&&"IFRAME"!==r.tagName)){var n=r.getBoundingClientRect();return this.androidKeyboardOpened=!0,void(n.top>this.windowHeight/2&&!this.modalOpened&&(this.androidKeyboardShift=-n.top/2))}if(this.androidKeyboardOpened&&this.windowWidth===window.innerWidth)return this.androidKeyboardShift=0,void(this.androidKeyboardOpened=!1);r.blur(),this.androidKeyboardShift=0,this.androidKeyboardOpened=!1}this.$store.dispatch("workspace/setResizing",!i&&!this.showSidebar),clearTimeout(I),clearTimeout(z),this.scroll(),"search"!==this.activeComponent&&this.closeAll(),I=setTimeout(function(){e.fullscreen||(e.windowWidth=window.innerWidth,e.windowHeight=window.innerHeight,e.$store.dispatch("workspace/setSize",{width:e.windowWidth,height:e.windowHeight})),e.isIphonePlus&&e.scroll(),e.fullscreen||e.modalOpened||e.singleSlideMode||e.$store.dispatch("pager/setSingleMode",{singleMode:e.portrait,target:"orientation"}),e.isResizing&&(z=setTimeout(function(){e.$store.dispatch("workspace/setResizing",!1)},e.isIphonePlus?850:500)),i&&e.$root.$emit("orientation",e.portrait?"portrait":"landscape","load")},i?100:500)},onFullscreenChange:function(){this.fullscreen=!!document.fullscreenElement},onWebkitfullscreenChange:function(){this.fullscreen=!!document.webkitFullscreenElement},scroll:function(){window.requestAnimationFrame(function(){window.scrollTo(0,-1)})},openSidebar:function(t){if(!this.isWorkspaceFrozen&&!this.isEmbed){if(this.showPopup&&this.$store.dispatch("popup/closePopup"),this.showSidebar)return void this.$store.dispatch("sidebar/closeSidebar");this.$store.dispatch("sidebar/openSidebar",t)}},containerTap:function(t){if(this.showSidebar)return void this.$store.dispatch("sidebar/closeSidebar");for(var e=(0,T.composedPath)(t.target),i=!0,r=!1,n=0,o=e.length;n<o;n++){var a=e[n].className;if((0,E.isString)(a)){if(a.indexOf("content-element")>-1){i=!1;break}a.indexOf("book-container")>-1&&(r=!0)}}i&&r&&(Date.now()>this.tapTimeout&&setTimeout(this.toggleBars,251),this.tapTimeout=Date.now()+250)},titleTap:function(){this.$store.dispatch("pager/goToFirst")},toggleBars:function(){this.isWorkspaceFrozen||this.isEmbed||Date.now()>this.tapTimeout&&(this.showBars=!this.showBars,this.$root.$emit("develop",{action:"showBars",data:this.showBars?"show":"hide"}))},closeAll:function(){this.showPopup&&this.$store.dispatch("popup/closePopup"),this.showSidebar&&this.$store.dispatch("sidebar/closeSidebar")},goLogoLink:function(){this.logoLink&&window.open(this.logoLink,"_blank")},noticeClose:function(){(0,C.default)().getLocalStorage().setItem("fb_cookieNotice_dismissed","true"),this.noticeShown=!1,this.onResize(null,!0)},noticeShouldShow:function(){return!!this.$store.state.workspace.cookieNotice&&(this.$store.state.workspace.cookieNotice.enabled&&"true"!==(0,C.default)().getLocalStorage().getItem("fb_cookieNotice_dismissed"))},checkPreloader:function(){var t=this;document.getElementById("preloader")?(this.$store.dispatch("workspace/setPreloader",!0),this.$root.$options.api.once&&"function"==typeof this.$root.$options.api.once&&this.$root.$options.api.once("preloader-off",function(){t.$store.dispatch("workspace/setPreloader",!1)})):this.$store.dispatch("workspace/setPreloader",!1)},checkEmbed:function(){var t=window.location!==window.parent.location&&this.$store.state.workspace.embedScript;return this.$store.dispatch("workspace/setEmbed",t),t},checkLightbox:function(){return window.location!==window.parent.location&&this.$store.state.workspace.embedLightbox},clickToRead:function(){this.isProtected?this.openInLightbox():this.openInNewWindow()},openInLightbox:function(){window.parent.postMessage({fbPublicationUrl:window.location.href,action:"openMobileLightbox"},"*")},openInNewWindow:function(){window.open(window.location.href,"_blank")},backFromLightbox:function(){this.$root.$emit("develop",{action:"mobileLightboxClose",data:"arrow"}),window.history.go(-1)}},computed:{accessibilityPDF:function(){return null!==this.$store.state.workspace.accessibilityPDF&&this.$store.state.workspace.accessibilityPDF},accessibilityPDFPath:function(){return(0,C.default)().translatePath(this.accessibilityPDF.fileName)},containerClasses:function(){var t={"publication-container":!0,"sidebar-left":"toc"===this.$store.state.sidebar.opened,"sidebar-right":"search"===this.$store.state.sidebar.opened,"panel-left":"thumbnails"===this.$store.state.sidebar.opened,"panel-right":!1,portrait:this.portrait,landscape:!this.portrait,"cookie-notice":this.noticeShown,resizing:this.isResizing&&!this.fullscreen&&!this.modalOpened,embed:this.isEmbed,shifted:0!==this.androidKeyboardShift,lightbox:this.isLightbox};return t[this.layout]=!0,t},containerStyle:function(){return{width:this.isEmbed?null:this.containerSize.width+"px",height:this.isEmbed?null:this.containerSize.height+"px",top:this.androidKeyboardShift+"px"}},containerSize:function(){return{width:this.windowWidth,height:this.windowHeight}},bookContainerSize:function(){var t={width:this.windowWidth,height:this.windowHeight};return this.noticeShown&&(t.height-=this.bannerHeight),t},hasPages:function(){return this.$store.getters["pages/pagesCount"]>0},portrait:function(){return this.windowWidth<=this.windowHeight},isAndroid:function(){return this.$store.state.workspace.userAgentInfo.os.android},isIphonePlus:function(){return this.$store.state.workspace.userAgentInfo.os.ios&&(736===window.innerWidth||414===window.innerWidth)},singleSlideMode:function(){return"slide-book"===this.$store.state.workspace.bookComponent&&!("mobile-old"===this.$store.getters["info/version"]&&this.$store.state.workspace.components.book.flip)},isResizing:function(){return this.$store.state.workspace.isResizing},isFlipping:function(){return"inProgress"===this.$store.state.pager.flipState},modalOpened:function(){return this.$store.state.workspace.modalOpened},mainClasses:function(){return{"main-frame":!0}},title:function(){return(0,x.decodeHtml)(this.$store.state.workspace.title)},showSearchIcon:function(){return this.$store.state.search.enabled},showMenuIcon:function(){var t=this.$store.state.downloads;return this.$store.state.toc.enabled&&this.$store.state.toc.children||t.enabled&&(t.url&&t.allPagesVisible||!(0,E.isEmpty)(t.pageFiles)&&t.currentPagesVisible||!(0,E.isEmpty)(t.customFiles)&&t.customFiles[0].url)},showThumbsIcon:function(){return this.$store.state.workspace.components.thumbnails},showPopup:function(){return null!==this.$store.state.popup.opened},showSidebar:function(){return null!==this.$store.state.sidebar.opened},activeComponent:function(){return this.$store.state.sidebar.opened},totalPagesVisible:function(){return!1!==this.$store.state.workspace.components.paginator.totalPagesVisible},displayPages:function(){return!1!==this.$store.state.workspace.components.paginator&&!1!==this.$store.state.workspace.components.paginator.enabled},totalPages:function(){var t=this.$store.state.pages.structure.length-1,e=this.$store.getters["pages/pageCaptionByIndex"](t);return this.$store.state.workspace.customTotalPages||e},pagerState:function(){return this.$store.getters["pager/state"]},stateForDisplay:function(){return this.$store.getters["pager/stateForDisplay"]},customLogoUrl:function(){return this.$store.state.logo.image&&(0,E.isString)(this.$store.state.logo.image)?(0,C.default)().translatePath(this.$store.state.logo.image):null},hasDefaultLogo:function(){return!(!this.$store.state.logo.url||!(0,E.isString)(this.$store.state.logo.url)||this.$store.state.logo.image)&&-1!==this.$store.state.logo.url.toLowerCase().indexOf("flippingbook.com")},showLogo:function(){return!(!this.$store.state.logo.useInMobile||!this.customLogoUrl&&!this.hasDefaultLogo)},logoLink:function(){return this.$store.state.logo.url},cookieNoticeEnabled:function(){return this.$store.state.workspace.cookieNotice&&this.$store.state.workspace.cookieNotice.enabled},visible:function(){return this.$store.state.workspace.visible},isWorkspaceFrozen:function(){return this.$store.state.workspace.freezed},isEmbed:function(){return this.$store.state.workspace.isEmbed},clickToReadText:function(){return this.$t("Other.CLICK_TO_READ")},clickToReadClass:function(){return{"fullscreen-button":!0,hidden:"inProgress"===this.$store.state.pager.flipState}},spinnerBgColor:function(){var t=this.$store.state.skin.styles["second-button-color"];if(t){return"rgba("+(0,O.parseColor)(t).join(",")+", 0.5)"}},spinnerFgColor:function(){var t=this.$store.state.skin.styles["second-text-color"];if(t){return"rgba("+(0,O.parseColor)(t).join(",")+", 0.8)"}}},watch:{cookieNoticeEnabled:function(t){this.noticeShown=t},fullscreen:function(t){var e=this;t||this.$nextTick(function(){e.onResize()})},modalOpened:function(t){t||this.onResize(null,!0)},pagerState:function(){var t=this.$store.state.pager.lastTarget;"toc"===t||"thumbnails"===t||"search"===t?this.flipCountTrigger=0:this.flipCountTrigger++,this.flipCountTrigger>3&&(this.showBars=!1)},showBars:function(t,e){!e&&t&&(this.flipCountTrigger=0)},portrait:function(t){this.$root.$emit("orientation",t?"portrait":"landscape","change")},visible:function(t){t&&(this.onResize(null,!0),this.showBars=!0,this.flipCountTrigger=0)},isWorkspaceFrozen:function(t){t&&(this.showBars=!0,this.closeAll())}},components:{"book-container":u.default,"th-window":h.default,"toc-window":g.default,"search-window":v.default,"banner-notice":y.default,spinner:_.default,svgicon:P,"mobile-nav":f.default}}},,function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(300),o=r(n),a=i(364),s=r(a),l=i(396),u=r(l),c=i(107);e.default={data:function(){return{containerSize:{width:0,height:0},bookSize:{width:0,height:0}}},props:["portrait","size"],components:{"flat-book":s.default,"flip-book":o.default,"slide-book":u.default},computed:{version:function(){return this.$store.getters["info/version"]},bookScaleSize:function(){return this.$store.state.workspace&&this.$store.state.workspace.bookSize},originalBookSize:function(){return{width:this.$store.state.book.bookSize.width*(this.portrait?1:2),height:1*this.$store.state.book.bookSize.height}},bookComponent:function(){switch(this.version){case"flat":return"flat-book";case"mobile-old":return"slide-book";case"mobile":case"desktop":default:return this.$store.state.workspace.components.book.flip?"flip-book":"slide-book"}},currentBookComponent:function(){return this.$store.state.workspace.bookComponent},hasNavButtons:function(){return"flat"===this.version}},methods:{fitBook:function(t,e){var i=(0,c.fit)(t,e),r=this.bookScaleSize,n=void 0;switch(this.version){case"flat":return{width:Math.floor(i.width)-2,height:Math.floor(i.height)-2};case"mobile":case"desktop":default:n=(r||100)/100;var o=i.height/i.width;return i.width=i.width%2==0?i.width:i.width+1,i.height=o*i.width,{width:Math.floor(i.width*n),height:Math.floor(i.height*n)}}},resize:function(){var t=window.getComputedStyle(this.$el),e={left:1*t.getPropertyValue("margin-left").split("px")[0],right:1*t.getPropertyValue("margin-right").split("px")[0],top:1*t.getPropertyValue("margin-top").split("px")[0],bottom:1*t.getPropertyValue("margin-bottom").split("px")[0]};this.containerSize={width:this.size.width-(this.hasNavButtons?80:0)-e.left-e.right,height:this.size.height-e.top-e.bottom};var i=this.fitBook(this.originalBookSize,this.containerSize);this.bookSize={width:Math.round(i.width/(this.portrait?1:2)),height:Math.round(i.height)}}},beforeMount:function(){this.$store.dispatch("workspace/setBookComponent",this.bookComponent)},mounted:function(){this.resize()},watch:{size:"resize",bookScaleSize:function(){this.resize()},originalBookSize:function(){this.resize()}}}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(110),o=r(n),a=i(306),s=r(a),l=i(174),u=r(l),c=i(175),h=r(c),d=i(176),f=r(d),p=i(178),g=r(p),m=i(179),v=r(m),b=i(136),y=r(b),S=i(123),_=r(S),w=i(102),P=r(w),E=i(115),T=r(E);_.default.registerCustomEvent("doubletap",{type:"tap",taps:2,posThreshold:50}),P.default.use(_.default,{name:"v-touch"});var k=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0},r={};return r.width=t.width*e,r.height=t.height*e,r.top=t.top+(i.y-i.y*e),r.left=t.left+(i.x-i.x*e),r},C=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return{x:(t.left-e.left)/(i-1),y:(t.top-e.top)/(i-1)}},O={"content-block":u.default,"content-link":h.default,"content-image":f.default,"content-gallery":g.default,"content-gif":v.default,"content-video":y.default};e.default={name:"flip-book",props:{"container-size":Object,"page-size":Object},components:{page:o.default},data:function(){return{status:"ready",zoomFactor:1,scaleFactor:1,scaleOrigin:{x:0,y:0},holderScrollTop:0,holderScrollLeft:0,holderScrollY:0,holderScrollX:0,maxZoom:5}},mounted:function(){var t={};t.bookWidth=2*this.$store.state.pages.size.width,t.bookHeight=this.$store.state.pages.size.height,this.bookHolderElement=this.$el.querySelector("#book-holder"),this.lastZoomBlockID=null,this.flipAdapter=new s.default({bookSize:this.bookSize,state:this.$store,container:this.bookHolderElement,parentVm:this,contentCreator:this.contentCreator,initDomEvents:!this.isEmbed}),this.toggleBlockOnFlip(),this.flipAdapter.on("render:start",function(){this.$store.dispatch("pager/freeze",{target:"flip-book"})},this),this.flipAdapter.on("render:finish",function(){this.$store.dispatch("pager/unfreeze",{target:"flip-book"})},this),this.flipAdapter.on("flip:finished",function(){this.$emit("flip:finished")},this)},watch:{forceRerender:function(){this.forceRerender&&(this.$store.dispatch("pager/setForceRerender",{forceRerender:!1}),this.flipAdapter.resetBook())},pageSize:function(t){t.width=t.width*this.zoomFactor,t.height=t.height*this.zoomFactor,this.$store.dispatch("pages/changePageSize",t)},zoomFactor:function(t){this.toggleBlockOnFlip();var e={width:this.pageSize.width,height:this.pageSize.height};e.width=e.width*t,e.height=e.height*t,this.$store.dispatch("pages/changePageSize",e)},status:function(){this.toggleBlockOnFlip(),this.refreshScroll()},bookSize:function(t){this.flipAdapter.resizeBook(t)},singleMode:function(){this.zoomFactor>1&&(this.pageSize.width=this.pageSize.width/this.zoomFactor,this.pageSize.height=this.pageSize.height/this.zoomFactor),this.zoomOut(!0)},currentPages:function(t,e){var i=this;if(t.leftPage!==e.leftPage||t.rightPage!==e.rightPage){var r=function(){i.flipAdapter.trigger("pages:change",t.target);var r=void 0,n=e.rightPage?e.rightPage:null,o=t.rightPage?t.rightPage:null,a=i.$store.getters["pages/pageProp"](n,"wide"),s=i.$store.getters["pages/pageProp"](o,"wide"),l=e.leftPage?e.leftPage:null,u=t.leftPage?t.leftPage:null,c=i.$store.getters["pages/pageProp"](l,"wide"),h=i.$store.getters["pages/pageProp"](u,"wide"),d=i.$store.getters["pages/pageIndexById"](n),f=i.$store.getters["pages/pageIndexById"](l),p=i.$store.getters["pages/pageIndexById"](o),g=i.$store.getters["pages/pageIndexById"](u);null===n&&(d=f+1),null===o&&(p=g+1),null===l&&(f=d-1),null===u&&(g=p-1),r=p+g-d-f;var m=i.$store.state.pager.singleMode,v=!1;r>0&&(v=!0),m?v?(a&&n!==l&&r++,c&&n!==l&&r--):(h&&o!==u&&r++,s&&o!==u&&r--):(c&&n===l&&r--,h&&o===u&&r++,r/=2),r>0&&r<=2?("flipComponent"===t.target||"orientation"===t.target||null!==t.rightPage&&!i.$store.getters["pages/isLastPage"](t.rightPage)||i.$store.dispatch("pager/setForceFlip",{forceFlip:!0}),i.flipAdapter.trigger("go:toLeft",t.target)):r<0&&r>=-2?("flipComponent"===t.target||"orientation"===t.target||null!==t.leftPage&&!i.$store.getters["pages/isFirstPage"](t.rightPage)||i.$store.dispatch("pager/setForceFlip",{forceFlip:!0}),i.flipAdapter.trigger("go:toRight",t.target)):(r>2||r<-2||null===t.rightPage&&null===e.leftPage||null===t.leftPage&&null===e.rightPage)&&i.flipAdapter.trigger("go:toPage",t.target)};1!==this.zoomFactor?(this.zoomOut(!1),setTimeout(r,400)):r()}},isWorkspaceFrozen:function(t){t?this.flipAdapter.block():this.flipAdapter.unblock()},workspaceSize:function(t,e){var i=e.height===t.height&&e.width===t.width;this.zoomFactor>1&&!i&&(this.pageSize.width=this.pageSize.width/this.zoomFactor,this.pageSize.height=this.pageSize.height/this.zoomFactor),this.zoomOut(!0)}},computed:{bookSize:function(){var t=void 0;return t=this.$store.state.book.rightToLeft?null===this.$store.state.pager.rightPage?-this.$store.state.pages.size.width:0:this.singleMode||null===this.$store.state.pager.leftPage?-this.$store.state.pages.size.width:0,{width:2*this.$store.state.pages.size.width,height:this.$store.state.pages.size.height,top:(this.containerSize.height-this.$store.state.pages.size.height)/2,left:t}},bookHolderSize:function(){var t=null===this.$store.state.pager.leftPage||null===this.$store.state.pager.rightPage||this.singleMode?this.$store.state.pages.size.width:2*this.$store.state.pages.size.width,e=this.$store.state.pages.size.height,i=void 0,r=void 0;return 1===this.zoomFactor?(i=(this.containerSize.width-t)/2,r=(this.containerSize.height-e)/2):(i=this.holderScrollLeft,r=this.holderScrollTop),{width:t,height:e,top:r,left:i}},bookHolderStyle:function(){var t={width:this.bookHolderSize.width+"px",height:this.bookHolderSize.height+"px",top:1===this.zoomFactor?this.bookHolderSize.top+"px":this.containerSize.height>=this.bookHolderSize.height?Math.round(this.bookHolderSize.top)+"px":"0",left:1===this.zoomFactor?this.bookHolderSize.left+"px":this.containerSize.width>=this.bookHolderSize.width?Math.round(this.bookHolderSize.left)+"px":"0"};return"animating"===this.status?(t.transformOrigin=this.scaleOrigin.x+"px "+this.scaleOrigin.y+"px",t.transition="transform 300ms",0!==this.holderScrollTop||0!==this.holderScrollLeft?t.transform="translate("+(this.containerSize.width<this.bookHolderSize.width?this.holderScrollLeft:0)+"px,"+(this.containerSize.height<this.bookHolderSize.height?this.holderScrollTop:0)+"px) translateZ(0) scale3d("+this.scaleFactor+", "+this.scaleFactor+", "+this.scaleFactor+")":t.transform="scale("+this.scaleFactor+")"):"pinch"===this.status?(t.transformOrigin=this.scaleOrigin.x+"px "+this.scaleOrigin.y+"px",t.transition="transform 0s",0!==this.holderScrollTop||0!==this.holderScrollLeft?t.transform="translate("+(this.containerSize.width<this.bookHolderSize.width?this.holderScrollLeft:0)+"px,"+(this.containerSize.height<this.bookHolderSize.height?this.holderScrollTop:0)+"px) translateZ(0) scale3d("+this.scaleFactor+", "+this.scaleFactor+", "+this.scaleFactor+")":t.transform="scale("+this.scaleFactor+")"):(t.transition="transform 0s",1===this.zoomFactor&&(t.transform="")),t},currentPages:function(){return{rightPage:this.$store.state.pager.rightPage,leftPage:this.$store.state.pager.leftPage,target:this.$store.state.pager.lastTarget}},singleMode:function(){return this.$store.state.pager.singleMode},forceRerender:function(){return this.$store.state.pager.forceRerender},holderOriginalWidth:function(){return null===this.$store.state.pager.leftPage||null===this.$store.state.pager.rightPage||this.singleMode?this.pageSize.width:2*this.pageSize.width},isWorkspaceFrozen:function(){return this.$store.state.workspace.freezed},workspaceSize:function(){return this.$store.state.workspace.size},isEmbed:function(){return this.$store.state.workspace.isEmbed}},methods:{toggleBlockOnFlip:function(){var t=this;1!==this.zoomFactor||"ready"!==this.status?this.flipAdapter.block():setTimeout(function(){t.flipAdapter.unblock()},20)},refreshScroll:function(){var t=this;this.$nextTick(function(){t.zoomFactor>1&&"ready"===t.status?t.iscroll?t.iscroll.refresh():(t.holderScrollX=t.containerSize.width<t.bookHolderSize.width?t.bookHolderSize.left:0,t.holderScrollY=t.containerSize.height<t.bookHolderSize.height?t.bookHolderSize.top:0,t.iscroll=new T.default(t.$el,{mouseWheel:!1,scrollbars:!1,freeScroll:!1,scrollX:t.containerSize.width<t.bookHolderSize.width,scrollY:t.containerSize.height<t.bookHolderSize.height,probeType:1,bindToWrapper:!0,bounce:!1,useTransition:!0,startX:t.holderScrollX,startY:t.holderScrollY}),t.iscroll.on("scrollEnd",t.onScrollEnd)):t.iscroll&&(t.holderScrollX=0,t.holderScrollY=0,t.iscroll.destroy(),delete t.iscroll)})},onScrollEnd:function(){this.holderScrollX=this.iscroll.x,this.holderScrollY=this.iscroll.y},zoomOut:function(t){if(1!==this.zoomFactor)return t?(this.status="calculating",this.zoomFactor=1,this.refreshScroll(),this.holderScrollLeft=0,this.holderScrollTop=0,this.status="ready",void this.$root.$emit("unzoomed")):void this.zoomByTap({center:{x:0,y:0}})},zoomByTap:function(t){if(!this.isWorkspaceFrozen&&"ready"===this.status){this.status="calculating";var e=!1,i={};if(t.target&&"block"===t.target.className){var r=t.target.getAttribute("data-id");if(r!==this.lastZoomBlockID){e=!0,1!==this.zoomFactor&&(this.containerSize.width<this.bookHolderSize.width&&(this.holderScrollLeft=this.holderScrollX),this.containerSize.height<this.bookHolderSize.height&&(this.holderScrollTop=this.holderScrollY)),this.lastZoomBlockID=r;var n=t.target.getBoundingClientRect(),o=this.bookHolderElement.getBoundingClientRect();i={width:n.width>o.width+o.left-n.left?o.width+o.left-n.left:n.width,height:n.height,left:n.left-o.left,top:n.top-o.top},i.left<0&&(i.width=i.width+i.left,i.left=0)}else this.lastZoomBlockID=null}else this.lastZoomBlockID=null;if(e){var a=1*(.96*this.containerSize.width/i.width).toFixed(2),s=1*(this.zoomFactor*a).toFixed(2);this.scaleFactor=s>2.5?2.5/this.zoomFactor:a}else this.scaleFactor=1!==this.zoomFactor?this.holderOriginalWidth/this.bookHolderSize.width:2;var l=k(this.bookHolderSize,this.scaleFactor,{x:t.center.x-this.bookHolderSize.left,y:t.center.y-this.bookHolderSize.top});if(e){var u=i.left*this.scaleFactor,c=i.width*this.scaleFactor;l.left=-u+(this.containerSize.width-c)/2}l.height<this.containerSize.height?l.top=(this.containerSize.height-l.height)/2:l.top>0?l.top=0:l.height+l.top<this.containerSize.height&&(l.top=this.containerSize.height-l.height),l.width<this.containerSize.width?l.left=(this.containerSize.width-l.width)/2:l.left>0?l.left=0:l.width+l.left<this.containerSize.width&&(l.left=this.containerSize.width-l.width),this.scaleOrigin=C(this.bookHolderSize,l,this.scaleFactor),this.newBounds=l,this.status="animating",this.refreshScroll(),this.scaleFactor>1?this.$root.$emit("zoomed"):this.scaleFactor<1&&this.$root.$emit("unzoomed")}},zoomByPinchStart:function(t){this.isWorkspaceFrozen||"ready"!==this.status||"inProgress"===this.$store.state.pager.flipState||(this.minScale=this.holderOriginalWidth/this.bookHolderSize.width,this.scaleFactor=1,1!==this.zoomFactor&&(this.containerSize.width<this.bookHolderSize.width&&(this.holderScrollLeft=this.holderScrollX),this.containerSize.height<this.bookHolderSize.height&&(this.holderScrollTop=this.holderScrollY)),this.scaleOrigin={x:t.center.x-this.bookHolderSize.left,y:t.center.y-this.bookHolderSize.top},this.status="pinch")},zoomByPinchMove:function(t){"pinch"===this.status&&(this.scaleFactor=this.minScale<t.scale?t.scale:this.minScale,this.zoomFactor*this.scaleFactor>this.maxZoom&&(this.scaleFactor=this.maxZoom/this.zoomFactor))},zoomByPinchFinish:function(t){if("pinch"===this.status){var e=k(this.bookHolderSize,this.scaleFactor,{x:this.scaleOrigin.x,y:this.scaleOrigin.y});e.height<this.containerSize.height?e.top=(this.containerSize.height-e.height)/2:e.top>0?e.top=0:e.height+e.top<this.containerSize.height&&(e.top=this.containerSize.height-e.height),e.width<this.containerSize.width?e.left=(this.containerSize.width-e.width)/2:e.left>0?e.left=0:e.width+e.left<this.containerSize.width&&(e.left=this.containerSize.width-e.width),this.zoomFactor=1*(this.zoomFactor*this.scaleFactor).toFixed(2),this.holderScrollLeft=1===this.zoomFactor?0:e.left,this.holderScrollTop=1===this.zoomFactor?0:e.top,this.status="ready",this.scaleFactor>1?this.$root.$emit("zoomed"):this.scaleFactor<1&&this.$root.$emit("unzoomed")}},transitionEnd:function(){"animating"===this.status&&(this.zoomFactor=1*(this.zoomFactor*this.scaleFactor).toFixed(2),this.holderScrollLeft=1===this.zoomFactor?0:this.newBounds.left,this.holderScrollTop=1===this.zoomFactor?0:this.newBounds.top,this.status="ready")},contentCreator:function(t){return O["content-"+t.type]}}}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},o=i(107),a=i(119),s=i(111),l=r(s),u=i(101),c=r(u);e.default={props:{id:[String,Number],side:{type:String,required:!1,default:"both",validator:function(t){return-1!==["left","right","both"].indexOf(t)}},bordered:{type:Boolean,default:!1},size:Object,isThumb:{type:Boolean,default:!1},renderContent:{type:Boolean,default:!0},contentCreator:Function,deferPageLoad:{type:Boolean,default:!0},autoHighlight:{type:Boolean,default:!0}},data:function(){return{isReady:!0,isHighlighted:!1,pageId:this.id,pageSide:this.side,crossOrigin:(0,c.default)().getCrossOrigin(),contentItemsCount:0,contentItemsReady:0,highlightTimeout:null,highlightOffTimeout:null,preloaderVisibleCache:!0,backgroundsCache:null,isLoadingCache:null,tapTimeout:0,tapped:!1}},components:{spinner:l.default},watch:{id:function(t){this.pageId=t},pageId:function(t,e){this.deregisterPage(e),this.registerPage(t)},side:function(t){this.pageSide=t},isLoading:function(t){t||this.$emit("loaded",this),this.refreshCache()},content:function(t){t.length>0&&this.$emit("content:changed"),this.refreshCache()},isResizing:function(t){this.$emit("resize:"+(t?"start":"end")),this.refreshCache(),t?(clearTimeout(this.highlightTimeout),clearTimeout(this.highlightOffTimeout),this.isHighlighted=!1):this.checkHighlight()},isPreloaderShown:function(t){t||this.$emit("preloader:off",this)},contentFreezed:function(){this.refreshCache()},preloaderVisible:function(){this.refreshCache()},backgrounds:function(){this.refreshCache()}},created:function(){this.registerPage()},mounted:function(){this.$parent.$on("flip:finished",this.checkHighlight),this.autoHighlight&&this.checkHighlight(),this.refreshCache()},beforeUpdate:function(){this.contentItemsReady>this.contentItemsCount&&(this.contentItemsReady=this.contentItemsCount)},beforeDestroy:function(){clearTimeout(this.highlightTimeout),clearTimeout(this.highlightOffTimeout),this.$parent.$off("flip:finished",this.checkHighlight),this.deregisterPage()},methods:{refreshCache:function(){var t=this;this.contentFreezed||this.$nextTick(function(){t.preloaderVisibleCache!==t.preloaderVisible&&!1===t.preloaderVisible&&t.deferPageLoad?setTimeout(function(){t.preloaderVisibleCache=t.preloaderVisible},300):t.preloaderVisibleCache=t.preloaderVisible,t.backgroundsCache=t.backgrounds,t.isLoadingCache=t.isLoading})},isVisible:function(t){if(!1===this.isWide||this.isWide&&"both"===this.pageSide)return!0;var e=this.$store.getters["pages/pageProp"](this.pageId,"width");return this.isWide&&"left"===this.pageSide?e/2>t.rect[2]:this.isWide&&"right"===this.pageSide?e/2<t.rect[2]+t.rect[0]:void 0},isCrossWide:function(t){if(!1===this.isWide||this.isWide&&"both"===this.pageSide)return!1;var e=this.$store.getters["pages/pageProp"](this.pageId,"width");return e/2>t.rect[2]&&e/2<t.rect[2]+t.rect[0]},onContentContainerClick:function(t){t.target===t.currentTarget&&this.$behavior("onContentContainerClick")},onContentTap:function(t){var e=this;this.isWorkspaceFrozen||t.target.classList&&t.target.classList.contains("link")&&(this.tapped=!0,Date.now()>this.tapTimeout&&setTimeout(function(){e.linkTo(t.target)},251),this.tapTimeout=Date.now()+250,setTimeout(function(){e.tapped=!1},500))},linkTo:function(t){if(!(Date.now()<this.tapTimeout)){var e=t.getAttribute("data-id"),i=t.getAttribute("data-url");e&&!i?(this.$store.dispatch("pager/goToPageById",{id:e,target:"link"}),this.$emit("link:click",t),this.$root.$emit("link",{type:"internal",source:"page",pageId:this.pageId,pageToId:e})):i&&(t.setAttribute("href",i),t.click(),t.removeAttribute("href"),this.$emit("link:click",t),this.$root.$emit("link",{type:"external",pageId:this.pageId,url:i,target:t.target,source:null}))}},checkHighlight:function(){var t=this;if(this.isCurrent){var e=this.getSpreadTwin();if(null!==e&&e.isLoading)return void e.$once("loaded",function(){t.checkHighlight()});!this.isLoading&&!this.isResizing&&!this.isPreloaderShown&&this.content.length>0?this.highlightContent():this.isLoading&&this.content.length>0?this.$once("loaded",function(){this.checkHighlight()}):this.isPreloaderShown?this.$once("preloader:off",function(){this.checkHighlight()}):0===this.content.length&&this.$once("content:changed",function(){this.checkHighlight()})}},highlightContent:function(){var t=this;this.highlightTimeout=setTimeout(function(){t.isHighlighted=!0,t.highlightOffTimeout=setTimeout(function(){t.isHighlighted=!1},500)},1e3)},contentItemReady:function(t){this.contentItemsReady++,t.data.crossWide&&"both"!==this.pageSide&&(this.$root.pages[this.pageId+"_"+this.pageSide].crossWideItems||(this.$root.pages[this.pageId+"_"+this.pageSide].crossWideItems={}),this.$root.pages[this.pageId+"_"+this.pageSide].crossWideItems[t.data.key]=t,t.getCrossWideReflection())},contentError:function(){},registerPage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pageId;!this.isThumb&&this.isWide&&this.renderContent&&("both"!==this.pageSide&&(t=t+"_"+this.pageSide),this.$root.pages||(this.$root.pages={}),this.$root.pages[t]||(this.$root.pages[t]={}),this.$root.pages[t].component=this)},deregisterPage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pageId;!this.isThumb&&this.isWide&&this.renderContent&&("both"!==this.pageSide&&(t=t+"_"+this.pageSide),this.$root.pages&&this.$root.pages[t]&&delete this.$root.pages[t])},getSpreadTwin:function(){var t=this.$store.getters["pager/state"];if(!this.isCurrent||t.singleMode||t.zoomMode)return null;if(this.pageId===t.leftPage){var e=this.isWide?t.rightPage+"_right":t.rightPage;if(this.$root.pages&&this.$root.pages[e])return this.$root.pages[e].component}if(this.pageId===t.rightPage){var i=this.isWide?t.leftPage+"_left":t.leftPage;if(this.$root.pages&&this.$root.pages[i])return this.$root.pages[i].component}return null}},computed:{contentFreezed:function(){return"pending"!==this.$store.state.pager.flipState},className:function(){return{page:!0,bordered:this.bordered,thumb:this.isThumb,loading:this.isLoading,unready:!this.isReady,error:this.hasError,highlighted:this.isHighlighted,light:this.backgroundLuma>.5,dark:this.backgroundLuma<=.5,tapped:this.tapped}},preloaderVisible:function(){return!this.isStub&&(this.isLoading||!this.isReady||this.hasError)},preloaderHeader:function(){return this.hasError?this.$t("Other.PAGE_ERROR_TITLE"):null},preloaderText:function(){return this.hasError?this.$t("Other.PAGE_ERROR_MESSAGE"):this.isReady?null:this.$t("Other.CONVERTING_PAGE")},thumbnailUrl:function(){return this.$store.getters["pages/pageProp"](this.pageId,"thumbnailUrl")},backgrounds:function(){if(!this.pageId||!this.isReady||this.hasError)return[];var t=[];if(this.isStub)t.push(this.$store.getters["pages/stubUrl"]);else{if(this.isThumb){var e=this.$store.getters["pages/pageProp"](this.pageId,"thumbnailUrl");return e&&t.push(e),t}var i=this.$store.getters["pages/pageProp"](this.pageId,"substrateUrl"),r=this.$store.getters["pages/pageProp"](this.pageId,"textUrl");i&&t.push(i),r&&t.push(r)}return t},backgroundColor:function(){return this.pageId?this.$store.getters["pages/pageProp"](this.pageId,"backgroundColor"):"#ffffff"},backgroundLuma:function(){return(0,a.calculateLuma)((0,a.parseColor)(this.backgroundColor))},isWide:function(){return!!this.pageId&&this.$store.getters["pages/pageProp"](this.pageId,"wide")},isStub:function(){return this.$store.getters["pages/pageProp"](this.pageId,"stub")},content:function(){if(!this.pageId||!this.isReady||this.hasError||!this.renderContent||this.isThumb||this.isStub)return this.contentItemsCount=0,[];var t=[],e=this.contentSize.scaleRatio;if(e<=0)return[];var i=this.$store.getters["pages/pageContent"](this.pageId);for(var r in i)if(i.hasOwnProperty(r)){var o=i[r],a=n({},o);a.key=r,a.page={id:this.pageId,side:this.pageSide,isWide:this.isWide},a.scaleRatio=e,a.crossWide=this.isCrossWide(a),a.component=this.contentCreator(a),this.isVisible(a)&&t.push(a)}return this.contentItemsCount=t.length,t},hasError:function(){return-1===this.$store.getters["pages/pageProp"](this.pageId,"thumbnailUrl")||-1===this.$store.getters["pages/pageProp"](this.pageId,"substrateUrl")||-1===this.$store.getters["pages/pageProp"](this.pageId,"textUrl")},isLoading:function(){return!(!this.isThumb||this.$store.getters["pages/pageProp"](this.pageId,"thumbnailUrl"))||(0===this.$store.state.pages.size.width||null===this.$store.state.pages.size.width||!(this.isStub||!this.isReady||this.hasError)&&(this.contentItemsReady<this.contentItemsCount||this.$store.getters["pages/pageProp"](this.pageId,"loadPending")))},isResizing:function(){return this.$store.state.workspace.isResizing},isPreloaderShown:function(){return this.$store.state.workspace.preloader},isCurrent:function(){var t=this.$store.getters["pager/state"];return t.singleMode?this.pageId===t.rightPage:t.zoomMode?this.pageId===t.leftPage:this.pageId===t.leftPage||this.pageId===t.rightPage},isWorkspaceFrozen:function(){return this.$store.state.workspace.freezed},pageWidthMultiplier:function(){return this.isWide&&"both"===this.pageSide?"2":"1"},contentWidthMultiplier:function(){return this.isWide&&"both"!==this.pageSide?"2":"1"},highlights:function(){if(!this.pageId||this.isLoading||!this.isReady||this.hasError||!this.renderContent||this.isThumb||this.isStub)return[];var t=[],e=this.contentSize.scaleRatio;if(e.w<=0)return[];var i=this.$store.getters["search/getHighlights"](this.pageId),r=this.$store.state.search.color;if(i&&i.ready)for(var n=0,o=i.data.length;n<o;n++){var a=i.data[n].rect,s={width:(a[0]*e.w).toFixed(2)+"px",height:(a[1]*e.h).toFixed(2)+"px",left:(a[2]*e.w).toFixed(2)+"px",top:(a[3]*e.h).toFixed(2)+"px",backgroundColor:r};0!==i.data[n].angle&&(s.transformOrigin="0px 0px 0px",s.transform="rotate("+i.data[n].angle+"rad)"),t.push({style:s})}return t},pagesSize:function(){return this.$store.getters["pages/size"]},pageSize:function(){return this.size&&this.size.width&&this.size.height?{width:this.size.width,height:this.size.height}:{width:this.pagesSize.width*this.pageWidthMultiplier,height:1*this.pagesSize.height}},contentSize:function(){if(this.pageId){var t=this.$store.getters["pages/pageProp"](this.pageId,"pageResize"),e=this.$store.getters["pages/pageProp"](this.pageId,"width")/this.contentWidthMultiplier,i=this.$store.getters["pages/pageProp"](this.pageId,"height"),r=void 0;return r="FIT"===t?(0,o.fit)({width:e,height:i},this.pageSize):(0,o.fill)({width:e,height:i},this.pageSize),{width:r.width,height:r.height,scaleRatio:{w:r.width/e,h:r.height/i}}}return{width:0,height:0,scaleRatio:{w:0,h:0}}},pageStyle:function(){return{width:this.pageSize.width+"px",height:this.pageSize.height+"px","background-color":this.bordered?"rgba(39, 47, 55, 0.03)":this.backgroundColor}},thumbnailStyle:function(){var t=n({},this.contentStyle),e=Math.round(this.contentSize.width/220);return e>8&&(e=8),t.filter="blur("+e+"px)",t},contentStyle:function(){var t=(this.pageSize.width-this.contentSize.width)/(this.isWide&&"both"!==this.pageSide?1:2),e=(this.pageSize.height-this.contentSize.height)/2,i={width:this.contentSize.width.toFixed(0)*this.contentWidthMultiplier+"px",height:this.contentSize.height.toFixed(0)+"px"};return"right"===this.pageSide&&(this.isThumb&&this.$store.state.book.rightToLeft?i.left="0":i.right="0",t&&(i.marginRight=t.toFixed(0)+"px")),t&&"right"!==this.pageSide&&(i.marginLeft=t.toFixed(0)+"px"),e&&(i.marginTop=e.toFixed(0)+"px"),i}}}},,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(100),n={cTest:!1,id:function(t){return document.getElementById(t)},tag:function(t){return document.getElementsByTagName(t)[0]},tags:function(t){return document.getElementsByTagName(t)},byClass:function(t){return document.getElementsByClassName(t)},add:function(t){return document.createElement(t)},round:function(t,e){e=e||0;for(var i=1,r=0;r<e;r++)i*=10;return Math.round(t*i)/i},css:function(t,e){for(var i in e)if(e.hasOwnProperty(i)){var r=i.replace(/-(.)/g,function(t,e){return e.toUpperCase()});r="float"===r?"cssFloat":r,t.style[r]=e[i]}},del:function(t){return(0,r.isString)(t)?n.id(t)&&n.id(t).parentNode.removeChild(n.id(t)):t.parentNode.removeChild(t),!0},addClass:function(t,e){t.classList.add(e)},removeClass:function(t,e){t.classList.remove(e)},createElement:function(t,e,i,n,o){i=i||-1;var a=document.createElement(t);for(var s in e)e.hasOwnProperty(s)&&("styles"!=s?a.setAttribute(s,e[s]):this.css(a,e.styles));if("top"===n)-1!=i&&((0,r.isString)(i)?document.getElementById(i).insertBefore(a,document.getElementById(i).firstChild):i.insertBefore(a,i.firstChild));else if("after"===n){var l=o.nextSibling,u=o.parentNode;l?u.insertBefore(a,l):u.appendChild(a)}else if("before"===n){var c=o.previousSibling,u=o.parentNode;c?u.insertBefore(a,o):u.appendChild(a)}else-1!=i&&((0,r.isString)(i)?document.getElementById(i).appendChild(a):i.appendChild(a));return a},clear:function(t){(0,r.isString)(t)&&(t=t.id(t)),t.innerHTML=""}};e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(103),n=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default={extends:n.default,name:"content-block",methods:{zoomToBLock:function(){this.$emit("block:zoomed",this.data.rect)}},computed:{rndm:function(){return Math.random()}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(100),n=i(101),o=function(t){return t&&t.__esModule?t:{default:t}}(n),a=i(112),s=void 0,l=void 0;e.default={name:"content-base",props:["data"],data:function(){return{crossOrigin:(0,o.default)().getCrossOrigin(),crossWideItem:null,isHighlighted:!1,thumbnailBlob:null}},computed:{containerRect:function(){return{width:Math.round(this.data.rect[0]*this.data.scaleRatio.w),height:Math.round(this.data.rect[1]*this.data.scaleRatio.h),left:Math.round(this.data.rect[2]*this.data.scaleRatio.w),top:Math.round(this.data.rect[3]*this.data.scaleRatio.h)}},containerStyle:function(){var t={};return this.data.style?t=this.data.style:(t={width:this.containerRect.width+"px",height:this.containerRect.height+"px",left:this.containerRect.left+"px",top:this.containerRect.top+"px"},this.data.zIndex&&(t.zIndex=this.data.zIndex),(0,r.isUndefined)(this.data.angle)||0!==this.data.angle&&(t.transformOrigin="0px 0px 0px",t.transform="rotate("+this.data.angle+"rad)")),t},thumbnailUrl:function(){return this.data.previewUrl?(0,o.default)().translatePath("assets/common/pages-content/"+this.data.previewUrl):null},thumbnailStyle:function(){var t={};return this.thumbnailBlob&&(t.backgroundImage='url("'+this.thumbnailBlob+'")'),t},playButtonStyle:function(){var t=Math.min(.5*this.data.rect[0]*this.data.scaleRatio.w,.5*this.data.rect[1]*this.data.scaleRatio.h).toFixed(0)+"px";return{maxWidth:t,maxHeight:t}}},beforeMount:function(){this.thumbnailUrl&&this.loadThumbnail()},mounted:function(){var t=this;this.thumbnailUrl||this.$emit("ready",this),this.data.crossWide&&(s=function(){t.crossWideItem&&(t.crossWideItem.isHighlighted=!0)},l=function(){t.crossWideItem&&(t.crossWideItem.isHighlighted=!1)},this.$el.addEventListener("mouseover",s),this.$el.addEventListener("mouseout",l))},beforeDestroy:function(){this.data.crossWide&&(this.$el.removeEventListener("mouseover",s),this.$el.removeEventListener("mouseout",l))},watch:{thumbnailUrl:function(){this.loadThumbnail()}},methods:{loadThumbnail:function(){var t=this;(0,a.request)({url:this.thumbnailUrl,responseType:"blob",callback:function(e){t.ready=!0,t.$emit("ready",t);var i=e.response;t.thumbnailBlob=window.URL.createObjectURL(i)},errorback:function(e){t.error=!0,t.$emit("error",t,e)}})},getCrossWideReflection:function(){var t=this.data.page.id+"_"+("left"===this.data.page.side?"right":"left");"both"!==this.data.page.side&&this.$root.pages[t]&&this.$root.pages[t].crossWideItems?(this.crossWideItem=this.$root.pages[t].crossWideItems[this.data.key],this.crossWideItem&&this.crossWideItem.crossWideItem!==this&&(this.crossWideItem.crossWideItem=this)):this.crossWideItem=null}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},n=i(103),o=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={extends:o.default,name:"content-link",props:[],computed:{title:function(){return this.data.url?this.$t("TopMenu.EXTERNAL_LINK_TIP",{0:this.url}):this.data.id?this.$t("AlertMessage.LINK_PAGE_TIP")+" "+this.$store.getters["pages/pageCaptionById"](this.data.id):""},url:function(){if(this.data.url)return 0===this.data.url.indexOf("geo:")?this.data.url.split(";")[0].replace(" ","").replace("geo:","http://maps.apple.com/?ll="):this.data.url},target:function(){if(this.data.url)return this.data.target||this.props.target},props:function(){return this.$store.state.book.links},linkStyle:function(){var t=r({},this.containerStyle);return t.backgroundColor=this.data.color||this.props.color,t},classes:function(){return{link:!0,flip:this.props.highlightOnFlip,hover:this.props.highlightOnHover,highlighted:this.isHighlighted,"content-element":!0}}}}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(103),o=r(n),a=i(101),s=r(a),l=i(177),u=r(l),c=i(107),h=i(98),d=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(h);i(326),e.default={extends:o.default,name:"content-image",props:[],data:function(){return{isModalShown:!1,width:70,height:70,tapTimeout:0,closeTimeout:0}},computed:{modalRect:function(){var t=(0,c.fit)({width:this.width,height:this.height},{width:.8*this.workspaceSize.width,height:.8*this.workspaceSize.height},!0);return{width:Math.round(t.width),height:Math.round(t.height)}},modalImageStyle:function(){return{width:this.modalRect.width+"px",height:this.modalRect.height+"px"}},hasPopup:function(){return!1!==this.data.popup},workspaceSize:function(){return this.$store.getters["workspace/size"]},imageSrc:function(){return(0,s.default)().translatePath("assets/common/pages-content/"+this.data.urls[0])},containerClasses:function(){return{highlighted:this.isHighlighted}},isWorkspaceFrozen:function(){return this.$store.state.workspace.freezed},isEmbed:function(){return this.$store.state.workspace.isEmbed}},methods:{onImageClick:function(){this.hasPopup&&(Date.now()>this.tapTimeout&&Date.now()>this.closeTimeout&&setTimeout(this.imageClick,251),this.tapTimeout=Date.now()+250)},imageClick:function(){this.isWorkspaceFrozen||this.isEmbed||Date.now()<this.tapTimeout||(this.imageLoad(),this.showModal(),this.$emit("image:click",this),this.$root.$emit("image",{action:"click",url:this.data.urls[0]}))},preventDefault:function(t){t.preventDefault()},showModal:function(){this.isModalShown=!0,this.$nextTick(function(){var t=this;this.$refs.modalWindow.show(),this.$refs.modalWindow.$once("hidden",function(){t.isModalShown=!1,t.$root.$emit("image",{action:"close",url:t.data.urls[0]}),t.closeTimeout=Date.now()+500})})},imageLoad:function(){var t=document.createElement("img"),e=this;this.crossOrigin&&(t.crossOrigin=this.crossOrigin),t.onload=function(){e.width=t.naturalWidth,e.height=t.naturalHeight,e.$refs.modalWindow.loaded(),e.$emit("image:loaded",this),e.$root.$emit("image",{action:"loaded",url:e.data.urls[0]})},t.onerror=function(t){e.$refs.modalWindow.error(),e.$emit("image:error",this,t)},t.src=this.imageSrc,t.style.width="100%"}},components:{svgicon:d,"modal-window":u.default}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(111),n=function(t){return t&&t.__esModule?t:{default:t}}(r),o=i(100);e.default={props:{rect:{type:Object},width:{type:[Number,String],default:"80%"},height:{type:[Number,String],default:"auto"},bgColor:{type:String},delay:{default:0},preloader:{default:!1}},data:function(){return{isVisible:!1,visibility:{modal:!1,overlay:!1},isLoaded:!this.preloader,hasError:!1,parent:null,androidKeyboardShift:0,heightOverride:null}},watch:{isVisible:function(t){var e=this;t?(this.visibility.overlay=!0,setTimeout(function(){e.visibility.modal=!0},this.delay)):(this.visibility.modal=!1,setTimeout(function(){e.visibility.overlay=!1},this.delay))}},computed:{modalStyle:function(){var t={};if(this.bgColor&&this.isLoaded&&(t.backgroundColor=this.bgColor),this.rect)t.width=this.rect.width+"px",t.height=this.heightOverride?this.heightOverride:this.rect.height+"px",t.left=this.rect.left+"px",t.top=this.rect.top+this.androidKeyboardShift+"px";else{var e=-1===this.width.toString().indexOf("px")&&-1===this.width.toString().indexOf("%"),i=-1===this.height.toString().indexOf("px")&&-1===this.height.toString().indexOf("%");t.width=e?this.width+"px":this.width,t.height=this.heightOverride?this.heightOverride+"px":i?this.height+"px":this.height,t.top=i?Math.round((window.innerHeight-this.height)/2)+this.androidKeyboardShift+"px":"50%",t.left=e?Math.round((window.innerWidth-this.width)/2)+"px":"50%",t.transform="0"}return t},isAndroid:function(){return!0===this.$store.state.workspace.userAgentInfo.os.android}},methods:{show:function(){var t=this;this.isVisible=!0,this.$store.dispatch("workspace/setModalOpened",!0),setTimeout(function(){t.$emit("shown")},this.delay)},hide:function(t){var e=this;t.preventDefault(),t&&t.target&&(0,o.isString)(t.target.className)&&t.target.className.indexOf("modal-window-overlay")>=0&&(this.isVisible=!1,this.$store.dispatch("workspace/setModalOpened",!1),setTimeout(function(){e.$emit("hidden")},this.delay))},loaded:function(){this.isLoaded=!0},error:function(){this.hasError=!0},onResize:function(){if(this.isAndroid){var t=document.activeElement;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName){var e=t.getBoundingClientRect();e.top>window.innerHeight/2&&(this.androidKeyboardShift=-e.top/4)}else"IFRAME"===t.tagName?this.heightOverride=window.innerHeight:0!==this.androidKeyboardShift&&(this.androidKeyboardShift=0,this.heightOverride=null)}}},mounted:function(){window.addEventListener("resize",this.onResize),this.parent=this.$el.parentNode,this.$root.$el.appendChild(this.$el)},beforeDestroy:function(){window.removeEventListener("resize",this.onResize),this.$store.dispatch("workspace/setModalOpened",!1),this.parent&&"function"==typeof this.parent.appendChild&&this.parent.appendChild(this.$el)},components:{spinner:n.default}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(103),n=function(t){return t&&t.__esModule?t:{default:t}}(r),o=i(98),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(o);i(330),e.default={extends:n.default,name:"content-gallery",props:[],components:{svgicon:a}}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(98),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(n),a=i(103),s=r(a),l=i(101),u=r(l),c=i(111),h=r(c);i(334),i(335),e.default={extends:s.default,name:"content-gif",props:[],data:function(){return{isIdle:!0,isLoading:!1,isPlaying:!1,isEnded:!1,isAutoplay:this.data.autoplay,imgWidth:null,imgHeight:null,imgRatio:null,preloaderTimeout:null,loopTimeout:null,rand:null,tapTimeout:0}},computed:{containerClasses:function(){return{autoplay:this.isAutoplay,loading:this.isLoading,playing:this.isPlaying,ended:this.isEnded,highlighted:this.isHighlighted}},imageStyle:function(){return{width:Math.round(this.imgWidth*this.imgRatio*this.data.scaleRatio.w)+"px",height:Math.round(this.imgHeight*this.imgRatio*this.data.scaleRatio.h)+"px"}},imageSrc:function(){var t=!1===this.data.loop?"?rand="+this.rand:"";return(0,u.default)().translatePath("assets/common/pages-content/"+this.data.url+t)},isCurrentPage:function(){var t=this.$store.getters["pager/state"];return t.singleMode?this.data.page.isWide?this.data.page.id===t.rightPage&&("right"===this.data.page.side&&t.leftPage===t.rightPage||"left"===this.data.page.side&&t.leftPage!==t.rightPage||"both"===this.data.page.side):this.data.page.id===t.rightPage:this.data.page.id===t.leftPage||this.data.page.id===t.rightPage},isWorkspaceFrozen:function(){return this.$store.state.workspace.freezed},isEmbed:function(){return this.$store.state.workspace.isEmbed}},mounted:function(){this.updateRand(),this.checkAutoplay()},watch:{isCurrentPage:"currentPageChanged"},methods:{onGifClick:function(t){Date.now()>this.tapTimeout&&setTimeout(this.gifClick,251),this.tapTimeout=Date.now()+250},gifClick:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.isWorkspaceFrozen||this.isEmbed||Date.now()<this.tapTimeout||(this.crossWideItem&&!e&&this.crossWideItem.gifClick(null,!0),this.data.url&&this.isIdle&&!this.isLoading?(this.$emit("gif:click",this),this.$root.$emit("gif",{action:"click",url:this.data.url}),this.loadGif()):!1===this.data.loop&&this.isEnded?(this.unloadGif(),this.loadGif()):(this.isPlaying||this.isLoading)&&this.unloadGif())},loadGif:function(){var t=this;this.img||(this.img=document.createElement("img")),this.img.onload=function(){clearTimeout(t.preloaderTimeout),t.isLoading=!1,t.isPlaying=!0,t.imgWidth=t.img.naturalWidth,t.imgHeight=t.img.naturalHeight,t.imgRatio=Math.max(t.data.rect[0]/t.imgWidth,t.data.rect[1]/t.imgHeight),!1===t.data.loop&&t.data.duration&&(t.loopTimeout=setTimeout(function(){t.isPlaying=!1,t.isEnded=!0},t.data.duration+300)),t.$emit("gif:loaded",this),t.$root.$emit("gif",{action:"loaded",url:t.data.url})},this.img.onerror=function(t){this.$emit("gif:error",this,t)},this.crossOrigin&&(this.img.crossOrigin=this.crossOrigin),this.img.src=this.imageSrc,this.isIdle=!1,this.preloaderTimeout=setTimeout(function(){t.isLoading=!0},200)},unloadGif:function(){this.thumbnailUrl&&(clearTimeout(this.preloaderTimeout),clearTimeout(this.loopTimeout),this.isLoading=!1,this.img&&(this.img.onload=null,this.img.onerror=null,this.img.src=""),this.isPlaying=!1,this.isEnded=!1,this.isAutoplay=!1,this.isIdle=!0,this.updateRand(),this.$emit("gif:stop",this),this.$root.$emit("gif",{action:"stop",url:this.data.url}))},checkAutoplay:function(){this.data.autoplay&&(this.data.fileSize<1024&&this.isCurrentPage?this.loadGif():this.isAutoplay=!1)},currentPageChanged:function(t){t?this.checkAutoplay():(this.unloadGif(),this.data.autoplay&&(this.isAutoplay=!0))},updateRand:function(){this.rand=(1e6*Math.random()).toFixed()}},components:{svgicon:o,spinner:h.default}}},function(t,e,i){"use strict";function r(t){i(337)}i.r(e);var n=i(137),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);var s=i(362),l=i(99),u=r,c=Object(l.a)(o.a,s.a,s.b,!1,u,null,null);e.default=c.exports},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(103),o=r(n),a=i(107),s=i(101),l=r(s),u=i(339),c=r(u),h=i(353),d=r(h),f=i(357),p=r(f),g=i(177),m=r(g),v=i(98),b=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(v);i(360),i(361);var y=i(121),S=r(y);e.default={extends:o.default,name:"content-video",data:function(){var t=void 0;return{playerPromise:new Promise(function(e){t=e}),resolvePlayer:t,isModalShown:!1,isPlayerShown:!1,playerLoaded:!1,isPlaying:!1,tapTimeout:0,hasError:!1,videoData:null,showPreventer:!0}},beforeMount:function(){this.data.originalUrl?this.videoData=this.getVideoInfo(this.data.originalUrl):this.videoData=this.data},beforeDestroy:function(){this.unbindEvents()},watch:{isCurrentPage:"currentPageChanged",data:function(t){t.originalUrl?this.videoData=this.getVideoInfo(t.originalUrl):this.videoData=t}},computed:{isInline:function(){var t=this.$store.state.workspace.userAgentInfo;return"dialog"!==this.data.mode&&!this.data.crossWide&&!t.browser.safari&&!t.browser.publisher&&this.data.rect[0]*this.data.scaleRatio.w>144&&this.data.rect[1]*this.data.scaleRatio.h>100},isThumbnailShown:function(){return("dialog"!==this.data.mode||this.data.showImage)&&!this.playerLoaded},isCurrentPage:function(){var t=this.$store.getters["pager/state"];return t.singleMode?this.data.page.isWide?this.data.page.id===t.rightPage&&("right"===this.data.page.side&&t.leftPage===t.rightPage||"left"===this.data.page.side&&t.leftPage!==t.rightPage||"both"===this.data.page.side):this.data.page.id===t.rightPage:this.data.page.id===t.leftPage||this.data.page.id===t.rightPage},isMobile:function(){return"mobile"===this.$store.state.workspace.layout},isIos:function(){return this.$store.state.workspace.userAgentInfo.os.ios},isPublisher:function(){return this.$store.state.workspace.userAgentInfo.browser.publisher},apiVideoUrl:function(){var t="";switch(this.data.provider){case"youtube":t="https://www.youtube.com/watch?v="+this.data.id;break;case"vimeo":t="https://vimeo.com/"+this.data.id,this.data.accessKey?t="https://vimeo.com/"+this.data.id+"/"+this.data.accessKey:this.data.originalUrl&&(t=this.data.originalUrl.split("#")[0].split("?")[0]);break;case"wistia":this.data.account?t="https://"+this.data.account+".wistia.com/medias/"+this.data.id:this.data.originalUrl&&(t=this.data.originalUrl.split("#")[0].split("?")[0]);break;default:t=this.data.originalUrl||this.data.id}return t},modalRect:function(){var t=(0,a.fit)({width:this.data.width?this.data.width:this.data.rect[0],height:this.data.height?this.data.height:this.data.rect[1]},{width:.8*this.workspaceSize.width,height:.8*this.workspaceSize.height});return{width:Math.round(t.width),height:Math.round(t.height)}},workspaceSize:function(){return this.$store.getters["workspace/size"]},modalVideoStyle:function(){return"youtube"===this.data.provider?null:{width:this.modalRect.width+"px",height:this.modalRect.height+"px"}},thumbnailUrl:function(){return this.data.image?(0,l.default)().translatePath("assets/common/pages-content/"+this.data.image):null},containerClasses:function(){return{highlighted:this.isHighlighted}},isWorkspaceFrozen:function(){return this.$store.state.workspace.freezed},isEmbed:function(){return this.$store.state.workspace.isEmbed}},methods:{onVideoClick:function(){Date.now()>this.tapTimeout&&setTimeout(this.videoClick,251),this.tapTimeout=Date.now()+250},videoClick:function(){var t=this;if(!(this.isWorkspaceFrozen||this.isEmbed||Date.now()<this.tapTimeout||this.hasError)){if(this.isPublisher)return void this.$root.$emit("video",{action:"publisher",url:this.apiVideoUrl});if(this.$emit("video:click",this),this.isInline)return this.playerPromise.then(function(){t.playerLoaded=!0}),this.isPlayerShown=!0,void this.$nextTick(function(){this.bindEvents()});this.isModalShown=!0,this.$nextTick(function(){var t=this;this.$refs.modalWindow.show(),this.$nextTick(function(){this.bindEvents()}),this.$refs.modalWindow.$once("hidden",function(){t.isModalShown=!1,t.isPlaying=!1,t.$emit("video:close",t),t.$root.$emit("video",{action:"close",url:t.apiVideoUrl}),t.unbindEvents()})})}},playPause:function(t){t.preventDefault(),this.isPlaying?this.$refs.player.pause():this.$refs.player.play()},getVideoInfo:function(t){var e=/https?:\/\/(?:www\.)?youtu\.?be\/?(?:\.com\/)?(?:embed\/)?(?:watch\?v=)?([a-zA-Z_\-\d]*)(?:\?.*)?/,i=/https?:\/\/(?:www)?(?:player)?\.?(?:vimeo\.com\/)(?:video\/)?(\d*)\/?([a-zA-Z\d]*)?/,r=/https?:\/\/(.*)?(?:\.wistia\.com|fast\.wistia\.net)\/(?:medias|embed\/iframe)\/(.*)/,n=void 0,o=e.exec(t);o&&o.length>1&&(n={provider:"youtube",id:o[1]});var a=i.exec(t);a&&a.length>1&&(n={provider:"vimeo",id:a[1],accessKey:a[2]});var s=r.exec(t);return s&&s.length>1&&(n={provider:"wistia",id:s[2]},s[1]&&(n.account=s[1])),(0,S.default)(this.data,n)},currentPageChanged:function(t){t||this.$emit("pause")},bindEvents:function(){var t=this;this.$refs.player.$on("play",function(e,i){t.isPlaying=!0,t.showPreventer=!0,t.$emit("video:play",e,t,i),t.$root.$emit("video",{action:"play",url:t.apiVideoUrl,time:e})}),this.$refs.player.$on("pause",function(e,i){t.isPlaying=!1,t.$emit("video:pause",e,t,i),t.$root.$emit("video",{action:"pause",url:t.apiVideoUrl,time:e})}),this.$refs.player.$on("end",function(e,i){t.isPlaying=!1,t.$emit("video:end",e,t,i),t.$root.$emit("video",{action:"stop",url:t.apiVideoUrl,time:e})}),this.$refs.player.$on("ended",function(e,i){t.isPlaying=!1,t.$emit("video:end",e,t,i),t.$root.$emit("video",{action:"stop",url:t.apiVideoUrl,time:e})}),this.$refs.player.$on("seek",function(e,i){t.$emit("video:seek",e,t,i),t.$root.$emit("video",{action:"seekTo",url:t.apiVideoUrl,time:e})}),this.$refs.player.$on("seeked",function(e,i){t.$emit("video:seek",e,t,i),t.$root.$emit("video",{action:"seekTo",url:t.apiVideoUrl,time:e})}),this.$refs.player.$on("error",function(e,i){if("PasswordError"===e.name||"PrivacyError"===e.name)return void(t.showPreventer=!1);t.$emit("video:error",e,t,i),t.isModalShown=!1,t.isPlayerShown=!1,t.playerLoaded=!1,t.isPlaying=!1,t.hasError=!0}),this.$refs.player.$on("loaded",function(e,i){t.showPreventer=!0,t.$emit("video:loaded",e,t,i)}),this.$refs.player.$on("ready",function(){t.resolvePlayer()})},unbindEvents:function(){this.$refs.player&&(this.$refs.player.$off("play"),this.$refs.player.$off("pause"),this.$refs.player.$off("end"),this.$refs.player.$off("ended"),this.$refs.player.$off("seek"),this.$refs.player.$off("seeked"),this.$refs.player.$off("error"),this.$refs.player.$off("loaded"),this.$refs.player.$off("ready"))}},components:{svgicon:b,youtube:c.default,vimeo:d.default,wistia:p.default,"modal-window":m.default}}},function(t,e,i){"use strict";function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0});var n,o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},a=i(340),s=function(t){return t&&t.__esModule?t:{default:t}}(a),l=0,u=(n={},r(n,-1,"unstarted"),r(n,1,"play"),r(n,2,"pause"),r(n,0,"ended"),r(n,3,"buffering"),r(n,5,"cued"),n);e.default={name:"youtube-player",props:{id:{type:[String],required:!1},url:{type:[String],required:!1},embedUrl:{type:[String],required:!1},accessKey:{type:[String],required:!1},height:{type:[Number,String],default:null},width:{type:[Number,String],default:null},autoplay:{default:!1},mute:{default:!1},start:{default:null},options:{type:Object,default:function(){return{}}},isCurrentPage:{default:!1},isIos:{default:!1}},watch:{id:"update",width:"setSize",height:"setSize",mute:"setMute",isCurrentPage:function(t){t&&this.autoplay&&!this.isPaused&&this.play()}},data:function(){return l+=1,{elementId:"youtube-player-"+l,player:{},isPaused:!1}},methods:{play:function(){return this.player.playVideo()},pause:function(){return this.isPaused=!0,this.player.pauseVideo()},stop:function(){return this.player.stopVideo()},update:function(t){this.player.loadVideoById({videoId:t})},setSize:function(){this.player.setSize(this.width,this.height)},setMute:function(t){t?this.player.mute():this.player.unMute()},onReady:function(t){var e=this;this.$emit("ready",t.target),this.mute&&this.setMute(!0),this.isIos&&this.start&&this.$once("play",function(){e.player.seekTo(e.start,!0)})},emitStateChange:function(t){var e=this;if(null!==t.data&&-1!==t.data){var i=void 0,r=this.player.getCurrentTime();"function"==typeof r.then?r.then(function(r){i=Math.round(r),e.$emit(u[t.data],i,e.player)}):(i=Math.round(r),this.$emit(u[t.data],i,this.player))}},emitError:function(t){this.$emit("error",t,this.player)}},mounted:function(){window.YTConfig={host:"https://www.youtube.com"};var t={autoplay:this.autoplay&&this.isCurrentPage?"1":"0",rel:"0",modestbranding:"1"};!this.isIos&&this.start&&(t.start=this.start),this.player=(0,s.default)(this.$refs.playerMount,{videoId:this.id,width:this.width,height:this.height,playerVars:o(t,this.options)}),this.player.on("ready",this.onReady),this.player.on("stateChange",this.emitStateChange),this.player.on("error",this.emitError),this.$parent.$on("play",this.play),this.$parent.$on("stop",this.stop),this.$parent.$on("pause",this.pause)},beforeDestroy:function(){null!==this.player&&this.player.destroy&&(this.player.destroy(),delete this.player)}}},function(t,e,i){"use strict";function r(t){var e=this;this.player.on(t,function(i){var r=i.seconds?i.seconds:i;e.$emit(t,r,e.player)})}Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},o=i(356),a=function(t){return t&&t.__esModule?t:{default:t}}(o),s=0,l=["play","pause","ended","seeked","error","loaded"];e.default={name:"vimeo-player",props:{id:{type:[String],required:!1},url:{type:[String],required:!1},embedUrl:{type:[String],required:!1},accessKey:{type:[String],required:!1},width:{type:[String,Number],default:null},height:{type:[String,Number],default:null},mute:{default:!1},autoplay:{default:!1},start:{default:null},options:{default:function(){return{}}},isCurrentPage:{default:!1}},render:function(t){return t("div",{attrs:{class:"vimeo-player player",id:this.elementId}})},watch:{id:"update",mute:"setMute",width:"setSize",height:"setSize",isCurrentPage:function(t){t&&this.autoplay&&!this.isPaused&&this.play()}},data:function(){return s+=1,{elementId:"vimeo-player-"+s,player:null,isPaused:!1}},methods:{play:function(){return this.player.play().catch(this.error)},pause:function(){return this.isPaused=!0,this.player.pause().catch(this.error)},stop:function(){return this.player.pause().catch(this.error)},update:function(t){return this.player.loadVideo(t).catch(this.error)},setMute:function(t){t?this.player.setVolume(0).catch(this.error):this.player.setVolume(.5).catch(this.error)},setSize:function(){this.player.element&&(this.player.element.width=this.width,this.player.element.height=this.height)},init:function(){var t=this;this.player.ready().then(function(){t.start&&t.player.setCurrentTime(t.start).then(function(){t.autoplay||t.player.pause()}),t.$emit("ready",t.player),l.forEach(function(e){return r.call(t,e)})}).catch(this.error)},error:function(t){var e=this;"PasswordError"!==t.name&&"PrivacyError"!==t.name||this.player.element&&(this.$nextTick(function(){this.player.element.focus()}),setTimeout(function(){e.player.element.focus()},100)),this.$emit("error",t,this.player)}},mounted:function(){var t={width:this.width,height:this.height,autoplay:this.autoplay&&this.isCurrentPage,muted:this.mute,playsinline:!0};this.accessKey?t.url="https://www.vimeo.com/"+this.id+"/"+this.accessKey:this.embedUrl?t.url=this.embedUrl:t.id=this.id,this.player=new a.default(this.$el,n(t,this.options)),this.init(),this.$parent.$on("play",this.play),this.$parent.$on("stop",this.stop),this.$parent.$on("pause",this.pause)},beforeDestroy:function(){this.player&&this.player.unload().catch(function(){})}}},function(t,e,i){"use strict";function r(t){var e=this;this.player.bind(t,function(){var i=Math.round(e.player.time());e.$emit(t,i,e.player)})}Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},o=i(358),a=function(t){return t&&t.__esModule?t:{default:t}}(o),s=i(105),l=0,u=["play","pause","end","seek"];e.default={name:"wistia-player",props:{id:{type:[String],required:!1},url:{type:[String],required:!1},embedUrl:{type:[String],required:!1},accessKey:{type:[String],required:!1},width:{type:[String,Number],default:null},height:{type:[String,Number],default:null},mute:{default:!1},autoplay:{default:!1},start:{default:null},options:{default:function(){return{}}},isCurrentPage:{default:!1}},watch:{id:"update",mute:"updateVolume",isCurrentPage:function(t){t&&this.autoplay&&!this.isPaused&&this.play()},height:function(t){this.player.height(t)},width:function(t){this.player.width(t)}},data:function(){return l+=1,{elementId:"wistia-player-"+l,player:null,isPaused:!1}},methods:{play:function(){return this.player.play()},pause:function(){return this.isPaused=!0,this.player.pause()},stop:function(){return this.player.pause()},update:function(t){return this.player.replaceWith(t)},updateVolume:function(t){t?this.player.volume(0):this.player.volume(.7)},onAPILoaded:function(){var t=this,e=this,i={autoPlay:this.autoplay&&this.isCurrentPage,silentAutoPlay:!1,googleAnalytics:!1,videoFoam:!1,volume:this.mute?0:.7};this.start&&(i.time=(0,s.secondToTimeFormat)(this.start));var o={id:this.elementId,options:n(i,this.options),onEmbedded:function(t){e.player=t,u.forEach(function(t){return r.call(e,t)})},onReady:function(i){i.width(t.width),i.height(t.height),e.$emit("ready",i),e.$parent.$on("play",e.play),e.$parent.$on("stop",e.stop),e.$parent.$on("pause",e.pause)}};window._wq=window._wq||[],window._wq.push(o)}},mounted:function(){window.Wistia?this.onAPILoaded():(0,a.default)("https://fast.wistia.com/assets/external/E-v1.js",this.onAPILoaded)},beforeDestroy:function(){this.player&&"function"==typeof this.player.remove&&this.player.remove()}}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(110),o=r(n),a=i(367),s=r(a),l=i(374),u=r(l),c=i(378),h=r(c),d=i(379),f=r(d),p={"content-link":h.default,"content-video":f.default,"content-block":h.default,"content-gallery":h.default,"content-gif":h.default,"content-image":h.default};e.default={name:"flat-book",props:{"container-size":Object,"book-size":Object,"page-size":Object},components:{page:o.default,"left-nav-button":s.default,"right-nav-button":u.default},watch:{pageSize:function(t){this.$store.dispatch("pages/changePageSize",t)}},computed:{bookStyle:function(){var t=this.pagesMultiplier;return{width:this.pageSize.width*t+"px",height:this.pageSize.height+"px"}},isWide:function(){var t=this.$store.getters["pager/state"],e=t.singleMode?t.rightPage:t.leftPage;return this.$store.getters["pages/pageProp"](e,"wide")},isRtl:function(){return this.$store.state.book.rightToLeft},pagesMultiplier:function(){return this.$store.getters["pager/state"].singleMode?1:this.isWide?2:this.currentPages.length},currentPages:function(){var t=[],e=this.$store.getters["pager/state"];if(e.singleMode&&e.rightPage){var i=void 0;this.isWide&&e.leftPage===e.rightPage?i="right":this.isWide&&(i="left"),t.push({id:e.rightPage,side:i})}else(e.leftPage||e.rightPage)&&(e.leftPage&&t.push({id:e.leftPage,side:"both"}),e.rightPage&&e.leftPage!==e.rightPage&&t.push({id:e.rightPage,side:"both"}));return t},isFirstPage:function(){var t=this.$store.getters["pager/state"];return this.$store.getters["pages/isFirstPage"](t.leftPage)||this.$store.getters["pages/isFirstPage"](t.rightPage)},isLastPage:function(){var t=this.$store.getters["pager/state"];return this.$store.getters["pages/isLastPage"](t.leftPage)||this.$store.getters["pages/isLastPage"](t.rightPage)},showLeftButton:function(){return this.isRtl?!this.isLastPage:!this.isFirstPage},showRightButton:function(){return this.isRtl?!this.isFirstPage:!this.isLastPage},navBgInteractive:function(){return!this.$store.getters["content/hasSelected"]()}},methods:{onLeftNavButtonClick:function(){this.isRtl?this.$behavior("onNextPageAreaClick"):this.$behavior("onPrevPageAreaClick")},onRightNavButtonClick:function(){this.isRtl?this.$behavior("onPrevPageAreaClick"):this.$behavior("onNextPageAreaClick")},onLeftNavButtonArrowClick:function(t){t.stopPropagation(),this.isRtl?this.$behavior("onNextPageArrowClick"):this.$behavior("onPrevPageArrowClick")},onRightNavButtonArrowClick:function(t){t.stopPropagation(),this.isRtl?this.$behavior("onPrevPageArrowClick"):this.$behavior("onNextPageArrowClick")},contentCreator:function(t){return t.type,p["content-"+t.type]}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(180),n=function(t){return t&&t.__esModule?t:{default:t}}(r),o=i(98),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(o);i(373),e.default={extends:n.default,components:{svgicon:a},data:function(){return{modifier:"prev"}}}},function(t,e,i){"use strict";function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{onClick:{type:Function,required:!0},onArrowClick:{type:Function,required:!1,default:function(){return null}},backgroundInteractive:{type:Boolean,default:!0}},computed:{className:function(){return r({"nav-button":!0},"nav-button-"+this.modifier,!0)},containerClassName:function(){return{"btn-container":!0,"non-interactive":!this.backgroundInteractive}},arrowClassName:function(){return r({"nav-arrow":!0},"nav-arrow-"+this.modifier,!0)},arrowIconName:function(){return"book-"+this.modifier}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(180),n=function(t){return t&&t.__esModule?t:{default:t}}(r),o=i(98),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(o);i(377),e.default={extends:n.default,components:{svgicon:a},data:function(){return{modifier:"next"}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(103),n=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default={extends:n.default,name:"content-null",render:function(){}}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(102),o=r(n),a=i(136),s=r(a),l=i(382),u=r(l),c=i(391),h=r(c),d=o.default.extend({extends:s.default,name:"content-video-placeholder",computed:{containerClasses:function(){return"video-placeholder"},containerStyle:function(){return""}},beforeMount:function(){this.$emit("ready",this)},methods:{onVideoClick:function(){}}});e.default={extends:h.default,name:"selectable-video",components:{videoPlaceholder:d,vdrn:u.default},computed:{classes:function(){return{"selectable-video":!0,selected:this.selected}}}}},function(t,e,i){"use strict";function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},o=i(385),a=i(100);e.default={name:"vdr-n",props:{draggable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!1},w:{type:Number,default:200,validator:function(t){return t>0}},h:{type:Number,default:200,validator:function(t){return t>0}},minw:{type:Number,default:0,validator:function(t){return t>0}},minh:{type:Number,default:0,validator:function(t){return t>0}},x:{type:Number,default:0,validator:function(t){return"number"==typeof t}},y:{type:Number,default:0,validator:function(t){return"number"==typeof t}},parent:{type:Boolean,default:!0},preserveAspectRatio:{type:Boolean,required:!1,default:!0},active:{type:Boolean,required:!1,default:!1}},mounted:function(){this.libInit()},beforeDestroy:function(){this.libDestroy()},data:function(){return{resizing:!1,dragging:!1,minWidth:this.minw,minHeight:this.minh,keepAspectRatio:this.preserveAspectRatio}},computed:{className:function(){return{"vdr-n":!0,active:this.active,resizable:this.resizable,draggable:this.draggable}}},methods:{libInit:function(){var t=this;if(this.draggable&&(this.draggableEl=new o.Draggable(this.$el,{container:this.parent?this.$el.parentNode:void 0,onDragStart:this.dragStartListener,onDragEnd:this.dragEndListener,onMouseDown:this.mouseDownListener,onMouseUp:this.mouseUpListener})),this.resizable){var e=["left","right","top","bottom","topLeft","topRight","bottomRight","bottomLeft"],i=e.reduce(function(e,i){return n({},e,r({},i,t.$refs["handle-"+i]))},{});this.resizableEl=new o.Resizable(this.$el,{container:this.parent?this.$el.parentNode:void 0,keepAspectRatio:this.keepAspectRatio,minSize:{width:this.minWidth,height:this.minHeight},onResize:this.resizeListener,onResizeStart:this.resizeStartListener,onResizeEnd:this.resizeEndListener,onMouseDown:this.mouseDownListener,onMouseUp:this.mouseUpListener,handles:i})}this.$el.style.zIndex=this.zIndex,this.updateStyle({top:this.y,left:this.x,width:this.w,height:this.h})},libDestroy:function(){this.draggableEl&&this.draggableEl.destroy(),this.resizableEl&&this.resizableEl.destroy()},mouseDownListener:function(){this.$emit("onMouseDown"),this.$el.style.display="none",document.body.style.userSelect="none"},mouseUpListener:function(){this.$emit("onMouseUp")},resizeStartListener:function(){this.$emit("onResizeStart")},resizeListener:function(t){var e=t.ghost,i=t.rect,r=Math.min(.5*i.width,.5*i.height).toFixed(0)+"px",n=e.querySelector(".play-button");n&&(n.style.maxWidth=r,n.style.maxHeight=r);var o=this.$el.querySelector(".play-button");o&&(o.style.maxWidth=r,o.style.maxHeight=r)},resizeEndListener:function(t){var e=t.rect,i=e.top,r=e.left,n=e.width,o=e.height;this.updateStyle({top:i,left:r,width:n,height:o}),this.$el.style.display="",document.body.style.userSelect="",this.$emit("onResizeStop",{top:i,left:r,width:n,height:o})},dragStartListener:function(){this.$emit("onDragStart")},dragEndListener:function(t){var e=t.rect,i=e.top,r=e.left;this.updateStyle({top:i,left:r}),this.$el.style.display="",document.body.style.userSelect="",this.$emit("onDragStop",{top:i,left:r})},updateStyle:function(t){var e=t.top,i=t.left,r=t.width,n=t.height;(0,a.isUndefined)(e)||(this.$el.style.top=Math.round(e)+"px"),(0,a.isUndefined)(i)||(this.$el.style.left=Math.round(i)+"px"),(0,a.isUndefined)(r)||(this.$el.style.width=Math.round(r)+"px"),(0,a.isUndefined)(n)||(this.$el.style.height=Math.round(n)+"px")}},watch:{x:function(t){this.updateStyle({left:t})},y:function(t){this.updateStyle({top:t})},w:function(t){this.updateStyle({width:t})},h:function(t){this.updateStyle({height:t})},minw:function(t){this.minWidth=t,this.libDestroy(),this.libInit()},minh:function(t){this.minHeight=t,this.libDestroy(),this.libInit()},preserveAspectRatio:function(t){this.keepAspectRatio=t,this.libDestroy(),this.libInit()}}}},function(t,e,i){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var n=i(100),o=i(103),a=function(t){return t&&t.__esModule?t:{default:t}}(o);e.default={extends:a.default,name:"resizeable-base",props:{resize:{default:!0}},computed:{selected:function(){return this.$store.getters["content/isSelected"]({contentId:this.data.itemId})},containerStyle:function(){var t={};return this.resize?t={width:"100%",height:"100%"}:this.data.style?t=this.data.style:(t={width:this.containerRect.width+"px",height:this.containerRect.height+"px",left:this.containerRect.left+"px",top:this.containerRect.top+"px"},this.data.zIndex&&(t.zIndex=this.data.zIndex),(0,n.isUndefined)(this.data.angle)||0!==this.data.angle&&(t.transformOrigin="0px 0px 0px",t.transform="rotate("+this.data.angle+"rad)")),t},minDimensions:function(){var t=this.$behavior("contentMinSize")||30;return{height:Math.round(t*this.data.scaleRatio.h),width:Math.round(t*this.data.scaleRatio.w)}},vdrStyle:function(){var t={};return this.data.zIndex&&(t.zIndex=this.data.zIndex),(0,n.isUndefined)(this.data.angle)||0!==this.data.angle&&(t.transformOrigin="0px 0px 0px",t.transform="rotate("+this.data.angle+"rad)"),t}},methods:{onContentClick:function(){this.$behavior("onContentClick",{itemId:this.data.itemId,type:"video",contentData:this.data})},selectMe:function(){this.$el.focus(),this.$store.dispatch("content/select",this.data.itemId)},onMouseDown:function(){this.selectMe(),this.onContentClick()},onMouseUp:function(){},onResizeStart:function(){},onDragStart:function(){},onDragStop:function(t){var e=t.left,i=t.top,n=[].concat(r(this.data.rect)),o=[this.data.rect[0],this.data.rect[1],Math.round(e/this.data.scaleRatio.w),Math.round(i/this.data.scaleRatio.h)];n.every(function(t,e){return t===o[e]})||(this.$store.dispatch("content/update",{itemId:this.data.itemId,updateData:{rect:o}}),this.$behavior("onDrag",{prevRect:n,newRect:o,itemId:this.data.itemId}))},onResizeStop:function(t){var e=t.left,i=t.top,n=t.width,o=t.height;if(0!==n&&0!==o){var a=[].concat(r(this.data.rect)),s=[Math.round(n/this.data.scaleRatio.w),Math.round(o/this.data.scaleRatio.h),Math.round(e/this.data.scaleRatio.w),Math.round(i/this.data.scaleRatio.h)];a.every(function(t,e){return t===s[e]})||(this.$store.dispatch("content/update",{itemId:this.data.itemId,updateData:{rect:s}}),this.$behavior("onResize",{prevRect:a,newRect:s,itemId:this.data.itemId}))}}}}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(127),o=r(n),a=i(107),s=i(115),l=r(s),u=i(110),c=r(u),h=i(174),d=r(h),f=i(175),p=r(f),g=i(176),m=r(g),v=i(178),b=r(v),y=i(179),S=r(y),_=i(136),w=r(_),P=i(106),E={"content-block":d.default,"content-link":p.default,"content-image":m.default,"content-gallery":b.default,"content-gif":S.default,"content-video":w.default};e.default={name:"slide-book",props:{"container-size":Object,"page-size":Object},components:{page:c.default},data:function(){return{status:"init",zoomFactor:1,scaleFactor:1,slideScrollTop:0,slideScrollLeft:0,slideScrollY:0,slideScrollX:0,scaleOrigin:{x:0,y:0},delta:0,slidesCache:{}}},mounted:function(){this.slidesCacheUpdate(),this.status="ready",this.pendingSlide=null,this.highlightContent()},watch:{pageSize:function(t){t.width=t.width*this.zoomFactor,t.height=t.height*this.zoomFactor,this.$store.dispatch("pages/changePageSize",t),this.slidesCacheUpdate()},zoomFactor:function(t){var e={width:this.pageSize.width,height:this.pageSize.height};e.width=e.width*t,e.height=e.height*t,this.$store.dispatch("pages/changePageSize",e),this.refreshScroll()},status:function(){this.refreshScroll()},slides:function(t,e){var i=this;if(this.scrollLock)return void(this.scrollLock=!1);var r=this.$store.getters["pages/pageIndexById"](t.current[0].id),n=this.$store.getters["pages/pageIndexById"](e.current[0].id);t.current[0].wide&&t.current[0].side===(this.isRtl?"left":"right")&&r++,e.current[0].wide&&e.current[0].side===(this.isRtl?"left":"right")&&n++;var o=r-n;!this.isSingleMode&&(e.current[0].wide||2===e.current.length)&&o>0&&o--,!this.isSingleMode&&(t.current[0].wide||2===t.current.length)&&o<0&&o++;var a=Math.abs(o)>1;!this.isRtl&&o>0||this.isRtl&&o<0?this.isZoomed?(this.pendingSlide="right",this.zoomOut()):this.$nextTick(function(){i.animateSlides("right",a,!0)}):(!this.isRtl&&o<0||this.isRtl&&o>0)&&(this.isZoomed?(this.pendingSlide="left",this.zoomOut()):this.$nextTick(function(){i.animateSlides("left",a,!0)}))},workspaceSize:function(){this.zoomOut()}},computed:{isFirstPage:function(){return this.$store.getters["pager/isFirstPage"]},isLastPage:function(){return this.$store.getters["pager/isLastPage"]},isRightmostPage:function(){return this.isFirstPage&&this.isRtl||this.isLastPage&&!this.isRtl},isLeftmostPage:function(){return this.isLastPage&&this.isRtl||this.isFirstPage&&!this.isRtl},isRtl:function(){return this.$store.state.book.rightToLeft},isSingleMode:function(){return this.$store.state.pager.singleMode},isZoomed:function(){return 1!==this.zoomFactor},slides:function(){var t={},e=this.$store.getters["pager/nextPageId"],i=this.$store.getters["pager/prevPageId"],r=this.isRtl?e:i,n=this.isRtl?i:e;if(this.isSingleMode){t.current=[];var o=this.$store.state.pager.rightPage,a=this.$store.getters["pages/pageProp"](o,"wide"),s=a?o===r?"right":"left":"both";if(t.current.push({id:o,side:s,wide:a,position:""}),r){t.left=[];var l=this.$store.getters["pages/pageProp"](r,"wide"),u=l?o===r?"left":"right":"both";t.left.push({id:r,side:u,wide:l,position:""})}if(n){t.right=[];var c=this.$store.getters["pages/pageProp"](n,"wide"),h=c?o===n?"right":"left":"both";t.right.push({id:n,side:h,wide:c,position:""})}}else{t.current=[];var d=this.isRtl?"right":"left",f=this.isRtl?"left":"right",p=this.$store.getters["pager/state"],g=this.$store.getters["pages/pageProp"](p.leftPage||p.rightPage,"wide");if(p.leftPage&&t.current.push({id:p.leftPage,wide:g,side:"both",position:d}),p.rightPage&&p.leftPage!==p.rightPage&&t.current.push({id:p.rightPage,wide:g,side:"both",position:f}),r){t.left=[];var m=this.$store.getters["pager/stateByPageId"](r),v=this.$store.getters["pages/pageProp"](r,"wide");m.leftPage&&t.left.push({id:m.leftPage,wide:v,side:"both",position:d}),m.rightPage&&m.leftPage!==m.rightPage&&t.left.push({id:m.rightPage,wide:v,side:"both",position:f})}if(n){t.right=[];var b=this.$store.getters["pager/stateByPageId"](n),y=this.$store.getters["pages/pageProp"](n,"wide");b.leftPage&&t.right.push({id:b.leftPage,wide:y,side:"both",position:d}),b.rightPage&&b.leftPage!==b.rightPage&&t.right.push({id:b.rightPage,wide:y,side:"both",position:f})}}return t},fitPageSize:function(){return(0,a.fit)(this.pageSize,this.containerSize)},fitDoublePageSize:function(){return(0,a.fit)({width:2*this.pageSize.width,height:this.pageSize.height},this.containerSize)},fitSinglePageSize:function(){return{width:this.fitDoublePageSize.width/2,height:this.fitDoublePageSize.height,top:this.fitDoublePageSize.top,left:(this.containerSize.width-this.fitDoublePageSize.width/2)/2}},pageSizes:function(){var t={},e=this.fitPageSize,i=this.fitDoublePageSize,r=this.fitSinglePageSize,n=this.slidesCache.current[0].wide;if(t.current={width:Math.round((this.isSingleMode?e.width:n?i.width:r.width)*this.zoomFactor),height:Math.round((this.isSingleMode?e.height:n?i.height:r.height)*this.zoomFactor)},this.slidesCache.left){var o=this.slidesCache.left[0].wide;t.left={width:Math.round(this.isSingleMode?e.width:o?i.width:r.width),height:Math.round(this.isSingleMode?e.height:o?i.height:r.height)}}if(this.slidesCache.right){var a=this.slidesCache.right[0].wide;t.right={width:Math.round(this.isSingleMode?e.width:a?i.width:r.width),height:Math.round(this.isSingleMode?e.height:a?i.height:r.height)}}return t},spreadSizes:function(){var t={},e=2===this.slidesCache.current.length||this.slidesCache.current[0].wide;if(t.current={width:this.pageSizes.current.width*this.slidesCache.current.length,height:this.pageSizes.current.height,left:this.isZoomed?this.slideScrollLeft:this.isSingleMode?this.fitPageSize.left:e?this.fitDoublePageSize.left:this.fitSinglePageSize.left,top:this.isZoomed?this.slideScrollTop:this.isSingleMode?this.fitPageSize.top:e?this.fitDoublePageSize.top:this.fitSinglePageSize.top},this.slidesCache.left){var i=2===this.slidesCache.left.length||this.slidesCache.left[0].wide;t.left={width:this.pageSizes.left.width*this.slidesCache.left.length,height:this.pageSizes.left.height,left:this.isSingleMode?this.fitPageSize.left:i?this.fitDoublePageSize.left:this.fitSinglePageSize.left,top:this.isSingleMode?this.fitPageSize.top:i?this.fitDoublePageSize.top:this.fitSinglePageSize.top}}if(this.slidesCache.right){var r=2===this.slidesCache.right.length||this.slidesCache.right[0].wide;t.right={width:this.pageSizes.right.width*this.slidesCache.right.length,height:this.pageSizes.right.height,left:this.isSingleMode?this.fitPageSize.left:r?this.fitDoublePageSize.left:this.fitSinglePageSize.left,top:this.isSingleMode?this.fitPageSize.top:r?this.fitDoublePageSize.top:this.fitSinglePageSize.top}}return t},spreadStyles:function(){var t={};return t.current={width:this.spreadSizes.current.width+"px",height:this.spreadSizes.current.height+"px",left:this.isZoomed?this.containerSize.width>=this.spreadSizes.current.width?Math.round(this.spreadSizes.current.left)+"px":0:Math.round(this.spreadSizes.current.left)+"px",top:this.isZoomed?this.containerSize.height>=this.spreadSizes.current.height?Math.round(this.spreadSizes.current.top)+"px":0:Math.round(this.spreadSizes.current.top)+"px",transformOrigin:Math.round(this.scaleOrigin.x)+"px "+Math.round(this.scaleOrigin.y)+"px",transition:"animating"===this.status?["-webkit-transform "+this.zoomAnimationSpeed+"ms","transform "+this.zoomAnimationSpeed+"ms"]:["-webkit-transform 0ms","transform 0ms"]},"pinch"!==this.status&&"animating"!==this.status?t.current.transform="":0!==this.slideScrollTop||0!==this.slideScrollLeft?t.current.transform="translate3d("+(this.containerSize.width<this.spreadSizes.current.width?Math.round(this.slideScrollLeft):0)+"px,"+(this.containerSize.height<this.spreadSizes.current.height?Math.round(this.slideScrollTop):0)+"px, 0) scale("+this.scaleFactor.toFixed(2)+")":t.current.transform="scale("+this.scaleFactor.toFixed(2)+")",this.slidesCache.left&&(t.left={width:this.spreadSizes.left.width+"px",height:this.spreadSizes.left.height+"px",left:Math.round(this.spreadSizes.left.left)+"px",top:Math.round(this.spreadSizes.left.top)+"px"}),this.slidesCache.right&&(t.right={width:this.spreadSizes.right.width+"px",height:this.spreadSizes.right.height+"px",left:Math.round(this.spreadSizes.right.left)+"px",top:Math.round(this.spreadSizes.right.top)+"px"}),t},slideStyles:function(){var t={};return t.current={transform:"translate3d("+Math.round(this.slideOffsets.current)+"px, 0, 0)"},this.slidesCache.left&&(t.left={transform:"translate3d("+Math.round(this.slideOffsets.left)+"px, 0, 0)"}),this.slidesCache.right&&(t.right={transform:"translate3d("+Math.round(this.slideOffsets.right)+"px, 0, 0)"}),t},slideOffsets:function(){return{current:this.delta,left:-this.maxDelta+this.delta,right:this.maxDelta+this.delta}},maxDelta:function(){return parseInt(this.containerSize.width,10)},maxZoom:function(){return 5},zoomAnimationSpeed:function(){return 400},slideAnimationSpeed:function(){return 400},isWorkspaceFrozen:function(){return this.$store.state.workspace.freezed},workspaceSize:function(){return this.$store.state.workspace.size},isEmbed:function(){return this.$store.state.workspace.isEmbed}},methods:{onTap:function(t){if(!this.isWorkspaceFrozen&&"ready"===this.status){var e=!1,i=void 0;if(t.target&&"block"===t.target.className){var r=t.target.getAttribute("data-id");if(r!==this.lastZoomBlockID){e=!0,this.isZoomed&&(this.containerSize.width<this.spreadSizes.current.width&&(this.slideScrollLeft=this.slideScrollX),this.containerSize.height<this.spreadSizes.current.height&&(this.slideScrollTop=this.slideScrollY)),this.lastZoomBlockID=r;var n=t.target.getBoundingClientRect(),o=this.spreadSizes.current;i={width:n.width>o.width+o.left-n.left?o.width+o.left-n.left:n.width,height:n.height,left:n.left-o.left,top:n.top-o.top},i.left<0&&(i.width=i.width+i.left,i.left=0)}else this.lastZoomBlockID=null}else this.lastZoomBlockID=null;if(e){var a=1*(.96*this.containerSize.width/i.width).toFixed(2);1*(this.zoomFactor*a).toFixed(2)>this.maxZoom?this.scaleFactor=this.maxZoom/this.zoomFactor:this.scaleFactor=a}else this.scaleFactor=1!==this.zoomFactor?Math.min(this.containerSize.width/(this.spreadSizes.current.width*(!this.isFirstPage&&!this.isLastPage||this.isSingleMode?1:2)),this.containerSize.height/this.spreadSizes.current.height):2;var s=this.getNewBounds(this.spreadSizes.current,this.scaleFactor,{x:t.center.x-this.spreadSizes.current.left,y:t.center.y-this.spreadSizes.current.top});if(e){var l=i.left*this.scaleFactor,u=i.width*this.scaleFactor;s.left=-l+(this.containerSize.width-u)/2}s.height<this.containerSize.height?s.top=(this.containerSize.height-s.height)/2:s.top>0?s.top=0:s.height+s.top<this.containerSize.height&&(s.top=this.containerSize.height-s.height),s.width<this.containerSize.width?s.left=(this.containerSize.width-s.width)/2:s.left>0?s.left=0:s.width+s.left<this.containerSize.width&&(s.left=this.containerSize.width-s.width),this.scaleOrigin=this.getOrigin(this.spreadSizes.current,s,this.scaleFactor),this.newBounds=s,this.status="animating",this.refreshScroll(),this.scaleFactor>1?this.$root.$emit("zoomed"):this.scaleFactor<1&&this.$root.$emit("unzoomed")}},onTransitionEnd:function(){"animating"===this.status&&(this.zoomFactor=1*(this.zoomFactor*this.scaleFactor).toFixed(2),this.slideScrollLeft=this.isZoomed?this.newBounds.left:0,this.slideScrollTop=this.isZoomed?this.newBounds.top:0,this.status="ready"),this.pendingSlide&&(this.updatePendingSlide(),this.animateSlides(this.pendingSlide,!1,!0),this.pendingSlide=null)},onPinchStart:function(t){this.isWorkspaceFrozen||"ready"!==this.status||(this.minScale=Math.min(this.containerSize.width/this.spreadSizes.current.width,this.containerSize.height/this.spreadSizes.current.height),this.scaleFactor=1,this.isZoomed?(this.containerSize.width<this.spreadSizes.current.width&&(this.slideScrollLeft=this.slideScrollX),this.containerSize.height<this.spreadSizes.current.height&&(this.slideScrollTop=this.slideScrollY),this.scaleOrigin={x:t.center.x-this.slideScrollLeft,y:t.center.y-this.slideScrollTop}):this.scaleOrigin={x:t.center.x-this.spreadSizes.current.left,y:t.center.y-this.spreadSizes.current.top},this.status="pinch")},onPinchMove:function(t){"pinch"===this.status&&(this.scaleFactor=this.minScale<t.scale?t.scale:this.minScale,this.zoomFactor*this.scaleFactor>this.maxZoom&&(this.scaleFactor=this.maxZoom/this.zoomFactor),this.scaleFactor=1*this.scaleFactor.toFixed(2))},onPinchFinish:function(){if("pinch"===this.status){var t=this.getNewBounds(this.spreadSizes.current,this.scaleFactor,this.scaleOrigin);if(t.height<this.containerSize.height?t.top=(this.containerSize.height-t.height)/2:t.top>0?t.top=0:t.height+t.top<this.containerSize.height&&(t.top=this.containerSize.height-t.height),t.width<this.containerSize.width?t.left=(this.containerSize.width-t.width)/2:t.left>0?t.left=0:t.width+t.left<this.containerSize.width&&(t.left=this.containerSize.width-t.width),this.zoomFactor=1*(this.zoomFactor*this.scaleFactor).toFixed(2),this.scaleFactor=1,this.slideScrollLeft=this.isZoomed?t.left:0,this.slideScrollTop=this.isZoomed?t.top:0,this.status="ready",this.zoomFactor<=1.1)return void this.zoomOut();this.scaleFactor>1?this.$root.$emit("zoomed"):this.scaleFactor<1&&this.$root.$emit("unzoomed")}},onPanMove:function(t){var e=this;if(!this.isWorkspaceFrozen&&"ready"===this.status&&!this.isZoomed){if(-1===(0,P.classPath)(t.target).indexOf("w-chrome")){var i=1;(t.deltaX<0&&this.isRightmostPage||t.deltaX>0&&this.isLeftmostPage)&&(i=.3),window.requestAnimationFrame(function(){e.delta=t.deltaX*i})}}},onPanEnd:function(t){if(!this.isWorkspaceFrozen&&"ready"===this.status&&!this.isZoomed){if(-1===(0,P.classPath)(t.target).indexOf("w-chrome")){var e=Math.abs(t.overallVelocityX).toPrecision(2),i=Math.abs(t.deltaX);t.deltaX>0&&!this.isLeftmostPage&&(i>this.maxDelta/3||e>.5)?this.animateSlides("left"):t.deltaX<0&&!this.isRightmostPage&&(i>this.maxDelta/3||e>.5)?this.animateSlides("right"):this.animateSlides("center")}}},zoomOut:function(t){if(1!==this.zoomFactor)return t?(this.status="calculating",this.zoomFactor=1,this.refreshScroll(),this.slideScrollLeft=0,this.slideScrollTop=0,this.status="ready",void this.$root.$emit("unzoomed")):void this.onTap({center:{x:0,y:0}})},goRight:function(){this.scrollLock=!0,this.$store.dispatch(this.isRtl?"pager/goBackward":"pager/goForward",{target:"slide-swipe"})},goLeft:function(){this.scrollLock=!0,this.$store.dispatch(this.isRtl?"pager/goForward":"pager/goBackward",{target:"slide-swipe"})},animateSlides:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n={x:this.delta},a=void 0;switch(t){case"left":a={x:this.maxDelta};break;case"right":a={x:-this.maxDelta};break;case"center":a={x:0}}this.status="sliding",this.$store.dispatch("pager/freeze",{target:"slide-book"}),this.tween=new o.default.Tween(n).to(a,i?0:this.slideAnimationSpeed).easing(o.default.Easing.Sinusoidal.Out).onUpdate(function(){e.delta=n.x}).onComplete(function(){e.$store.dispatch("pager/unfreeze",{target:"slide-book"}),r||("left"===t?e.goLeft():"right"===t&&e.goRight()),e.slidesCacheUpdate(),e.status="ready","center"!==t&&e.highlightContent()}).start()},slidesCacheUpdate:function(){this.slidesCache=this.slides,this.delta=0},updatePendingSlide:function(){this.pendingSlide&&(this.slidesCache[this.pendingSlide]=this.slides.current)},contentCreator:function(t){return E["content-"+t.type]},refreshScroll:function(){var t=this;this.$nextTick(function(){t.isZoomed&&"ready"===t.status?t.iscroll?t.iscroll.refresh():(t.slideScrollX=t.containerSize.width<t.spreadSizes.current.width?Math.round(t.slideScrollLeft):0,t.slideScrollY=t.containerSize.height<t.spreadSizes.current.height?Math.round(t.slideScrollTop):0,t.iscroll=new l.default(t.$refs.wrapper[0],{mouseWheel:!1,scrollbars:!1,freeScroll:!1,scrollX:t.containerSize.width<t.spreadSizes.current.width,scrollY:t.containerSize.height<t.spreadSizes.current.height,probeType:1,bindToWrapper:!0,bounce:!1,useTransition:!0,startX:t.slideScrollX,startY:t.slideScrollY}),t.iscroll.on("scrollEnd",t.onScrollEnd)):t.iscroll&&(t.slideScrollX=0,t.slideScrollY=0,t.iscroll.destroy(),delete t.iscroll)})},onScrollEnd:function(){this.slideScrollX=this.iscroll.x,this.slideScrollY=this.iscroll.y},highlightContent:function(){var t=this;this.$nextTick(function(){t.$refs.current.forEach(function(t){t.checkHighlight()})})},getNewBounds:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0},r={};return r.width=t.width*e,r.height=t.height*e,r.top=t.top+(i.y-i.y*e),r.left=t.left+(i.x-i.x*e),r},getOrigin:function(t,e,i){return{x:(t.left-e.left)/(i-1),y:(t.top-e.top)/(i-1)}}}}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},o=i(151),a=r(o),s=i(407),l=r(s),u=i(107),c=i(111),h=r(c),d=i(106),f=i(100);e.default={data:function(){return{thumbsData:[],scrollTimeout:0,onScroll:!1}},computed:{getScrollPageSize:function(){return this.$children[0].getScrollPageSize()},isRtl:function(){return this.$store.state.book.rightToLeft},title:function(){return this.$i18n.t("ThumbnailsToolWindow.TITLE")},isPreloader:function(){return!this.thumbsArray||0===this.thumbsArray.length&&this.hasPages},icon:function(){return"icon-thumbnails"},tablet:function(){return this.$store.state.workspace.userAgentInfo.device.ipad},thScale:function(){return this.tablet?1:.75},pagerState:function(){return this.$store.getters["pager/state"]},singleMode:function(){return this.pagerState.singleMode},mobileLayout:function(){return"mobile"===this.$store.state.workspace.layout},thumbsArray:function(){return this.thumbsData},thumbSizes:function(){return this.getThumbSizes(!1)},thumbDoubleSizes:function(){return this.getThumbSizes(!0)},sidebarClass:function(){return{slide:this.pagerState.zoomMode,single:this.pagerState.singleMode,tablet:this.tablet,onscroll:this.onScroll,"panel-left":this.mobileLayout}},hasPages:function(){return this.$store.getters["pages/pagesCount"]>0}},methods:{thumbsArrayData:function(){if(!this.hasPages)return[];var t=[],e=void 0;e=this.singleMode?this.pagerState.rightPage:this.pagerState.leftPage?this.pagerState.leftPage:this.pagerState.rightPage,e=this.$store.getters["pages/pageIndexById"](e);var i=[];if(this.singleMode){i=this.thumbSizes;for(var r=0;r<this.$store.state.pages.structure.length;r++){var o=this.$store.state.pages.structure[r];if(null!==o){var a=this.$store.state.pages[o],s={};if(s.id=o,s.index=this.$store.getters["pages/pageIndexById"](s.id),s.index===e&&this.pagerState.rightPage!==this.pagerState.leftPage&&(s.active=!0),s.wide=a.wide,s.caption=this.$store.getters["pages/pageCaptionByIndex"](s.index),s.size=i,s.showPage=!1,s.sm=!0,s.wide){s.side="left",t.push(s);var l=n({},s);l.index=s.index+1,l.active?l.active=!1:s.index===e&&this.pagerState.rightPage===this.pagerState.leftPage&&(l.active=!0),l.caption=this.$store.getters["pages/pageCaptionByIndex"](l.index),l.side="right",t.push(l)}else t.push(s)}}}else{var u=[];u.isActive=!1,u.isWide=!1,i=this.thumbSizes;for(var c=this.thumbDoubleSizes,h=0;h<this.$store.state.pages.structure.length;h++){var d=this.$store.state.pages.structure[h];if(null!==d){var f=this.$store.state.pages[d],p={};p.id=d,p.index=this.$store.getters["pages/pageIndexById"](p.id),p.index===e&&(u.isActive=!0),p.wide=f.wide,p.caption=this.$store.getters["pages/pageCaptionById"](p.id),p.size=p.wide?c:i,p.showPage=!1,p.sm=!1,0===u.length&&p.index%2==0&&0!==p.index||(p.wide&&(u.isWide=!0),u.push(p),(p.wide||p.index%2==0||0===p.index)&&(t.push(u),u=[],u.isActive=!1))}}u&&u.length>0&&t.push(u)}this.thumbsData=t},getWrapperRect:function(t){return{width:(t?220:110)*this.thScale,height:170*this.thScale}},getThumbSizes:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e={width:this.$store.getters["pages/size"].width*(!this.singleMode&&t?2:1),height:1*this.$store.getters["pages/size"].height},i=(0,u.fit)(e,this.getWrapperRect(!this.singleMode&&t));return{width:Math.round(i.width),height:Math.round(i.height)}},checkScroll:function(){if(!(Date.now()<this.scrollTimeout)&&this.hasPages){var t=this.$children[0].iScroll.y,e=15-t,i=-t-25+this.getScrollPageSize.height,r=this.thumbDoubleSizes,n=Math.floor((this.getScrollPageSize.width-20)/(r.width+20)),o=Math.floor(e/(r.height+40))*n,a=Math.ceil(i/(r.height+40))*n,s=0,l=this.thumbsData.length;for(s=o;s<l&&s<a;s++)this.singleMode?this.thumbsData[s].showPage=!0:(this.thumbsData[s][0].showPage=!0,this.thumbsData[s][1]&&(this.thumbsData[s][1].showPage=!0));var u=-1,c=-1;s--,this.singleMode?(u=this.thumbsData[o].index,c=this.thumbsData[s].index):(u=this.thumbsData[o][0].index,c=this.thumbsData[s][0].index,this.thumbsData[s][1]&&(c=this.thumbsData[s][1].index)),this.$store.dispatch("thumbnails/changeRange",{minPage:u,maxPage:c})}},onScrollEnd:function(){this.onScroll=!1,this.scrollTimeout=Date.now()+500,setTimeout(this.checkScroll,500)},onScrollStart:function(){this.onScroll=!0,this.scrollTimeout=Date.now()+500},onClick:function(t){if(!(Date.now()<this.scrollTimeout-300))for(var e=(0,d.composedPath)(t.target),i=0,r=e.length;i<r;i++){var n=e[i].className;if((0,f.isString)(n)&&n.indexOf("th-item-wrapper")>-1){this.$store.dispatch("pager/goToPageById",{id:e[i].getAttribute("data-id"),target:"thumbnails",rightWideHalf:n.indexOf("side-right")>-1}),"mobile"===this.$store.state.workspace.layout&&this.$store.dispatch("sidebar/closeSidebar","thumbnails");break}}}},components:{sidebar:a.default,"th-item":l.default,spinner:h.default},mounted:function(){var t=this;setTimeout(function(){t.thumbsArrayData(),t.$children[0].refresh(),t.$children[0].iScroll.on("scrollEnd",t.onScrollEnd),t.$children[0].iScroll.on("scrollStart",t.onScrollStart),t.$nextTick(function(){var e=t.$el.getElementsByClassName("active")[0];this.$children[0].iScroll.scrollTo(0,1),t.$children[0].scrollToElement({el:e,speed:300}),t.checkScroll()})},100)}}},function(t,e,i){"use strict";function r(t){i(404)}i.r(e);var n=i(152),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);var s=i(406),l=i(99),u=r,c=Object(l.a)(o.a,s.a,s.b,!1,u,null,null);e.default=c.exports},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(115),n=function(t){return t&&t.__esModule?t:{default:t}}(r),o=i(98),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(o);i(153);var s=void 0;e.default={props:["title","icon","footerTitle"],components:{svgicon:a},methods:{close:function(){var t=this,e=0;this.isAndroid&&"search"===this.activeComponent&&(e=1e3,document.activeElement&&"INPUT"===document.activeElement.tagName&&document.activeElement.blur()),setTimeout(function(){t.$store.dispatch("sidebar/closeSidebar")},e)},refresh:function(){this.$nextTick(function(){this.iScroll.refresh()},this)},scrollToElement:function(t){void 0!==t.el&&this.iScroll.scrollToElement(t.el,t.speed,!0,!0)},getScrollPageSize:function(){return this.$refs.scroller.getBoundingClientRect()}},computed:{isAndroid:function(){return this.$store.state.workspace.userAgentInfo.os.android},activeComponent:function(){return this.$store.state.sidebar.opened}},beforeCreate:function(){var t=this;s=function(e){27===e.keyCode&&t.$store.dispatch("sidebar/closeSidebar")},window.addEventListener("keydown",s)},beforeDestroy:function(){window.removeEventListener("keydown",s),s=null},mounted:function(){this.iScroll=new n.default(document.getElementById("scroller"),{mouseWheel:!0,scrollbars:!0,fadeScrollbars:!0,interactiveScrollbars:!0,probeType:0,disablePointer:!0,disableTouch:!1,disableMouse:!1,resizePolling:200,bounce:!1})}}},function(t,e,i){"use strict";i(98).register({"arrow-down":{width:16,height:16,viewBox:"0 0 2700 2700",data:'<path pid="0" d="M1351.426 1791.225c28.406 0 56.812-11.362 76.696-31.247l695.947-653.338c45.45-42.609 48.29-113.624 5.681-161.914-42.609-45.45-113.624-48.29-161.914-5.681l-616.41 582.323-619.25-579.482c-45.45-42.61-116.465-39.769-161.915 5.68-42.609 45.45-39.768 116.465 5.681 161.915l695.947 653.338c22.725 17.044 51.131 28.406 79.537 28.406z"/>'}})},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(110),o=r(n),a=i(182),s=r(a);e.default={props:["data"],components:{page:o.default},computed:{wrapperClasses:function(){var t={};return t["th-item-wrapper"]=!0,t["p"+this.data.index]=!0,t.wide=!this.data.sm&&!!this.data.wide,t["side-right"]=this.data.sm&&!!this.data.wide&&"right"===this.data.side,t.active=this.data.active,t},thStyles:function(){var t={};return this.data.size&&(t.width=this.data.size.width+"px",t.height=this.data.size.height+"px"),t},textDirection:function(){return s.default.getDirection(this.data.caption)}}}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(98),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(n);i(415),i(416);var a=i(102),s=r(a),l=i(123),u=r(l);s.default.use(u.default,{name:"v-touch"}),e.default={props:{show:Boolean},components:{svgicon:o},computed:{isRTLBook:function(){return this.$store.state.book.rightToLeft},isFirstPage:function(){var t=null===this.$store.getters["pager/prevNonStubPageId"],e=null===this.$store.getters["pager/nextPageId"];return this.isRTLBook?e:t},isLastPage:function(){var t=null===this.$store.getters["pager/nextPageId"],e=null===this.$store.getters["pager/prevNonStubPageId"];return this.isRTLBook?e:t},isEmbed:function(){return this.$store.state.workspace.isEmbed}},methods:{next:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$store.dispatch(this.isRTLBook?"pager/goBackward":"pager/goForward",{target:e?"nav-swipe":"nav-tap"})},prev:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$store.dispatch(this.isRTLBook?"pager/goForward":"pager/goBackward",{target:e?"nav-swipe":"nav-tap"})}}}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(421),o=r(n),a=i(151),s=r(a),l=i(425),u=r(l),c=i(100);e.default={components:{tocItem:o.default,sidebar:s.default,"downloads-window":u.default},computed:{tocItems:function(){return this.$store.state.toc.enabled?this.$store.state.toc.children:[]},level2Items:function(){if(this.$store.state.toc.children)for(var t=0,e=this.$store.state.toc.children.length;t<e;t++)if(this.$store.state.toc.children[t].children)return!0;return!1},title:function(){return this.$store.state.toc.enabled?this.$i18n.t("TOCToolWindow.TITLE"):""},icon:function(){return"icon-toc"},footerTitle:function(){return this.showDownloads?this.$i18n.t("SaveWindow.TITLE"):null},showDownloads:function(){var t=this.$store.state.downloads;return t.enabled&&(t.url&&t.allPagesVisible||!(0,c.isEmpty)(t.pageFiles)&&t.currentPagesVisible||!(0,c.isEmpty)(t.customFiles)&&t.customFiles[0].url)},mobileLayout:function(){return"mobile"===this.$store.state.workspace.layout},sidebarClass:function(){return{"sidebar-left":this.mobileLayout}}},methods:{updateHeight:function(){this.$children[0].refresh()}},beforeDestroy:function(){this.$store.dispatch("toc/saveScrollY",this.$children[0].iScroll.y)},mounted:function(){this.$children[0].refresh(),this.$children[0].iScroll.scrollTo(0,this.$store.state.toc.scrollY),this.$root.$emit("develop",{action:"toc",data:0===this.tocItems.length?"empty":"full"})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(182),n=function(t){return t&&t.__esModule?t:{default:t}}(r),o=i(105);e.default={props:["itemData","depth"],name:"toc-item",data:function(){return{isMobile:"mobile"===this.$store.state.workspace.layout}},computed:{paddingLeft:function(){return this.depth<=2?20*this.depth:60},width:function(){return this.depth<=2?214-20*this.depth:154},openChildIcon:function(){return this.itemData.children?this.itemData.toggle?" icon-up-arrow":" icon-down-arrow":""},pageLabel:function(){return this.$store.getters["pages/pageCaptionByIndex"](this.itemData.page-1)},itemTitle:function(){return(0,o.decodeHtml)(this.itemData.title)},textDirection:function(){return n.default.getDirection(this.itemData.title)}},methods:{toggleOpen:function(){this.$store.dispatch("toc/toggleState",this.itemData)},goToPage:function(t){this.$store.dispatch("pager/goToPageByIndex",{target:"toc",pageIndex:t-1}),this.isMobile&&this.$store.dispatch("sidebar/closeSidebar","thumbnails")},refresh:function(){this.$parent.refresh()}},updated:function(){this.$parent.refresh()},mounted:function(){this.$parent.refresh()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(98),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(r);i(428),i(429),i(430),i(431),i(153);var o=i(115),a=function(t){return t&&t.__esModule?t:{default:t}}(o);e.default={data:function(){return{showCustom:!this.$store.state.toc.enabled}},components:{svgicon:n},mounted:function(){this.iScroll=new a.default(document.getElementById("download-scroller"),{mouseWheel:!0,scrollbars:!0,fadeScrollbars:!1,interactiveScrollbars:!0,probeType:0,disablePointer:!0,disableTouch:!1,disableMouse:!1,resizePolling:200,bounce:!1}),this.refresh()},computed:{mobileLayout:function(){return"mobile"===this.$store.state.workspace.layout},fullPdf:function(){return this.$store.getters["downloads/getFullPdf"]},customFiles:function(){return this.$store.getters["downloads/getCustomFiles"]},pageFiles:function(){return this.$store.getters["downloads/getPageFiles"]},pagerState:function(){return this.$store.getters["pager/state"]},pagesTitle:function(){return{full:this.$t("SaveWindow.FULL_PUBLICATION"),left:this.$t("SaveWindow.SAVE_LEFT_PAGE"),right:this.$t("SaveWindow.SAVE_RIGHT_PAGE"),one:this.$t("SaveWindow.SAVE_CURRENT_PAGE")}},drawerStyle:function(){var t={},e=0;return this.pageFiles&&(e+=this.pageFiles.length),this.fullPdf&&e++,this.customFiles&&(e+=this.customFiles.length),e>0&&(this.isRetina?t.marginBottom=this.showCustom?0:(e<=3?-90*e:-360)+"px":t.marginBottom=this.showCustom?0:(e<=3?-45*e:-180)+"px"),t}},methods:{download:function(t,e){"full"===t&&this.$refs.linkFull?(this.$refs.linkFull.href=this.fullPdf.url,this.$refs.linkFull.click(),this.$root.$emit("download",{option:"full",fileName:this.fullPdf.fileName,leftPageUrl:this.$store.getters["pages/urlHeaderById"](this.pagerState.leftPage),rightPageUrl:this.$store.getters["pages/urlHeaderById"](this.pagerState.rightPage)})):"page"===t&&this.$refs.linkPage&&this.$refs.linkPage[e]?(this.$refs.linkPage[e].href=this.pageFiles[e].url,this.$refs.linkPage[e].click(),this.$root.$emit("download",{option:"page",fileName:this.pageFiles[e].fileName,downloadPage:this.$store.getters["pages/urlHeaderById"](this.pageFiles[e].pageId),leftPageUrl:this.$store.getters["pages/urlHeaderById"](this.pagerState.leftPage),rightPageUrl:this.$store.getters["pages/urlHeaderById"](this.pagerState.rightPage)})):"custom"===t&&this.$refs.linkCustom&&this.$refs.linkCustom[e]&&(this.$refs.linkCustom[e].href=this.customFiles[e].url,this.$refs.linkCustom[e].click(),this.$root.$emit("download",{option:"custom",fileName:this.customFiles[e].fileName,leftPageUrl:this.$store.getters["pages/urlHeaderById"](this.pagerState.leftPage),rightPageUrl:this.$store.getters["pages/urlHeaderById"](this.pagerState.rightPage)}))},toggleShowCustom:function(){var t=this;this.showCustom=!this.showCustom,setTimeout(function(){t.refresh()},300)},refresh:function(){this.$parent.refresh(),this.iScroll.refresh()}}}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(437),o=r(n),a=i(151),s=r(a),l=i(98),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(l);i(183),i(441),e.default={data:function(){return{tempTimeout:null,showClear:!1}},components:{"search-result-item":o.default,sidebar:s.default,svgicon:u},mounted:function(){var t=this;this.$refs.searchInput.value=this.$store.state.search.query,this.$children[0].iScroll.scrollTo(0,this.$store.state.search.scrollY),this.$children[0].iScroll.on("scrollStart",this.blurFocus),this.$store.state.search.query?this.showClear=!0:(this.$nextTick(function(){t.focusInput()}),setTimeout(function(){t.focusInput()},100))},computed:{results:function(){return this.$store.state.search.results},preloaderVisible:function(){return 100!==this.$store.getters["search/getProgress"]&&null!==this.$store.getters["search/getProgress"]},subtitle:function(){var t=this.$store.getters["search/getProgress"];return 0===this.$store.state.search.query.length||null===t?null:this.$store.state.search.query.length<this.$store.state.search.searchCharactersLimit?this.$i18n.t("SearchToolWindow.MIN_WORD_ERRROR",this.$store.state.search.searchCharactersLimit,{0:this.$store.state.search.searchCharactersLimit}):100!==t&&null!==t?this.$i18n.t("SearchToolWindow.SEARCH_IN_PROGRESS"):0===this.$store.state.search.results.length&&100===t?this.$i18n.t("SearchToolWindow.NOTHING_FOUND"):this.$i18n.tc("SearchToolWindow.PAGES_FOUND",this.$store.state.search.results.length,{0:this.$store.state.search.results.length})},title:function(){return this.$i18n.t("SearchToolWindow.TITLE")},placeholder:function(){return this.$i18n.t("SearchToolWindow.QUERY_PLACEHOLDER")},mobileLayout:function(){return"mobile"===this.$store.state.workspace.layout},icon:function(){return"icon-search"},sidebarClass:function(){return{"sidebar-right":this.mobileLayout,right:!this.mobileLayout}}},methods:{input:function(t){this.showClear=!!t;var e=this;this.tempTimeout&&clearTimeout(this.tempTimeout),this.tempTimeout=setTimeout(function(){e.tempTimeout=null,e.$store.dispatch("search/setQuery",{value:e.$refs.searchInput.value})},500)},focusInput:function(){var t=this.$refs.searchInput;t.focus(),t.selectionStart=t.value.length,"mobile"===this.$store.state.workspace.layout&&this.$root.$children[0].onResize(null,!0)},blurFocus:function(){document.activeElement&&"INPUT"===document.activeElement.tagName&&document.activeElement.blur()},clear:function(){this.$refs.searchInput.value&&(this.$store.dispatch("search/setQuery",{value:""}),this.$refs.searchInput.value="",this.showClear=!1,this.focusInput())},keyUp:function(t){"Enter"===t.key&&document.activeElement.blur()}},beforeDestroy:function(){this.$store.dispatch("search/saveScrollY",this.$children[0].iScroll.y)},watch:{results:function(){this.$children[0].refresh()}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["itemData"],name:"search-result-item",data:function(){return{open:!1}},computed:{title:function(){var t=this.$store.getters["pages/pageCaptionById"](this.itemData.pageId.toString(),!0);return this.$i18n.t("SearchToolWindow.PAGE_NUMBER",{0:t})}},methods:{onClick:function(){var t=this.$store.getters["pager/state"],e=this.itemData.pageId.toString();if(t.singleMode&&this.$store.getters["pages/pageProp"](e,"wide")){var i=!1;if(t.singleMode&&this.$store.getters["search/getHighlights"](e)){var r=this.$store.state.pages[e].width/2,n=this.$store.state.book.rightToLeft,o=this.$store.getters["search/getHighlights"](e).data;i=!0;for(var a=0,s=o.length;a<s;a++)if(n?o[a].rect[2]>=r:o[a].rect[2]<r){i=!1;break}i&&this.$store.dispatch("pager/goToPageById",{id:e,target:"search",rightWideHalf:!0})}i||this.$store.dispatch("pager/goToPageById",{id:e,target:"search"})}else this.$store.dispatch("pager/goToPageById",{id:e,target:"search"});"mobile"===this.$store.state.workspace.layout&&this.$store.dispatch("sidebar/closeSidebar","search")}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(98),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(r);i(446),e.default={props:{show:{default:!1}},mounted:function(){var t=this;setTimeout(function(){var e=t.$el.getElementsByTagName("a")[0];e&&e.addEventListener("touchstart",function(t){t.stopPropagation(),e.click()})},100)},computed:{noticeText:function(){return this.customNoticeText?this.customNoticeText:this.$t("Other.COOKIE_POLICY_NOTICE")},customNoticeText:function(){if(this.$store.state.workspace.cookieNotice.link){var t=this.$t("Other.CUSTOM_POLICY_LINK_CAPTION"),e='<a href="'+this.$store.state.workspace.cookieNotice.link+'" target="_blank" title="'+t+'">'+t+"</a>";return this.$t("Other.CUSTOM_POLICY_TEXT",{0:e})}return null}},methods:{close:function(){this.$emit("close")}},components:{svgicon:n}}},,,function(t,e,i){"use strict";function r(t){t=t.toUpperCase();var e=/^M*(?:D?C{0,3}|C[MD])(?:L?X{0,3}|X[CL])(?:V?I{0,3}|I[XV])$/,i=/[MDLV]|C[MD]?|X[CL]?|I[XV]?/g,r={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1},n=0,o=void 0;if(!t||!e.test(t))return null;for(o=i.exec(t);o;)n+=r[o[0]],o=i.exec(t);return n}function n(t){if(!+(t=parseInt(t,10))||t<0)return null;for(var e=String(+t).split(""),i=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],r="",n=3;n--;)r=(i[+e.pop()+10*n]||"")+r;return Array(+e.join("")+1).join("M")+r}Object.defineProperty(e,"__esModule",{value:!0}),e.romanize=n,e.deromanize=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.ADD_CONTENT="ADD_CONTENT",n=e.REMOVE_CONTENT="REMOVE_CONTENT",o=e.CHANGE_PAGE_SIZE="CHANGE_PAGE_SIZE",a=e.LOAD_THUMBNAIL="LOAD_THUMBNAIL",s=e.LOAD_SUBSTRATE="LOAD_SUBSTRATE",l=e.LOAD_TEXT_LAYER="LOAD_TEXT_LAYER",u=e.LOAD_VECTOR_LAYER="LOAD_VECTOR_LAYER",c=e.RESET_RESOURCES="RESET_RESOURCES",h=e.RESET_TH_RESOURCES="RESET_TH_RESOURCES",d=e.RESET_RESOURCES_EXCL_TH="RESET_RESOURCES_EXCL_TH",f=e.CHANGE_LOAD_PENDING="CHANGE_LOAD_PENDING",p=e.SET_PAGE_PROPERTY="SET_PAGE_PROPERTY",g=e.REMOVE_PAGE_PROPERTY="REMOVE_PAGE_PROPERTY";e.default={ADD_CONTENT:r,REMOVE_CONTENT:n,CHANGE_PAGE_SIZE:o,CHANGE_LOAD_PENDING:f,LOAD_THUMBNAIL:a,LOAD_SUBSTRATE:s,LOAD_TEXT_LAYER:l,LOAD_VECTOR_LAYER:u,RESET_RESOURCES:c,RESET_TH_RESOURCES:h,RESET_RESOURCES_EXCL_TH:d,SET_PAGE_PROPERTY:p,REMOVE_PAGE_PROPERTY:g}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.ENABLE="ENABLE",n=e.DISABLE="DISABLE",o=e.SET_CHILDREN="SET_CHILDREN",a=e.TOGGLE_STATE="TOGGLE_STATE",s=e.UPDATE_SCROLL="UPDATE_SCROLL";e.default={DISABLE:n,ENABLE:r,SET_CHILDREN:o,TOGGLE_STATE:a,UPDATE_SCROLL:s}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.SET_FULLSCREEN_MODE="SET_FULLSCREEN_MODE",n=e.UNSET_FULLSCREEN_MODE="UNSET_FULLSCREEN_MODE",o=e.MUTE_SOUND="MUTE_SOUND",a=e.UNMUTE_SOUND="UNMUTE_SOUND",s=e.TEXT_SELECTION_OFF="TEXT_SELECTION_OFF",l=e.TEXT_SELECTION_ON="TEXT_SELECTION_ON",u=e.ENABLE="ENABLE",c=e.INIT="INIT",h=e.DISABLE="DISABLE",d=e.FREEZE="FREEZE",f=e.UNFREEZE="UNFREEZE",p=e.FROZEN_BY="FROZEN_BY",g=e.CHANGE_PROPERTY="CHANGE_PROPERTY",m=e.SET_LAYOUT="SET_LAYOUT",v=e.SET_BOOK_COMPONENT="SET_BOOK_COMPONENT",b=e.SET_RESIZING="SET_RESIZING",y=e.SET_MODAL="SET_MODAL",S=e.SET_PRELOADER="SET_PRELOADER",_=e.SET_SIZE="SET_SIZE",w=e.SET_VISIBLE="SET_VISIBLE",P=e.SET_EMBED="SET_EMBED",E=e.CHANGE_TOTAL_PAGE_VISIBLE="CHANGE_TOTAL_PAGE_VISIBLE",T=e.CHANGE_PAGINATOR_ENABLED="CHANGE_PAGINATOR_ENABLED";e.default={SET_FULLSCREEN_MODE:r,UNSET_FULLSCREEN_MODE:n,MUTE_SOUND:o,UNMUTE_SOUND:a,TEXT_SELECTION_OFF:s,TEXT_SELECTION_ON:l,DISABLE:h,ENABLE:u,INIT:c,FREEZE:d,UNFREEZE:f,FROZEN_BY:p,CHANGE_PROPERTY:g,SET_LAYOUT:m,SET_BOOK_COMPONENT:v,SET_RESIZING:b,SET_MODAL:y,SET_PRELOADER:S,SET_SIZE:_,SET_VISIBLE:w,SET_EMBED:P,CHANGE_TOTAL_PAGE_VISIBLE:E,CHANGE_PAGINATOR_ENABLED:T}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.MIN_RANGE="MIN_RANGE",n=e.MAX_RANGE="MAX_RANGE",o=e.CHANGE_RANGE="CHANGE_RANGE";e.default={CHANGE_RANGE:o,MIN_RANGE:r,MAX_RANGE:n}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.OPEN_POPUP="OPEN_POPUP",n=e.CLOSE_POPUP="CLOSE_POPUP";e.default={OPEN_POPUP:r,CLOSE_POPUP:n}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.OPEN_SIDEBAR="OPEN_SIDEBAR",n=e.CLOSE_SIDEBAR="CLOSE_SIDEBAR";e.default={OPEN_SIDEBAR:r,CLOSE_SIDEBAR:n}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.SELECT="SELECT",e.DESELECT="DESELECT",e.ADD="ADD",e.REMOVE="REMOVE",e.UPDATE="UPDATE",e.REPLACE="REPLACE"},,function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function n(t,e,i,r){if(-1!==e){this.parentVm=i,this.contentCreator=r,this.store=(0,c.getStore)();var n=document.createElement("div");t.appendChild(n);var a=this._getPageId(e);if(a){var l=u.default.extend(o({store:this.store},s.default));this.vm=new l({i18n:d.default,propsData:a,parent:this.parentVm,_componentTag:"page"}).$mount(n)}}}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},a=i(110),s=r(a),l=i(102),u=r(l),c=i(104),h=i(120),d=r(h);n.prototype._getPageId=function(t){if(this.store.state.pager.singleMode){if(t%2!=0&&0!==t)return;t/=2}if(this.store.state.book.rightToLeft){var e=this.store.getters["pages/pagesCount"];return{id:this.store.getters["pages/pageIdByIndexWide"](e-t-1),side:e%2!=0?t%2!=0?"right":"left":t%2!=0?"left":"right",contentCreator:this.contentCreator}}return{id:this.store.getters["pages/pageIdByIndexWide"](t),side:t%2!=0?"left":"right",contentCreator:this.contentCreator}},n.prototype.resetPage=function(t){if(void 0!==this.vm){var e=this._getPageId(t);e||(e={id:null,side:"left"}),this.vm.pageSide=e.side,this.vm.pageId=e.id}},e.default=n},function(t,e,i){"use strict";function r(t){i(313)}i.r(e);var n=i(129),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);var s=i(317),l=i(99),u=r,c=Object(l.a)(o.a,s.a,s.b,!1,u,null,null);e.default=c.exports},function(t,e,i){"use strict";function r(t){i(318)}i.r(e);var n=i(131),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);var s=i(320),l=i(99),u=r,c=Object(l.a)(o.a,s.a,s.b,!1,u,null,null);e.default=c.exports},function(t,e,i){"use strict";function r(t){i(321)}i.r(e);var n=i(132),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);var s=i(327),l=i(99),u=r,c=Object(l.a)(o.a,s.a,s.b,!1,u,null,null);e.default=c.exports},function(t,e,i){"use strict";function r(t){i(323)}i.r(e);var n=i(133),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);var s=i(325),l=i(99),u=r,c=Object(l.a)(o.a,s.a,s.b,!1,u,null,null);e.default=c.exports},function(t,e,i){"use strict";function r(t){i(328)}i.r(e);var n=i(134),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);var s=i(331),l=i(99),u=r,c=Object(l.a)(o.a,s.a,s.b,!1,u,null,null);e.default=c.exports},function(t,e,i){"use strict";function r(t){i(332)}i.r(e);var n=i(135),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);var s=i(336),l=i(99),u=r,c=Object(l.a)(o.a,s.a,s.b,!1,u,null,null);e.default=c.exports},function(t,e,i){"use strict";function r(t){i(370)}i.r(e);var n=i(143),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);var s=i(372),l=i(99),u=r,c=Object(l.a)(o.a,s.a,s.b,!1,u,null,null);e.default=c.exports},,,function(t,e,i){"use strict";i(98).register({search:{width:18,height:18,viewBox:"0 0 18 18",data:'<path pid="0" d="M8 13A5 5 0 1 0 8 3a5 5 0 0 0 0 10zm6.618-.504l3.453 3.454-2.121 2.121-3.454-3.453a8 8 0 1 1 2.121-2.121z" _fill="#000" fill-rule="nonzero"/>'}})},,,,function(t,e,i){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,i){function r(n,o){try{var a=e[n](o),s=a.value}catch(t){return void i(t)}if(!a.done)return Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}function n(t,e){t.enabled&&!(0,v.isEmpty)(t.query)&&(o(t,e),a(t,e),l(t,e))}function o(t,e){var n=this;t.normalizeLibraryInitialized||(String.prototype.normalize?e.commit(y+d.NORMALIZE_INITIALIZED):r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.e(6).then(i.t.bind(null,456,7));case 2:e.commit(y+d.NORMALIZE_INITIALIZED);case 3:case"end":return t.stop()}},t,n)}))())}function a(t,e){var n=this;t.searchLibraryInitialized||r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.e(5).then(i.t.bind(null,457,7));case 2:return S=t.sent,t.next=5,i.e(4).then(i.t.bind(null,458,7));case 5:_=t.sent,e.commit(y+d.SEARCH_LIBRARY_INITIALIZED);case 7:case"end":return t.stop()}},t,n)}))()}function s(t,e){!(0,v.isEmpty)(t.searchIndex)&&t.searchLibraryInitialized&&((0,v.isObject)(t.searchObjectCreated)||(w=new S.Search(t,e),P=new _.SearchHighlight(t,e),e.commit(y+d.SEARCH_OBJECT_CREATED,!0)))}function l(t,e){function i(t,i){for(;t.length;)e.commit(y+d.ADD_CHUNK,t.splice(0,i));e.commit(y+d.INDEX_LOADED)}(0,v.isEmpty)(t.searchIndex)&&(0,m.request)({url:(0,g.default)().translatePath("assets/common/search/searchtext.js"),responseType:"json",callback:function(e){i(e.pages.page,t.chunkSize)}})}function u(t){t.enabled&&t.searchObjectCreated&&t.normalizeLibraryInitialized&&w.search(t.query)}function c(){P&&P.clear()}function h(t){if(t.enabled&&t.searchObjectCreated&&t.normalizeLibraryInitialized&&P&&t.query.length>0)for(var e=(0,b.getStore)().getters["pager/resourcesForLoading"],i=0,r=e.length;i<r;i++)t.highlights[e[i]]?t.highlights[e[i]].ready&&t.highlights[e[i]].query===t.query||P.findHighlights(t.query,e[i]):P.findHighlights(t.query,e[i])}Object.defineProperty(e,"__esModule",{value:!0});var d=i(108),f=i(109),p=i(101),g=function(t){return t&&t.__esModule?t:{default:t}}(p);i(47);var m=i(112),v=i(100),b=i(104),y="search/",S=null,_=null,w=null,P=null;e.default=function(t){t.subscribe(function(e,i){var r=i.search;switch(e.type.replace(y,"")){case d.SEARCH_LIBRARY_INITIALIZED:case d.INDEX_LOADED:s(r,t);break;case d.NORMALIZE_INITIALIZED:case d.SEARCH_OBJECT_CREATED:u(r);break;case d.CHANGE_QUERY:n(r,t),u(r),c();break;case d.CHANGE_STATUS:"complete"===r.status&&h(r);break;case"pager/"+f.CHANGE_PAGE:h(r);break;case d.CHANGE_PROPERTY:switch(e.payload.key){case"enabled":n(r,t)}}})}},function(t,e,i){"use strict";function r(t){var e=(0,o.parseColor)(t["second-text-color"]).join(","),i=(0,o.parseColor)(t["background-shadow-color"]).join(","),r="rgba("+(0,o.parseColor)(t["second-button-color"]).join(",")+",0.5)",n=t["background-image"],a=/url\(['"]?([^'"]+)['"]?\)/g.exec(n);(0,l.isArray)(a)&&2===a.length&&(n=(0,s.default)().translatePath(a[1])),n=n?'url("'+n+'")':"none","auto"===t["background-size"]?t["background-repeat"]="repeat":t["background-repeat"]="no-repeat",u="   \n#publication,\n.publication-container.mobile\n{\n    font-family: 'HelveticaNeue-CondensedBold', 'Open Sans', Helvetica, Arial, sans-serif;\n    \n    background-color: "+t["second-color"]+";\n}\n\n.publication-container.mobile .main-frame\n{\n    background-color: "+t["second-color"]+";\n    \n    background-image: "+n+";\n    background-position: "+t["background-position"]+";\n    background-size: "+t["background-size"]+";\n    background-repeat: "+t["background-repeat"]+";\n}\n\n.publication-container.mobile .top-bar-mobile,\n.publication-container.mobile .bottom-bar-mobile {\n    color: "+t["second-text-color"]+";\n    background-color: "+t["second-color"]+";\n    fill: "+t["second-text-color"]+";\n    border-color: "+r+" !important;\n}\n\n.publication-container.mobile .banner-notice .notice-text\n{\n    /*font-family: 'Open Sans', Helvetica, Arial, sans-serif;*/\n    /*font-weight: 600;*/\n}\n.publication-container.mobile .tool-window\n{\n    color: "+t["second-text-color"]+";\n    background-color: "+t["second-color"]+";\n}\n\n.publication-container.mobile .tool-window .tool-title-frame .close-button svg\n{\n    fill: "+t["second-text-color"]+";\n}\n\n.publication-container.mobile .tool-title-frame\n{\n    background-color: "+t["second-color"]+";\n    border-color: "+r+" !important;\n}\n\n.publication-container.mobile .tool-title\n{\n    color: "+t["second-text-color"]+";\n}\n\n.publication-container.mobile .iScrollIndicator\n{\n    border-color: rgba("+e+", .9)!important;\n    background-color: rgba(255, 255, 255, .5) !important;\n}\n\n/* Search */\n\n.publication-container.mobile .search-input-block input\n{\n    font-family: 'HelveticaNeue-CondensedBold', 'Open Sans', Helvetica, Arial, sans-serif;\n\n    color: #596168;\n    border: 0;\n    background-color: #fff;\n}\n\n.publication-container.mobile .search-input-block input::placeholder\n{\n    color: #bababa;\n}\n\n.publication-container.mobile .search-input-block .search-icon,\n.publication-container.mobile .search-input-block .clear-icon\n{\n    fill: #596168;\n}\n\n.publication-container.mobile li.search-item\n{\n    border-top: 1px solid rgba("+e+", .4);\n}\n\n.publication-container.mobile li.search-item:last-child\n{\n    border-bottom: 1px solid rgba("+e+", .4);\n}\n\n.publication-container.mobile .search-item-title\n{\n    text-transform: uppercase;\n\n    color: "+t["second-text-color"]+";\n}\n\n.publication-container.mobile .search-item-p\n{\n    font-family: 'HelveticaNeue-CondensedLight', 'Open Sans', Helvetica, Arial, sans-serif;\n    color: "+t["second-text-color"]+";\n}\n\n.publication-container.mobile .search-item-result b\n{\n    font-family: 'HelveticaNeue-CondensedBold', 'Open Sans', Helvetica, Arial, sans-serif;\n    font-weight: bold;\n}\n\n/* TOC */\n\n.publication-container.mobile li.toc-item\n{\n    border-top: 1px solid rgba("+e+", .4);\n}\n\n.publication-container.mobile li.toc-item:first-child\n{\n    border-top: none;\n}\n\n.publication-container.mobile li.toc-item:last-child\n{\n    border-top: 1px solid rgba("+e+", .4);\n}\n\n.publication-container.mobile .toc-item .page-label\n{\n    color: rgba("+e+", .6);\n}\n\n\n/* Thumbnails */\n\n.publication-container.mobile .th-spread-wrapper,\n.slide .th-img-element,\n.publication-container.mobile .th-wrapper > .th-item-wrapper\n{\n    outline: 1px solid rgba("+e+", .02);\n}\n\n.publication-container.mobile .onscroll .th-spread-wrapper,\n.publication-container.mobile .onscroll .th-wrapper > .th-item-wrapper\n{\n    outline: 1px solid rgba("+e+", .18);\n}\n\n.publication-container.mobile .slide .th-spread-wrapper\n{\n    outline: none;\n}\n\n.publication-container.mobile .th-spread-wrapper.active,\n.th-item-wrapper.active .th-img-element\n{\n    outline: #4A90E2 4px solid;\n}\n\n.publication-container.mobile .th-item-title\n{\n    font-weight: 600;\n}\n\n/* Downloads */\n\n.publication-container.mobile .download-header\n{\n    color: "+t["second-text-color"]+";\n    border-color: "+r+" !important;\n}\n.publication-container.mobile .downloads {\n    background-color: "+t["second-color"]+";\n}\n\n.publication-container.mobile .download-item .download-icon svg,\n.publication-container.mobile .download-header .arrow svg\n{\n    fill: "+t["second-text-color"]+";\n}\n\n.publication-container.mobile li.download-item\n{\n    border-top: 1px solid rgba("+e+", .4);\n}\n\n.publication-container.mobile li.download-item a\n{\n    text-decoration: none;\n    color: "+t["second-text-color"]+";\n}\n\n.publication-container.mobile .download-size {\n    color: rgba("+e+", .6);\n}\n\n.publication-container.mobile .svg-logo\n{\n    fill: "+t["second-text-color"]+";\n}\n\n\n\n.lft-sdw .layer2 .z1\n{\n    box-shadow: 0 2px 10px 0 rgba("+i+",0.7)\n}\n\n.rgt-sdw .layer2 .z1\n{\n    box-shadow: 0 2px 10px 0 rgba("+i+",0.7)\n}\n\n.full-sdw\n{\n    box-shadow: 0 2px 10px 0 rgba("+i+",0.7)\n}\n\n\n",c.textContent=u}Object.defineProperty(e,"__esModule",{value:!0});var n=i(113),o=i(119),a=i(101),s=function(t){return t&&t.__esModule?t:{default:t}}(a),l=i(32),u=null,c=document.createElement("style");c.setAttribute("id","skin-style");var h=function(t,e){t.skin.initialized&&(document.getElementsByTagName("head")[0].appendChild(c),r(t.skin.styles))},d=function(t,e){t.param,t.value;e.skin.initialized&&r(e.skin.styles)};e.default=function(t){t.subscribe(function(t,e){switch(t.type){case"skin/"+n.INIT:h(e);break;case"skin/"+n.CHANGE_PARAM:d(t.payload,e)}})}},function(t,e,i){"use strict";(function(t){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(120),o=r(n),a=i(114),s=i(101),l=r(s),u=i(112),c=i(191),h=r(c),d=function(t,e){var i=f(t);e.dispatch("i18n/setCurrentLocale",{locale:i})},f=function(t){var e=t.workspace.userAgentInfo?t.workspace.userAgentInfo.locales:[],i=t.workspace.locales.length>0?t.workspace.locales:t.i18n.config.locales,r=t.i18n.config.substitutes,n="en";if(i&&i.length>0&&(n=i[0]),e){for(var o in r)if(r.hasOwnProperty(o)){var a=e.indexOf(o);a>=0&&(e[a]=r[o])}for(var s=0;s<e.length;s++)if(i.indexOf(e[s])>=0){n=e[s];break}}return n},p=function(t,e,i){e.commit("i18n/"+a.LOCALE_LOADED,{value:!1}),(0,u.request)({url:(0,l.default)().translatePath("locales/"+i+".json"),responseType:"json",callback:function(r){var n=/%\{0\}/g,o=JSON.stringify(r).replace(n,"{0}");r=JSON.parse(o),o=null,e.dispatch("i18n/setLocale",{locale:i,strings:r}),e.commit("i18n/"+a.LOCALE_LOADED,{value:!0}),g(t,e,i),r=null}})},g=function(t,e,i){if(!t.i18n.strings[i])return void p(t,e,i);o.default.setLocaleMessage(i,e.getters["i18n/getLocaleStrings"](i)),o.default.locale=i,m(t,e)},m=function(e,i){var r=i.getters["i18n/getFontConfig"],n=document.getElementsByClassName("publication-container")[0];if(void 0===r)return n.style.fontFamily='"Helvetica Neue", Helvetica, Arial, sans-serif',i.dispatch("i18n/setCurrentFont",{font:"Helvetica Neue"}),void i.commit("i18n/"+a.FONT_LOADED,{value:!0});var o=r["font-family"]+" ("+r.subset+")";if(o!==e.i18n.currentFont){i.commit("i18n/"+a.FONT_LOADED,{value:!1}),n.style.fontFamily=r["font-family"]+", Helvetica, Arial, sans-serif";var s=document.createElement("span");s.className="font-loader",s.styles={"font-weight":r["font-weight-normal"]},s.innerText="ABC 123",n.appendChild(s);var l=document.createElement("span");l.className="font-loader",l.styles={"font-weight":r["font-weight-bold"]},l.innerText="DEF 456",n.appendChild(l),(0,h.default)("https://fonts.googleapis.com/css?family="+encodeURIComponent(r["font-family"]+":"+r["font-weight-normal"]+","+r["font-weight-bold"]+"&amp;subset="+r.subset),function(){if(i.state.skin&&(i.dispatch("skin/setParam",{param:"font-weight-normal",value:r["font-weight-normal"]}),i.dispatch("skin/setParam",{param:"font-weight-bold",value:r["font-weight-bold"]})),i.dispatch("i18n/setCurrentFont",{font:o}),t.navigator&&-1!==t.navigator.userAgent.indexOf("Publisher"))i.commit("i18n/"+a.FONT_LOADED,{value:!0});else if(document.fonts&&document.fonts.check&&navigator.onLine&&(e.workspace.userAgentInfo.browser.chrome||e.workspace.userAgentInfo.browser.firefox)){var n=0;!function t(){setTimeout(function(){try{var e=document.fonts.check(r["font-weight-normal"]+" 16px "+r["font-family"]),o=document.fonts.check(r["font-weight-bold"]+" 16px "+r["font-family"]);e&&o?i.commit("i18n/"+a.FONT_LOADED,{value:!0}):n<=20?t():i.commit("i18n/"+a.FONT_LOADED,{value:!0})}catch(t){console.error("Font error: "+t.message)}},100,n++)}()}else setTimeout(function(){i.commit("i18n/"+a.FONT_LOADED,{value:!0})},1e3)},"fontCss")}};e.default=function(t){t.subscribe(function(e,i){switch(e.type){case"i18n/"+a.INIT:d(i,t);break;case"i18n/"+a.SET_CURRENT_LOCALE:g(i,t,e.payload.locale)}})}}).call(this,i(21))},,function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,i,n){var o=t.document.styleSheets.length,a=function(e){for(var i=0,n=t.document.styleSheets.length;i<n;i++)if((0,r.isString)(t.document.styleSheets[i].href)&&t.document.styleSheets[i].href.indexOf(e)>=0)return!0;return!1};(0,r.isFunction)(i)&&function(){var r=setInterval(function(){o<t.document.styleSheets.length&&a(e)&&(i.call(),clearInterval(r))},20)}(),function(e){var i=t.document.getElementsByTagName("head")[0],a=t.document.createElement("link");a.href=e,a.type="text/css",a.rel="stylesheet",(0,r.isString)(n)&&(a.id=n),n&&document.getElementById(n)?(i.replaceChild(a,document.getElementById(n)),o--):i.appendChild(a)}(e)};var r=i(100)}).call(this,i(21))},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(193),o=r(n),a=i(101),s=r(a),l=[],u=!1,c=function(t,e){return t.priority-e.priority},h=function(t,e,i){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=new o.default(c);i.length>0;){var a=i.shift(),s=e.pages[a],l=t.getters["pages/thumbnailUrl"](a);if(null!==s.thumbnailUrl&&s.thumbnailUrl===l||null!==l&&n.add({id:a,res:"thumbnail",url:l,priority:1,thOnly:r}),!r){var u=t.getters["pages/substrateUrl"](a);null!==s.substrateUrl&&u===s.substrateUrl||null!==u&&(null===s.substrateUrl&&t.dispatch("pages/changeLoadPending",{value:!0,pageID:a}),n.add({id:a,res:"substrate",url:u,priority:3,thOnly:r}));var h=t.getters["pages/isSVGSupported"](a),d=void 0;d=h?t.getters["pages/vectorUrl"](a):t.getters["pages/textImageUrl"](a),null!==s.textUrl&&s.textUrl===d||null!==d&&(null===s.textUrl&&t.dispatch("pages/changeLoadPending",{value:!0,pageID:a}),n.add({id:a,res:h?"vector":"text",url:d,priority:3,thOnly:r}))}}return n},d=function t(e){if(l.size<1)return void(u=!1);u=!0;var i=l.remove(),r=new Image,n=(0,s.default)().getCrossOrigin();n&&(r.crossOrigin=n),r.onload=function(){e.dispatch("pages/resourceLoad",{resType:i.res,url:i.url,pageID:i.id,thOnly:i.thOnly}),r=null},r.onerror=function(){e.dispatch("pages/resourceLoad",{resType:i.res,url:-1,pageID:i.id})},r.src=i.url,t(e)},f=function(t){var e=t.getters["pager/resourcesForLoading"].slice(0),i={},r=[];for(var n in t.state.content.items)t.state.content.items.hasOwnProperty(n)&&(t.contentData[n]=t.state.content.items[n]);e.forEach(function(e){r=r.concat(t.state.pages[e].content)}),r.forEach(function(e){i[e]=t.contentData[e]}),t.dispatch("content/replace",{contentData:i}),i=null,e=null,r=null};e.default=function(t){t.subscribe(function(e,i){if("pager/CHANGE_PAGE"===e.type||"pages/CHANGE_PAGE_SIZE"===e.type){if(0===t.state.pages.size.width||null===t.state.pages.size.width)return;var r=t.getters["pager/resourcesForLoading"].slice(0);l=h(t,i,r),t.state.content.outsideStorage&&f(t),u||d(t)}if("thumbnails/MAX_RANGE"===e.type||"thumbnails/MIN_RANGE"===e.type||"thumbnails/CHANGE_RANGE"===e.type){var n=t.getters["thumbnails/pagesRange"];if(!n)return;l=h(t,i,n.slice(0),!0),u||d(t)}})}},function(t,e,i){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e,i){for(var r=t[i];i>0;){var n=Math.floor(i-1),o=t[n];if(!(e(r,o)<0))break;t[i]=o,i=n}return t[i]=r,i}function o(t,e,i){for(var r=t[i],n=t.length;2*i+1<n;){var o=2*i+1;if(o<n-1&&e(t[o+1],t[o])<0&&o++,e(r,t[o])<=0)break;t[i]=t[o],i=o}return t[i]=r,i}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),s=Symbol("data"),l=Symbol("compareFunction"),u=function(){function t(e){if(r(this,t),"function"!=typeof e)throw new Error("PriorityQueue: no compareFunction defined");this[l]=e,this[s]=[]}return a(t,null,[{key:"newNaturalMin",value:function(e){return new t(function(t,e){return t<e?-1:t>e?1:0},e)}},{key:"newNaturalMax",value:function(e){return new t(function(t,e){return t<e?1:t>e?-1:0},e)}}]),a(t,[{key:"add",value:function(t){return this[s].push(t),n(this[s],this[l],this.size-1),this}},{key:"peek",value:function(){return this[s][0]}},{key:"remove",value:function(){return this[s].shift()}},{key:"delete",value:function(t){for(var e=0;e<this.size-1;e++)if(0===this[l](t,this[s][e])){this[s][e]=this[s].pop();var i=n(this[s],this[l],e);return o(this[s],this[l],i),!0}return 0===this[l](this[s][this.size-1],t)&&(this[s].pop(),!0)}},{key:"clear",value:function(){this[s]=[]}},{key:"has",value:function(t){for(var e=0;e<this.size;e++)if(0===this[l](t,this[s][e]))return!0;return!1}},{key:"forEach",value:function(t,e){var i=!0,r=!1,n=void 0;try{for(var o,a=this[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){var s=o.value;t.call(e,s,this)}}catch(t){r=!0,n=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw n}}}},{key:Symbol.iterator,value:regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<this.size)){t.next=7;break}return t.next=4,this[s][e];case 4:e++,t.next=1;break;case 7:case"end":return t.stop()}},t,this)})},{key:"size",get:function(){return this[s].length}}]),t}();e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(101),n=function(t){return t&&t.__esModule?t:{default:t}}(r),o=i(109),a=i(100);e.default=function(t){t.subscribe(function(e,i){var r=i.pager;switch(e.type.replace("pager/","")){case o.CHANGE_PAGE:var s={},l=i.workspace;(0,a.isUndefined)(l.components.book)||l.components.book.flip?s.zoom=i.zoomMode:s.zoom=!1;var u=r.singleMode?r.rightPage:null!==r.leftPage?r.leftPage:r.rightPage;s.page=t.getters["pages/urlHeaderById"](u),(0,n.default)().setPath(s)}})}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function n(t){function e(e){E.extensions&&E.extensions.skinConfig&&(0,h.isObject)(E.extensions.skinConfig)&&(e=(0,v.default)(e,E.extensions.skinConfig)),k.skin.module.state=(0,v.default)(k.skin.module.state,{styles:e}),e=null,C=!0,R(t,P)}function i(e){E.extensions&&E.extensions.workspaceProps&&(0,h.isObject)(E.extensions.workspaceProps)&&(e=(0,v.default)(e,E.extensions.workspaceProps)),k.search.module.state=(0,v.default)(k.search.module.state,e.search),delete e.search,k.downloads.module.state=(0,v.default)(k.downloads.module.state,e.downloads),delete e.downloads,e.toc&&e.toc.children?((0,c.addTreeParamByBranch)(e.toc.children,"children","toggle",!1),k.toc.module.state=(0,v.default)(k.toc.module.state,e.toc),delete e.toc):k.toc.module.state.enabled=!1,k.print.module.state=(0,v.default)(k.print.module.state,e.print),delete e.print,k.logo.module.state=(0,v.default)(k.logo.module.state,e.logoLink),delete e.logoLink,k.copyright.module.state=(0,v.default)(k.copyright.module.state,e.components.copyright),delete e.components.copyright,k.info.module.state=(0,v.default)(k.info.module.state,e.publicationInfo),delete e.publicationInfo,e.userAgentInfo=E.userAgentInfo,k.workspace.module.state=(0,v.default)(k.workspace.module.state,e),E.embed&&(k.workspace.module.state.embedScript=!0),E.lightbox&&(k.workspace.module.state.embedLightbox=!0),E.isProtected&&(k.workspace.module.state.isProtected=!0),e=null,O=!0,R(t,P)}function r(e,i){var r=!1;i&&i>2097152&&(r=!0,k.content.module.state.outsideStorage=!0);var n=z.contentIdProvider&&(0,h.isFunction)(z.contentIdProvider.nextId)?z.contentIdProvider:new f.IdProvider;E.extensions&&E.extensions.pagesProps&&(0,h.isObject)(E.extensions.pagesProps)&&(e=(0,v.default)(e,E.extensions.pagesProps)),k.search.module.state=(0,v.default)(k.search.module.state,e.search),delete e.search;for(var o in e.pages){(function(t){if(!e.pages.hasOwnProperty(t)||"defaults"===t||"structure"===t)return"continue";var i=e.pages[t],o=[];for(var a in i)!function(a){if(i.hasOwnProperty(a)){var s=i[a];(0,u.isArray)(s)&&(0,h.has)(w,a)&&(s.forEach(function(e){var i=n.nextId();e.type=w[a],e.pageId=t,e.itemId=i,o.push(i),r?_[i]=e:k.content.module.state.items[i]=e}),delete e.pages[t][a])}}(a);e.pages[t]=(0,v.default)(i,S,{content:o})})(o)}k.pages.module.state=(0,v.default)(k.pages.module.state,e.pages),delete e.pages,k.book.module.state=(0,v.default)(k.book.module.state,e),e=null,x=!0,"mobile"!==T&&"mobile-old"!==T||(k.pager.module.state.singleMode=window.innerWidth<=window.innerHeight),"flat"===T&&(k.pager.module.state.zoomMode=!0),R(t,P)}function n(){return k.pager||k.pages}function o(){return k.i18n}function s(){return k.skin}function m(){return k.copyright||k.downloads||k.workspace}function b(){return(!n()||x)&&(!o()||I)&&(!s()||C)&&(!m()||O)}var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},T=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",k=(0,v.default)({},a.default);k.info.module.state.version=T;var C=!1,O=!1,x=!1,I=!1,z=E.providers||{},M=E.getPager;E.modules&&(k=function(t){var e={};for(var i in t){var r=t[i];k.hasOwnProperty(r)&&(e[r]=k[r])}return e}(E.modules)),E.excludeModules&&function(t){for(var e in t){var i=t[e];k.hasOwnProperty(i)&&delete k[i]}}(E.excludeModules),s()&&(0,d.request)({url:(0,l.default)().translatePath("skins/current/config.json"),responseType:"json",callback:e}),m()&&(0,d.request)({url:(0,l.default)().translatePath("assets/html/workspace.json"),responseType:"json",callback:i}),n()&&((0,h.isFunction)(M)?M().then(r):(0,h.isFunction)(z.pagerJSON)?z.pagerJSON().then(r):(0,d.request)({url:(0,l.default)().translatePath("assets/common/pager.json"),responseType:"json",callback:r})),o()&&(k.i18n.module.state.config=(0,v.default)(k.i18n.module.state.config,y.default),I=!0);var R=function(t,e){if(b()){for(var i in k)t.registerModule(i,k[i].module);if(s()&&t.commit("skin/"+p.INIT),o()&&t.commit("i18n/"+g.INIT),k.pager){var r=(0,l.default)().getPathInfo();r&&r.page?t.dispatch("pager/goToPageByUserInput",{userInput:r.page,type:"url"}):t.dispatch("pager/goToFirst")}C=!1,O=!1,x=!1,I=!1,e(_),_=null}return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var o=i(196),a=r(o),s=i(101),l=r(s),u=i(32),c=i(106),h=i(100),d=i(112),f=i(290),p=i(113),g=i(114),m=i(121),v=r(m),b=i(291),y=r(b),S={thumbnailUrl:null,substrateUrl:null,textUrl:null,status:"ready",loadPending:!1},_={},w={blocks:"block",links:"link",images:"image",gifs:"gif",galleries:"gallery",videos:"video"}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(197),o=r(n),a=i(203),s=r(a),l=i(208),u=r(l),c=i(214),h=r(c),d=i(219),f=r(d),p=i(225),g=r(p),m=i(230),v=r(m),b=i(235),y=r(b),S=i(240),_=r(S),w=i(245),P=r(w),E=i(250),T=r(E),k=i(255),C=r(k),O=i(260),x=r(O),I=i(265),z=r(I),M=i(270),R=r(M),L=i(275),A=r(L),N=i(280),$=r(N),D=i(285),F=r(D),B={book:{module:o.default},copyright:{module:s.default},downloads:{module:u.default},info:{module:h.default},logo:{module:f.default},pager:{module:g.default},pages:{module:v.default},print:{module:y.default},search:{module:_.default},skin:{module:P.default},toc:{module:T.default},workspace:{module:C.default},i18n:{module:x.default},popup:{module:A.default},sidebar:{module:$.default},social:{module:z.default},content:{module:F.default},thumbnails:{module:R.default}};e.default=B},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(198),o=r(n),a=i(199),s=r(a),l=i(200),u=r(l),c=i(202),h=r(c);e.default={namespaced:!0,actions:o.default,getters:s.default,mutations:u.default,state:h.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,i){"use strict";function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(201);e.default=(n={},r(n,o.SET_LINKS_COLOR,function(t,e){t.links.color=e}),r(n,o.SET_LINKS_TARGET,function(t,e){t.links.target=e}),r(n,o.SET_LINKS_FLIP_HIGHLIGHT,function(t,e){t.links.highlightOnFlip=e}),r(n,o.SET_NUMERATION_OFFSET,function(t,e){t.numerationOffset=e}),r(n,o.SET_BOOK_SIZE_WIDTH,function(t,e){t.bookSize.width=e}),r(n,o.SET_BOOK_SIZE_HEIGHT,function(t,e){t.bookSize.height=e}),r(n,o.SET_SHADOW_DEPTH,function(t,e){t.shadowDepth=e}),n)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.SET_LINKS_COLOR="SET_LINKS_COLOR",n=e.SET_LINKS_TARGET="SET_LINKS_TARGET",o=e.SET_LINKS_FLIP_HIGHLIGHT="SET_LINKS_FLIP_HIGHLIGHT",a=e.SET_NUMERATION_OFFSET="SET_NUMERATION_OFFSET",s=e.SET_BOOK_SIZE_WIDTH="SET_BOOK_SIZE_WIDTH",l=e.SET_BOOK_SIZE_HEIGHT="SET_BOOK_SIZE_HEIGHT",u=e.SET_SHADOW_DEPTH="SET_SHADOW_DEPTH";e.default={SET_LINKS_COLOR:r,SET_LINKS_TARGET:n,SET_LINKS_FLIP_HIGHLIGHT:o,SET_NUMERATION_OFFSET:a,SET_BOOK_SIZE_WIDTH:s,SET_BOOK_SIZE_HEIGHT:l,SET_SHADOW_DEPTH:u}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={links:{color:"#40C6FF",target:"_blank",highlightOnFlip:!0,highlightOnHover:!0},hardcover:!1,hardcoverColor:"#5a5f63",flipCorner:!0,rightToLeft:!1,numerationOffset:0,pageFlippingDuration:.8,shadowDepth:2}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(204),o=r(n),a=i(205),s=r(a),l=i(206),u=r(l),c=i(207),h=r(c);e.default={namespaced:!0,actions:o.default,getters:s.default,mutations:u.default,state:h.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={enabled:!1,url:"http://flippingbook.com?src=1",target:"_blank",label:"FlippingBook Demo"}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(209),o=r(n),a=i(210),s=r(a),l=i(211),u=r(l),c=i(213),h=r(c);e.default={namespaced:!0,actions:o.default,getters:s.default,mutations:u.default,state:h.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(101),n=function(t){return t&&t.__esModule?t:{default:t}}(r),o=i(105),a=i(100);e.default={getFullPdf:function(t){return t.url&&t.allPagesVisible?{size:t.size?(0,o.formatSize)(t.size):"",url:(0,n.default)().translatePath("assets/common/downloads/"+t.url),fileName:t.url}:null},getCustomFiles:function(t){if(!t.customFiles||t.customFiles.length<1)return null;var e=[];for(var i in t.customFiles)if(t.customFiles.hasOwnProperty(i)){var r=t.customFiles[i],s=r.url;if((0,a.isString)(s)){var l=s.lastIndexOf("/");l>-1&&(s=s.slice(l+1))}e.push({size:r.size?(0,o.formatSize)(r.size):"",url:(0,n.default)().translatePath("assets/common/downloads/"+r.url),fileName:r.url,title:(0,o.decodeHtml)(s)})}return e},getPageFiles:function(t,e,i,r){if(!t.pageFiles||t.pageFiles.length<1||!t.currentPagesVisible)return null;var a=[],s=r["pager/state"],l=s.zoomMode||s.singleMode?1:2;for(var u in t.pageFiles)if(t.pageFiles.hasOwnProperty(u)){var c=t.pageFiles[u];if(s.leftPage!==u||s.singleMode?s.rightPage!==u||s.zoomMode||a.push({size:c.size?(0,o.formatSize)(c.size):"",url:(0,n.default)().translatePath("assets/common/downloads/page"+(0,o.getNum)(u)+".pdf"),fileName:"page"+(0,o.getNum)(u)+".pdf",pageId:u,side:"right"}):a.push({size:c.size?(0,o.formatSize)(c.size):"",url:(0,n.default)().translatePath("assets/common/downloads/page"+(0,o.getNum)(u)+".pdf"),fileName:"page"+(0,o.getNum)(u)+".pdf",pageId:u,side:"left"}),a.length===l)break}return a}}},function(t,e,i){"use strict";function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(212);e.default=(n={},r(n,o.CHANGE_PROPERTY,function(t,e){var i=e.key,r=e.value;t[i]=r}),r(n,o.ENABLE,function(t){t.enabled=!0}),r(n,o.DISABLE,function(t){t.enabled=!1}),n)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.ENABLE="ENABLE",n=e.DISABLE="DISABLE",o=e.CHANGE_PROPERTY="CHANGE_PROPERTY";e.default={DISABLE:n,ENABLE:r,CHANGE_PROPERTY:o}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={enabled:!1,allPagesVisible:!0,currentPagesVisible:!1}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(215),o=r(n),a=i(216),s=r(a),l=i(217),u=r(l),c=i(218),h=r(c);e.default={namespaced:!0,actions:o.default,getters:s.default,mutations:u.default,state:h.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={version:function(t){return t.version}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={version:""}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(220),o=r(n),a=i(221),s=r(a),l=i(222),u=r(l),c=i(224),h=r(c);e.default={namespaced:!0,actions:o.default,getters:s.default,mutations:u.default,state:h.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(223),n=i(102),o=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}({},r.CHANGE_PROPERTY,function(t,e){var i=e.key,r=e.value;o.default.set(t,i,r)})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.CHANGE_PROPERTY="CHANGE_PROPERTY";e.default={CHANGE_PROPERTY:r}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={useInMobile:!0}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(226),o=r(n),a=i(227),s=r(a),l=i(228),u=r(l),c=i(229),h=r(c);e.default={namespaced:!0,actions:o.default,getters:s.default,mutations:u.default,state:h.default}},function(t,e,i){"use strict";function r(t,e){return t.leftPage===e.leftPage&&t.rightPage===e.rightPage&&t.zoomMode===e.zoomMode&&t.singleMode===e.singleMode}Object.defineProperty(e,"__esModule",{value:!0});var n=i(109),o=function(t){return t&&t.__esModule?t:{default:t}}(n),a=i(164);e.default={goToPageById:function(t,e){var i=t.state,n=t.commit,a=t.getters,s=(t.rootGetters,t.rootState,e.id),l=e.target,u=void 0===l?null:l,c=e.rightWideHalf,h=void 0!==c&&c,d=a.stateByPageId(s,h);if(d&&!i.freezed){if(r(d,i))return!0;n(o.default.CHANGE_LAST_TARGET,{target:u}),n(o.default.CHANGE_PAGE,d)}},goToPageByIndex:function(t,e){var i=t.dispatch,r=t.rootGetters,n=t.rootState,o=e.pageIndex,a=e.target,s=void 0===a?null:a;if(o<0||o>=n.pages.pagesCount)return!1;var l=r["pages/pageIdByIndex"](o),u=!1;if(null===l&&(l=r["pages/pageIdByIndex"](o-1),u=!0,null===l))return!1;i("goToPageById",{id:l,target:s,rightWideHalf:u})},setZoomMode:function(t,e){var i=t.state,r=t.commit,n=t.getters,a=(t.rootState,t.rootGetters),s=e.zoomMode,l=e.isRightPage,u=e.target;if(s===i.zoomMode||0===a["pages/pagesCount"])return!1;var c=l?i.rightPage?i.rightPage:i.leftPage:i.leftPage?i.leftPage:i.rightPage;r(o.default.CHANGE_LAST_TARGET,{target:u}),r(o.default.CHANGE_ZOOM_MODE,{zoomMode:s});var h=n.stateByPageId(c);r(o.default.CHANGE_PAGE,h)},setSingleMode:function(t,e){var i=t.state,r=t.commit,n=t.getters,a=(t.rootState,t.rootGetters),s=e.singleMode,l=e.isRightPage,u=e.target;if(s===i.singleMode||0===a["pages/pagesCount"])return!1;s||(l=!0);var c=l?i.rightPage?i.rightPage:i.leftPage:i.leftPage?i.leftPage:i.rightPage,h=s&&l&&a["pages/pageProp"](c,"wide");r(o.default.CHANGE_LAST_TARGET,{target:u}),r(o.default.CHANGE_SINGLE_MODE,{singleMode:s});var d=n.stateByPageId(c,h);r(o.default.CHANGE_PAGE,d)},goToFirst:function(t){(0,t.dispatch)("goToPageByIndex",{pageIndex:0})},goToLast:function(t){(0,t.dispatch)("goToPageByIndex",{pageIndex:t.rootGetters["pages/pagesCount"]-1})},goBackward:function(t,e){var i=t.dispatch,r=(t.rootState,t.rootGetters),n=t.state,o=e.target,a=void 0===o?null:o,s=r["pager/prevPageId"];if(s){i("goToPageById",{id:s,rightWideHalf:n.singleMode&&n.leftPage&&r["pages/pageProp"](n.leftPage,"wide")&&n.leftPage!==n.rightPage,leftWideHalf:n.singleMode&&n.rightPage&&r["pages/pageProp"](n.rightPage,"wide")&&n.leftPage===n.rightPage,target:a})}},goForward:function(t,e){var i=t.dispatch,r=(t.rootState,t.rootGetters),n=t.state,o=e.target,a=void 0===o?null:o,s=r["pager/nextPageId"];if(s){i("goToPageById",{id:s,rightWideHalf:n.singleMode&&r["pages/pageProp"](n.rightPage,"wide")&&n.leftPage!==n.rightPage,target:a})}},goToPageByUserInput:function(t,e){var i=t.dispatch,r=t.rootState,n=t.rootGetters,o=e.userInput,s=e.type;if("url"===s){var l=r.pages.structure.filter(function(t){return t+="",r.pages[t]&&r.pages[t].urlHeader&&r.pages[t].urlHeader===o});if(l.length>0)return void i("goToPageById",{id:l[0]})}if("caption"===s){var u=r.pages.structure.filter(function(t){return t+="",r.pages[t]&&r.pages[t].displayName&&r.pages[t].displayName===o});if(u.length>0)return void i("goToPageById",{id:u[0]})}var c=r.book.numerationOffset;if(o=o.split("-")[0],c>0){var h=(0,a.deromanize)(o);if(null!==h&&h<=c)return void i("goToPageByIndex",{pageIndex:h-1})}var d=parseInt(o,10);!isNaN(d)&&d>0&&d+c<=n["pages/pagesCount"]&&d+c>=0?i("goToPageByIndex",{pageIndex:d+c-1}):i("goToFirst")},freeze:function(t){var e=t.commit,i=t.state,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.target,a=void 0===n?"unknown":n;i.freezed||(e(o.default.FROZEN_BY,{target:a}),e(o.default.FREEZE))},unfreeze:function(t){var e=t.commit,i=t.state,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.target,a=void 0===n?"unknown":n;i.freezed&&i.frozenBy===a&&(e(o.default.FROZEN_BY,{target:null}),e(o.default.UNFREEZE))},setFlipState:function(t,e){var i=t.state,r=t.commit,n=e.newState;if(n===i.flipState)return!1;r(o.default.CHANGE_FLIP_STATE,{flipState:n})},setForceFlip:function(t,e){var i=t.state,r=t.commit,n=e.forceFlip;if(n===i.forceFlip)return!1;r(o.default.CHANGE_FORCE_FLIP,{forceFlip:n})},setForceRerender:function(t,e){var i=t.state,r=t.commit,n=e.forceRerender;if(n===i.forceRerender)return!1;r(o.default.CHANGE_FORCE_RERENDER,{forceRerender:n})}}},function(t,e,i){"use strict";function r(t,e,i,r){this.leftPage=t,this.rightPage=e,this.zoomMode=i,this.singleMode=r}function n(t){var e=t.rootState,i=t.state,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.pages.structure.filter(function(t){return null!==t}),o=i.singleMode&&!r?i.rightPage?i.rightPage:i.leftPage:i.leftPage?i.leftPage:i.rightPage,a=n.indexOf(o);return a>0&&!r?n[a-1]:a>0&&r?n[a]:null}function o(t){var e=t.rootState,i=(t.rootGetters,t.state),r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.pages.structure.filter(function(t){return null!==t}),o=i.rightPage?i.rightPage:i.leftPage,a=n.indexOf(o);return a<n.length-1&&!r?n[a+1]:a<=n.length-1&&r?n[a]:null}function a(t){var e=t.rootState,i=t.state,r=(t.rootGetters,e.pages.structure.filter(function(t){return null!==t})),n=i.singleMode?i.rightPage?i.rightPage:i.leftPage:i.leftPage?i.leftPage:i.rightPage,o=r.indexOf(n);if(o<0)return null;for(var a=o-1;a>=0;a--)if(r[a]&&!e.pages[r[a]].stub)return r[a];return null}function s(t){var e=t.rootState,i=t.state,r=(t.rootGetters,e.pages.structure.filter(function(t){return null!==t})),n=i.rightPage?i.rightPage:i.leftPage,o=r.indexOf(n);if(o<0)return null;for(var a=o+1,s=r.length;a<s;a++)if(r[a]&&!e.pages[r[a]].stub)return r[a];return null}Object.defineProperty(e,"__esModule",{value:!0}),e.default={stateForDisplay:function(t,e,i,r){var n=null,o=null;return 0===r["pages/pagesCount"]?"0":t.singleMode?r["pages/pageCaptionById"](t.rightPage):t.leftPage===t.rightPage?r["pages/pageCaptionById"](t.leftPage):(null!==t.leftPage&&(n=r["pages/pageCaptionById"](t.leftPage)),null!==t.rightPage&&(o=r["pages/pageCaptionById"](t.rightPage)),i.book.rightToLeft?null===o?null===n?"":n:o+(null===n?"":" - "+n):null===n?null===o?"":o:n+(null===o?"":" - "+o))},state:function(t){return{leftPage:t.leftPage,rightPage:t.rightPage,zoomMode:t.zoomMode,singleMode:t.singleMode}},resourcesForLoading:function(t,e,i){var r=[],n=i.pages.structure;if(t.zoomMode){n=n.filter(function(t){return null!==t});var o=n.indexOf(t.leftPage);r.push(n[o]),r.push(n[o+1]||null),r.push(n[o-1]||null)}else if(t.singleMode){n=n.filter(function(t){return null!==t});var a=n.indexOf(t.rightPage);r.push(n[a]),r.push(n[a+1]||null),r.push(n[a-1]||null)}else{var s=i.pages.structure.indexOf(t.leftPage||!1),l=i.pages.structure.indexOf(t.rightPage||!1);s===l&&(l+=1),-1===s&&(s=-10),-1===l&&(l=-10),r.push(n[s]||null),r.push(n[l]||null),r.push(n[l+1]||null),r.push(n[l+2]||null),r.push(n[s-1]||null),r.push(n[s-2]||null)}return r=r.filter(function(t){return null!==t})},nextPageId:function(t,e,i,r){return o({rootState:i,state:t},t.singleMode&&r["pages/pageProp"](t.rightPage,"wide")&&t.leftPage!==t.rightPage)},prevPageId:function(t,e,i,r){return n({rootState:i,state:t},t.singleMode&&t.rightPage&&r["pages/pageProp"](t.rightPage,"wide")&&t.leftPage===t.rightPage)},nextNonStubPageId:function(t,e,i,r){return s({rootState:i,state:t,rootGetters:r})},prevNonStubPageId:function(t,e,i,r){return a({rootState:i,state:t,rootGetters:r})},isLastPage:function(t,e,i,r){return t.singleMode?null===e.nextNonStubPageId&&!(r["pages/pageProp"](t.rightPage,"wide")&&t.leftPage!==t.rightPage):null===e.nextNonStubPageId},isFirstPage:function(t,e){return null===e.prevNonStubPageId},stateByPageId:function(t,e,i,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(-1===i.pages.structure.indexOf(t+""))return null;if(i.pager.zoomMode)return new r(t,null,!0,!1);if(i.pager.singleMode){var o=n["pages/pageIndexById"](t);return new r(e?t:n["pages/pageIdByIndexWide"](o-1),t,!1,!0)}var a=n["pages/pageIndexById"](t);return a%2!=0?new r(t,n["pages/pageIdByIndexWide"](a+1),!1,!1):new r(n["pages/pageIdByIndexWide"](a-1),t,!1,!1)}}}},function(t,e,i){"use strict";function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(109);e.default=(n={},r(n,o.CHANGE_PAGE,function(t,e){var i=e.leftPage,r=e.rightPage;t.leftPage=i,t.rightPage=r}),r(n,o.CHANGE_ZOOM_MODE,function(t,e){var i=e.zoomMode;t.zoomMode=i}),r(n,o.CHANGE_SINGLE_MODE,function(t,e){var i=e.singleMode;t.singleMode=i}),r(n,o.CHANGE_LAST_TARGET,function(t,e){var i=e.target;t.lastTarget=i}),r(n,o.FREEZE,function(t){t.freezed=!0}),r(n,o.UNFREEZE,function(t){t.freezed=!1}),r(n,o.FROZEN_BY,function(t,e){var i=e.target;t.frozenBy=i}),r(n,o.CHANGE_FLIP_STATE,function(t,e){var i=e.flipState;t.flipState=i}),r(n,o.CHANGE_FORCE_FLIP,function(t,e){var i=e.forceFlip;t.forceFlip=i}),r(n,o.CHANGE_FORCE_RERENDER,function(t,e){var i=e.forceRerender;t.forceRerender=i}),n)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={leftPage:null,rightPage:null,zoomMode:!1,singleMode:!1,lastTarget:null,freezed:!1,flipState:"pending",forceFlip:!1,forceRerender:!1}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(231),o=r(n),a=i(232),s=r(a),l=i(233),u=r(l),c=i(234),h=r(c);e.default={namespaced:!0,actions:o.default,getters:s.default,mutations:u.default,state:h.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(165),n=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default={changePageSize:function(t,e){var i=t.state,r=t.commit,o=e.width,a=e.height;i.size.width===o&&i.size.height===a||r(n.default.CHANGE_PAGE_SIZE,{width:o,height:a})},resourceLoad:function(t,e){var i=(t.state,t.commit),r=t.rootGetters,o=e.resType,a=e.url,s=e.pageID,l=e.thOnly;switch(o){case"thumbnail":i(n.default.LOAD_THUMBNAIL,{url:a,pageID:s});break;case"substrate":i(n.default.LOAD_SUBSTRATE,{url:a,pageID:s});break;case"text":i(n.default.LOAD_TEXT_LAYER,{url:a,pageID:s});break;case"vector":i(n.default.LOAD_VECTOR_LAYER,{url:a,pageID:s})}if(!l){if(!r["pages/pageProp"](s,"substrateUrl"))return;if((r["pages/textImageUrl"](s)||r["pages/vectorUrl"](s))&&!r["pages/pageProp"](s,"textUrl"))return;i(n.default.CHANGE_LOAD_PENDING,{pageID:s,value:!1})}},resetResources:function(t){var e=t.commit,i=t.getters;t.rootGetters["thumbnails/windowIsOpen"]?e(n.default.RESET_RESOURCES_EXCL_TH,{pageIDsArray:i.pagesWithResources}):e(n.default.RESET_RESOURCES,{pageIDsArray:i.pagesWithResources})},addContent:function(t,e){(0,t.commit)(n.default.ADD_CONTENT,e)},removeContent:function(t,e){(0,t.commit)(n.default.REMOVE_CONTENT,e)},changeLoadPending:function(t,e){(0,t.commit)(n.default.CHANGE_LOAD_PENDING,e)},setPageProperty:function(t,e){var i=t.commit,r=e.pageID,o=e.property,a=e.value;i(n.default.SET_PAGE_PROPERTY,{pageID:r,property:o,value:a})},removePageProperty:function(t,e){var i=t.commit,r=e.pageID,o=e.property;i(n.default.REMOVE_PAGE_PROPERTY,{pageID:r,property:o})},resetNumeration:function(t){var e=t.state,i=t.commit;for(var r in e)if(e.hasOwnProperty(r)){if("size"===r||"defaults"===r||"structure"===r)continue;e[r].hasOwnProperty("displayName")&&i(n.default.REMOVE_PAGE_PROPERTY,{pageID:r,property:"displayName"}),e[r].hasOwnProperty("urlHeader")&&i(n.default.REMOVE_PAGE_PROPERTY,{pageID:r,property:"urlHeader"})}}}},function(t,e,i){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var n=i(164),o=i(100),a=i(105),s=i(101),l=function(t){return t&&t.__esModule?t:{default:t}}(s);e.default={pageProp:function(t){return function(e,i){if(!e||!i)return null;var r=null;return void 0!==t[e][i]?r=t[e][i]:void 0!==t.defaults[i]&&(r=t.defaults[i]),"displayName"===i&&(r=(0,a.decodeHtml)(r)),r}},pageIdByIndex:function(t,e){return function(i){return i>=e.pagesCount||i<0?null:t.structure[i]}},pageIdByIndexWide:function(t,e){return function(i){return i>=e.pagesCount||i<0?null:t.structure[i]?t.structure[i]:t.structure[i-1]}},pagesCount:function(t){return t.structure.length},pageResourcesCount:function(t){return t.structure.filter(function(t){return null!==t}).length},pageIndexById:function(t){return function(e){return null===e?-1:t.structure.indexOf(e)}},urlHeaderById:function(t,e){return function(i){return t[i]?e.pageProp(i,"urlHeader")||e.calculatedCaptionById(i,"-"):null}},calculatedCaptionById:function(t,e,i){return function(t,r){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.pageIndexById(t),s=e.pageProp(t,"wide"),l=i.book.rightToLeft,u=i.book.numerationOffset,c=function(t){return t<u?(0,n.romanize)(t+1):t-u+1};if(u>0&&(!i.pager.singleMode||o)){var h=c(a);return s&&(l?h=c(a+1)+r+h:h+=r+c(a+1)),""+h}return!i.pager.singleMode||o?s?l?(a+2-u).toString()+r+(a+1-u).toString():(a+1-u).toString()+r+(a+2-u).toString():(a+1-u).toString():i.pager.singleMode?s&&i.pager.leftPage===i.pager.rightPage?c(a+1).toString():c(a).toString():(a+1).toString()}},pageCaptionById:function(t,e){return function(i){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t[i]?e.pageProp(i,"displayName")||e.calculatedCaptionById(i," - ",r):null}},pageCaptionByIndex:function(t,e,i){return function(r){r*=1;var o=e.pageIdByIndex(r);if(!o){var a=e.pageIdByIndex(r-1);e.pageProp(a,"wide")&&(o=a,!0)}if(!t[o])return null;var s=e.pageProp(o,"displayName");if(s)return s;var l=i.book.numerationOffset;return l>0?function(t){return t<l?(0,n.romanize)(t+1):t-l+1}(r).toString():(r+1-l).toString()}},pageIdByUrlHeader:function(t,e,i){return function(t){var r=t.split("-"),a=i.book.numerationOffset,s=void 0,l=void 0;return i.book.urlNames&&(s=i.book.urlNames[t])?s:(l=(0,o.isRoman)(r[0])?(0,n.deromanize)(r[0]):a>0?Number(r[0])+a:r[0],e.pageIdByIndexWide(l-1))}},isFirstPage:function(t,e){return function(i){return t[i]?0===e.pageIndexById(i):null}},isLastPage:function(t,e){return function(i){return t[i]?e.pageIndexById(i)+(e.pageProp(i,"wide")?2:1)===e.pagesCount:null}},imageSizes:function(t,e,i){return function(r){var n=e.pageProp(r,"substrateSizes"),o=t.size,a={};if(n){var s=parseInt(e.pageProp(r,"substrateSizesReady"),10),l=e.pageProp(r,"customSubstrateSize"),u=e.pageProp(r,"textSizes");0===s&&(s=4);var c=n.slice(0,s);l&&(c=c.slice(0,c.length-1),c.push(parseInt(l,10)));var h=Math.max(o.width,o.height),d=c.filter(function(t){return t>=h||t===c[c.length-1]})[0],f=u.filter(function(t){return t>=h||t===u[u.length-1]})[0];a.substrate=c.indexOf(d)+1,a.text=u.indexOf(f)+1}else i.pager.zoomMode||i.pager.singleMode?(a.substrate="l",a.text="l1"):(a.substrate="",a.text="c");return a}},isSVGSupported:function(t,e,i){return function(t){var r=i.workspace.userAgentInfo;return!!e.pageProp(t,"vectorText")&&(!e.pageProp(t,"rasterize")&&((!e.pageProp(t,"rtlContent")||!r.browser.msedge)&&((!r.browser.ie||"11.0"!==r.browser.version)&&(!(r.os.ios&&r.os.version.split(".")[0]<9)&&!(r.os.android&&r.os.version.split(".")[0]<5)))))}},stubUrl:function(){return(0,l.default)().translatePath("assets/common/pages/pagestub.png")},thumbnailUrl:function(t,e){return function(t){if(e.pageProp(t,"stub"))return null;var i=(0,a.getNum)(t),r=e.pageProp(t,"thFormat");return r&&(r="."+r),(0,l.default)().translatePath("assets/common/pages/thumbnails/page"+i+"_s"+r)}},substrateUrl:function(t,e){return function(t){if(e.pageProp(t,"stub"))return null;var i=e.imageSizes(t).substrate,r=function(t){return""===t?"":"."+t}(e.pageProp(t,"substrateFormat")),n=i?"_":"",o=(0,a.getNum)(t);return(0,l.default)().translatePath("assets/common/pages/substrates/page"+o+n+i+r)}},textImageUrl:function(t,e){return function(t){if(e.pageProp(t,"stub"))return null;var i=e.pageProp(t,"textLayer"),r=e.imageSizes(t).text,n=(0,a.getNum)(t);return i?(0,l.default)().translatePath("assets/common/pages/text/page"+n+"_"+r+".png"):null}},vectorUrl:function(t,e){return function(t){if(e.pageProp(t,"stub"))return null;var i=e.isSVGSupported(t),r=(0,a.getNum)(t);return i?(0,l.default)().translatePath("assets/common/pages/vector/"+r+".svg"):null}},pagesWithResources:function(t,e,i,r){var n=[],o=r["pager/resourcesForLoading"];for(var a in t)if(t.hasOwnProperty(a)){var s=t[a];if("size"===a||"defaults"===a||"structure"===a)continue;if(-1!==o.indexOf(a))continue;null===s.substrateUrl&&null===s.textUrl&&null===s.thumbnailUrl||n.push(a)}return n},pageContent:function(t,e,i){return function(e){return t[e].content.map(function(t){return i.content.items[t]})}},contentItems:function(t,e){return function(t){var i=t.pageID,r=t.contentType;return e.pageContent(i).filter(function(t){return t.type===r})}},pageContentGrouppedByType:function(t,e,i,n){return function(t){return e.pageContent(t).reduce(function(t,e){return t[e.type]=[].concat(r(t[e.type]||[]),[e]),t},{})}},size:function(t){return{width:t.size.width,height:t.size.height}},pageGradient:function(t,e,i){return function(e){var r=t[e]?t[e].shadowDepth:null;switch((null===r||(0,o.isUndefined)(r))&&(r=t.defaults.shadowDepth),1*r==-1&&(r=i.book.shadowDepth),1*r){case 0:return"gradient-zero";case 1:return"gradient-light";case 3:return"gradient-dark";case 4:return"gradient-max";default:return"gradient-middle"}}},originalPageSize:function(t,e){return function(t){return{width:e.pageProp(t,"width"),height:e.pageProp(t,"height")}}}}},function(t,e,i){"use strict";function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function n(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var o,a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},s=i(102),l=function(t){return t&&t.__esModule?t:{default:t}}(s),u=i(165);e.default=(o={},r(o,u.CHANGE_PAGE_SIZE,function(t,e){var i=e.width,r=e.height;t.size={width:i,height:r}}),r(o,u.LOAD_THUMBNAIL,function(t,e){var i=e.pageID,r=e.url;t[i].thumbnailUrl=r}),r(o,u.LOAD_SUBSTRATE,function(t,e){var i=e.pageID,r=e.url;t[i].substrateUrl=r}),r(o,u.LOAD_TEXT_LAYER,function(t,e){var i=e.pageID,r=e.url;t[i].textUrl=r}),r(o,u.LOAD_VECTOR_LAYER,function(t,e){var i=e.pageID,r=e.url;t[i].textUrl=r}),r(o,u.RESET_RESOURCES,function(t,e){for(var i=e.pageIDsArray,r=0,n=i.length;r<n;r++){var o=a({},t[i[r]]);o.thumbnailUrl=null,o.textUrl=null,o.substrateUrl=null,l.default.set(t,i[r],o)}}),r(o,u.RESET_RESOURCES_EXCL_TH,function(t,e){for(var i=e.pageIDsArray,r=0,n=i.length;r<n;r++){var o=a({},t[i[r]]);o.textUrl=null,o.substrateUrl=null,l.default.set(t,i[r],o)}}),r(o,u.RESET_TH_RESOURCES,function(t,e){for(var i=e.pageIDsArray,r=0,n=i.length;r<n;r++){var o=a({},t[i[r]]);o.thumbnailUrl=null,l.default.set(t,i[r],o)}}),r(o,u.ADD_CONTENT,function(t,e){var i=e.pageID,r=e.itemId;if(i in t){var o=a({},t[i]),s=[].concat(n(o.content),[r]);o.content=s,l.default.set(t,i,o)}}),r(o,u.REMOVE_CONTENT,function(t,e){var i=e.pageID,r=e.itemId;if(i in t){var n=a({},t[i]),o=n.content||[];n.content=o.filter(function(t){return t!==r}),l.default.set(t,i,n)}}),r(o,u.CHANGE_LOAD_PENDING,function(t,e){var i=e.pageID,r=e.value;t[i].loadPending=r}),r(o,u.SET_PAGE_PROPERTY,function(t,e){var i=e.pageID,r=e.property,n=e.value,o=a({},t[i]);o[r]=n,l.default.set(t,i,o)}),r(o,u.REMOVE_PAGE_PROPERTY,function(t,e){var i=e.pageID,r=e.property;if(i in t&&t[i].hasOwnProperty(r)){var n=a({},t[i]);delete n[r],l.default.set(t,i,n)}}),o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={defaults:{width:0,height:0,thFormat:"",textLayer:!0,substrateFormat:"",substrateZoomFormat:"",stub:!1,slideDelay:2,backgroundColor:"#FFFFFF",wide:!1,pageResize:"FIT",shadowDepth:-1},size:{width:null,height:null}}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(236),o=r(n),a=i(237),s=r(a),l=i(238),u=r(l),c=i(239),h=r(c);e.default={namespaced:!0,actions:o.default,getters:s.default,mutations:u.default,state:h.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={currentPagesVisible:!0,selectedPagesVisible:!0}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(241),o=r(n),a=i(242),s=r(a),l=i(243),u=r(l),c=i(244),h=r(c);e.default={namespaced:!0,actions:o.default,getters:s.default,mutations:u.default,state:h.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(108);e.default={setQuery:function(t,e){var i=t.commit,n=e.value;i(r.CHANGE_QUERY,n)},saveScrollY:function(t,e){(0,t.commit)(r.UPDATE_SCROLL,{y:e})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={isInitialized:function(t){return t.searchObjectCreated},getProgress:function(t){if(null===t.status)return null;if("complete"===t.status)return 100;var e=t.status,i=e.progress,r=e.of;return Math.round(100*i/r)},getHighlights:function(t){return function(e){return"complete"===t.status?t.highlights[e]:[]}}}},function(t,e,i){"use strict";function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function n(t,e){return t.relevance!==e.relevance?t.relevance-e.relevance:t.pageId-e.pageId}Object.defineProperty(e,"__esModule",{value:!0});var o,a=i(108),s=i(102),l=function(t){return t&&t.__esModule?t:{default:t}}(s);e.default=(o={},r(o,a.CHANGE_QUERY,function(t,e){t.query=e}),r(o,a.NORMALIZE_INITIALIZED,function(t){t.normalizeLibraryInitialized=!0}),r(o,a.SEARCH_LIBRARY_INITIALIZED,function(t){t.searchLibraryInitialized=!0}),r(o,a.SEARCH_OBJECT_CREATED,function(t){t.searchObjectCreated=!0}),r(o,a.INDEX_LOADED,function(t){t.indexLoaded=!0}),r(o,a.INIT,function(t){t.initialized=!0}),r(o,a.CHANGE_PROPERTY,function(t,e){var i=e.key,r=e.value;t[i]=r}),r(o,a.ADD_RESULT,function(t,e){t.results.push(e),t.results.sort(n)}),r(o,a.ADD_RESULTS,function(t,e){Array.prototype.push.apply(t.results,e),t.results.sort(n)}),r(o,a.CLEAR_RESULTS,function(t){t.results=[]}),r(o,a.ADD_HIGHLIGHTS,function(t,e){var i=e.key,r=e.query,n=e.value;l.default.set(t.highlights,i,{ready:!0,query:r,data:n})}),r(o,a.CLEAR_HIGHLIGHTS,function(t){for(var e in t.highlights)t.highlights.hasOwnProperty(e)&&l.default.set(t.highlights,e,{ready:!1,query:"",data:[]})}),r(o,a.ADD_CHUNK,function(t,e){t.searchIndex.push(e)}),r(o,a.CHANGE_STATUS,function(t,e){t.status=e}),r(o,a.UPDATE_SCROLL,function(t,e){var i=e.y;t.scrollY=i}),o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={color:"#FFE921",path:"/searchtext.xml",exactMatch:!1,searchCharactersLimit:1,enabled:!1,chunkSize:66,searchInterval:33,maxTextResultLength:90,indexLoaded:!1,normalizeLibraryInitialized:!1,searchIndex:[],query:"",searchLibraryInitialized:!1,searchObjectCreated:!1,results:[],highlights:{},status:null,scrollY:0}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(246),o=r(n),a=i(247),s=r(a),l=i(248),u=r(l),c=i(249),h=r(c);e.default={namespaced:!0,actions:o.default,getters:s.default,mutations:u.default,state:h.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(113);e.default={setParam:function(t,e){var i=t.commit,n=t.state,o=e.param,a=e.value;n.styles.hasOwnProperty(o)&&i(r.CHANGE_PARAM,{param:o,value:a})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,i){"use strict";function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(113);e.default=(n={},r(n,o.INIT,function(t){t.initialized=!0}),r(n,o.TEMPLATES_LOADED,function(t){t.templateLoaded=!0}),r(n,o.CHANGE_PARAM,function(t,e){var i=e.param,r=e.value;t.styles[i]=r}),n)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={initialized:!1,templateLoaded:!1,styles:{"font-weight-normal":"600","font-weight-bold":"800"}}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(251),o=r(n),a=i(252),s=r(a),l=i(253),u=r(l),c=i(254),h=r(c);e.default={namespaced:!0,actions:o.default,getters:s.default,mutations:u.default,state:h.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(166),n=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default={toggleState:function(t,e){(0,t.commit)(n.default.TOGGLE_STATE,{branch:e})},saveScrollY:function(t,e){(0,t.commit)(n.default.UPDATE_SCROLL,{y:e})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,i){"use strict";function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(166);e.default=(n={},r(n,o.ENABLE,function(t){t.enabled=!0}),r(n,o.DISABLE,function(t){t.enabled=!1}),r(n,o.SET_CHILDREN,function(t,e){var i=e.value;t.children=i}),r(n,o.TOGGLE_STATE,function(t,e){var i=e.branch;i.toggle=!i.toggle}),r(n,o.UPDATE_SCROLL,function(t,e){var i=e.y;t.scrollY=i}),n)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={enabled:!0,scrollY:0}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(256),o=r(n),a=i(257),s=r(a),l=i(258),u=r(l),c=i(259),h=r(c);e.default={namespaced:!0,actions:o.default,getters:s.default,mutations:u.default,state:h.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(167),n=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default={toggleFullScreen:function(t){var e=t.commit;e(t.state.fullScreenMode?n.default.UNSET_FULLSCREEN_MODE:n.default.SET_FULLSCREEN_MODE)},toggleTextSelection:function(t){var e=t.commit;e(t.state.textSelectionOn?n.default.TEXT_SELECTION_OFF:n.default.TEXT_SELECTION_ON)},toggleMuteSound:function(t){var e=t.commit;e(t.state.muteSound?n.default.UNMUTE_SOUND:n.default.MUTE_SOUND)},freeze:function(t){var e=t.commit,i=t.state,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.target,a=void 0===o?"unknown":o;i.freezed||(e(n.default.FROZEN_BY,{target:a}),e(n.default.FREEZE))},unfreeze:function(t){var e=t.commit,i=t.state,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.target,a=void 0===o?"unknown":o;i.freezed&&i.frozenBy===a&&(e(n.default.FROZEN_BY,{target:null}),e(n.default.UNFREEZE))},setLayout:function(t,e){var i=t.commit;t.state;i(n.default.SET_LAYOUT,e)},setBookComponent:function(t,e){var i=t.commit;t.state;i(n.default.SET_BOOK_COMPONENT,e)},setResizing:function(t,e){var i=t.commit;t.state;i(n.default.SET_RESIZING,e)},setModalOpened:function(t,e){var i=t.commit;t.state;i(n.default.SET_MODAL,e)},setPreloader:function(t,e){var i=t.commit;t.state;i(n.default.SET_PRELOADER,e)},setSize:function(t,e){var i=t.commit,r=(t.state,e.width),o=e.height;i(n.default.SET_SIZE,{width:r,height:o})},setVisible:function(t,e){var i=t.commit;t.state;i(n.default.SET_VISIBLE,e)},setEmbed:function(t,e){var i=t.commit;t.state;i(n.default.SET_EMBED,e)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={fullScreenMode:function(t){return t.fullScreenMode},isInited:function(t){return t.isInited},size:function(t){return t.size}}},function(t,e,i){"use strict";function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(167);e.default=(n={},r(n,o.CHANGE_PROPERTY,function(t,e){var i=e.key,r=e.value;t[i]=r}),r(n,o.SET_FULLSCREEN_MODE,function(t){t.fullScreenMode=!0}),r(n,o.UNSET_FULLSCREEN_MODE,function(t){t.fullScreenMode=!1}),r(n,o.MUTE_SOUND,function(t){t.muteSound=!0}),r(n,o.UNMUTE_SOUND,function(t){t.muteSound=!1}),r(n,o.TEXT_SELECTION_OFF,function(t){t.textSelectionOn=!1}),r(n,o.TEXT_SELECTION_ON,function(t){t.textSelectionOn=!0}),r(n,o.INIT,function(t){t.isInited=!0}),r(n,o.ENABLE,function(t,e){t.components[e]=!0}),r(n,o.DISABLE,function(t,e){t.components[e]=!1}),r(n,o.FREEZE,function(t){t.freezed=!0}),r(n,o.UNFREEZE,function(t){t.freezed=!1}),r(n,o.FROZEN_BY,function(t,e){var i=e.target;t.frozenBy=i}),r(n,o.SET_LAYOUT,function(t,e){t.layout=e}),r(n,o.SET_BOOK_COMPONENT,function(t,e){t.bookComponent=e}),r(n,o.SET_RESIZING,function(t,e){t.isResizing=e}),r(n,o.SET_MODAL,function(t,e){t.modalOpened=e}),r(n,o.SET_PRELOADER,function(t,e){t.preloader=e}),r(n,o.SET_SIZE,function(t,e){var i=e.width,r=e.height;t.size={width:i,height:r}}),r(n,o.SET_VISIBLE,function(t,e){t.visible=e}),r(n,o.SET_EMBED,function(t,e){t.isEmbed=e}),r(n,o.CHANGE_TOTAL_PAGE_VISIBLE,function(t,e){!0===t.components.paginator||!1===t.components.paginator?t.components.paginator={enabled:t.components.paginator,totalPagesVisible:e}:t.components.paginator.totalPagesVisible=e}),r(n,o.CHANGE_PAGINATOR_ENABLED,function(t,e){!0===t.components.paginator||!1===t.components.paginator?t.components.paginator={enabled:e,totalPagesVisible:t.components.totalPagesVisible}:t.components.paginator.enabled=e}),n)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={sound:{background:{loop:!0,volume:30},flip:{enabled:!0,volume:25,hard:["blow.mp3"],soft:["flip2.mp3","flip3.mp3","flip4.mp3"]},enabled:!0},bookSize:96,components:{bottomBar:!0,zoom:!0,navigation:!1,topBar:!0,embed:!1,fullscreen:!0,print:!0,thumbnails:!0,share:!0,textSelection:!1,slideshow:!1,paginator:{enabled:!0,totalPagesVisible:!0},book:{flip:!0,slide:!0}},thumbType:"AUTO",locales:[],fullScreenMode:!1,muteSound:!1,textSelectionOn:!1,userAgentInfo:{browser:{}},cookieNotice:{enabled:!1},customTotalPages:null,layout:null,bookComponent:null,isInited:!1,freezed:!1,isResizing:!1,isEmbed:!1,isProtected:!1,embedScript:!1,embedLightbox:!1,modalOpened:!1,preloader:!1,size:{width:null,heoght:null},visible:!0}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(261),o=r(n),a=i(262),s=r(a),l=i(263),u=r(l),c=i(264),h=r(c);e.default={namespaced:!0,actions:o.default,getters:s.default,mutations:u.default,state:h.default}},function(t,e,i){"use strict";function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0});var n=i(114),o=i(121),a=function(t){return t&&t.__esModule?t:{default:t}}(o);e.default={setCurrentLocale:function(t,e){var i=t.commit,r=t.state,o=e.locale;r.currentLocale!==o&&i(n.SET_CURRENT_LOCALE,{locale:o})},setCurrentFont:function(t,e){var i=t.commit,r=t.state,o=e.font;r.currentFont!==o&&i(n.SET_CURRENT_FONT,{font:o})},setStrings:function(t,e){var i=t.commit,r=e.strings;i(n.SET_STRINGS,{strings:r})},setLocale:function(t,e){var i=t.dispatch,o=t.commit,s=t.state,l=e.locale,u=e.strings;if(void 0!==s.strings[l])o(n.SET_LOCALE,{locale:l,strings:u});else{i("setStrings",{locale:l,strings:(0,a.default)(s.strings,r({},l,u))})}},setLocaleString:function(t,e){var i=t.dispatch,o=t.commit,s=t.state,l=e.locale,u=e.name,c=e.value;l=l||s.currentLocale;var h=u.split(".");if(void 0===s.strings[l][h[0]]||void 0===s.strings[l][h[0]][h[1]]){var d=(0,a.default)(s.strings[l],r({},h[0],r({},h[1],c)));i("setLocale",{locale:l,strings:d}),d=null}else o(n.SET_LOCALE_STRING,{locale:l,name:u,value:c})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={getLocaleStrings:function(t,e){return function(e){return t.strings[e]}},getFontConfig:function(t){var e=t.config.fonts.filter(function(e){return-1!==e.locales.indexOf(t.currentLocale)});if(e.length>0)return e[0]},isLocaleRtl:function(t){return-1!==t.config.rtl.indexOf(t.currentLocale)},getCurrent:function(t){return t.currentLocale}}},function(t,e,i){"use strict";function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(114);e.default=(n={},r(n,o.INIT,function(t){t.initialized=!0}),r(n,o.LOCALE_LOADED,function(t,e){var i=e.value;t.localeLoaded=i}),r(n,o.FONT_LOADED,function(t,e){var i=e.value;t.fontLoaded=i}),r(n,o.SET_CURRENT_LOCALE,function(t,e){var i=e.locale;t.currentLocale=i}),r(n,o.SET_CURRENT_FONT,function(t,e){var i=e.font;t.currentFont=i}),r(n,o.SET_STRINGS,function(t,e){var i=e.strings;t.strings=i}),r(n,o.SET_LOCALE,function(t,e){var i=e.locale,r=e.strings;t.strings[i]=r}),r(n,o.SET_LOCALE_STRING,function(t,e){for(var i=e.locale,r=e.name,n=e.value,o=r.split("."),a=t.strings[i],s=0;s<o.length-1;s++)a=a[o[s]];a[o[o.length-1]]=n}),n)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={strings:{},config:{locales:["en"],substitutes:{},rtl:[],fonts:[]},initialized:!1,fontLoaded:!1,localeLoaded:!1,currentLocale:null,currentFont:null}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(266),o=r(n),a=i(267),s=r(a),l=i(268),u=r(l),c=i(269),h=r(c);e.default={namespaced:!0,actions:o.default,getters:s.default,mutations:u.default,state:h.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(271),o=r(n),a=i(272),s=r(a),l=i(273),u=r(l),c=i(274),h=r(c);e.default={namespaced:!0,actions:o.default,getters:s.default,mutations:u.default,state:h.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(168),n=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default={maxRange:function(t,e){(0,t.commit)(n.default.MAX_RANGE,{page:e})},minRange:function(t,e){(0,t.commit)(n.default.MIN_RANGE,{page:e})},changeRange:function(t,e){var i=t.commit,r=e.minPage,o=e.maxPage;i(n.default.CHANGE_RANGE,{minPage:r,maxPage:o})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={windowIsOpen:function(t,e,i){return"thumbnails"===i.sidebar.opened},pagesRange:function(t,e,i){if(t.minRange<0||t.maxRange<0)return null;var r=i.pages.structure,n=new Array(t.maxRange-t.minRange+1).fill().map(function(e,i){return r[i+t.minRange]||null});return n=n.filter(function(t){return null!==t})}}},function(t,e,i){"use strict";function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(168);e.default=(n={},r(n,o.MIN_RANGE,function(t,e){var i=e.page;t.minRange=i}),r(n,o.MAX_RANGE,function(t,e){var i=e.page;t.maxRange=i}),r(n,o.CHANGE_RANGE,function(t,e){var i=e.minPage,r=e.maxPage;t.minRange=i,t.maxRange=r}),n)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={minRange:-1,maxRange:-1}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(276),o=r(n),a=i(277),s=r(a),l=i(278),u=r(l),c=i(279),h=r(c);e.default={namespaced:!0,actions:o.default,getters:s.default,mutations:u.default,state:h.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(169),n=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default={openPopup:function(t,e){var i=t.commit;if(t.state.opened===e)return void i(n.default.CLOSE_POPUP);i(n.default.OPEN_POPUP,e)},closePopup:function(t){var e=t.commit;null!==t.state.opened&&e(n.default.CLOSE_POPUP)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,i){"use strict";function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(169);e.default=(n={},r(n,o.OPEN_POPUP,function(t,e){t.opened=e}),r(n,o.CLOSE_POPUP,function(t){t.opened=null}),n)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={opened:null}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(281),o=r(n),a=i(282),s=r(a),l=i(283),u=r(l),c=i(284),h=r(c);e.default={namespaced:!0,actions:o.default,getters:s.default,mutations:u.default,state:h.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(170),n=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default={openSidebar:function(t,e){var i=t.commit;if(t.state.opened===e)return void i(n.default.CLOSE_SIDEBAR);i(n.default.OPEN_SIDEBAR,e)},closeSidebar:function(t){var e=t.commit;null!==t.state.opened&&e(n.default.CLOSE_SIDEBAR)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,i){"use strict";function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(170);e.default=(n={},r(n,o.OPEN_SIDEBAR,function(t,e){t.opened=e}),r(n,o.CLOSE_SIDEBAR,function(t){t.opened=null}),n)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={opened:null}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(286),o=r(n),a=i(287),s=r(a),l=i(288),u=r(l),c=i(289),h=r(c);e.default={namespaced:!0,actions:o.default,getters:s.default,mutations:u.default,state:h.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(171),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(r);e.default={select:function(t,e){(0,t.commit)(n.SELECT,e)},deselect:function(t){(0,t.commit)(n.DESELECT)},add:function(t,e){(0,t.commit)(n.ADD,e)},remove:function(t,e){(0,t.commit)(n.REMOVE,e)},update:function(t,e){(0,t.commit)(n.UPDATE,e)},replace:function(t,e){(0,t.commit)(n.REPLACE,e)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={isSelected:function(t){return function(e){var i=e.contentId;return t.selectedContentId===i}},hasSelected:function(t){return function(){return null!=t.selectedContentId}},selectedItemRect:function(t){return null!=t.selectedContentId?t.items[t.selectedContentId].rect:[]},selectedContentId:function(t){return t.selectedContentId}}},function(t,e,i){"use strict";function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0});var n,o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},a=i(102),s=function(t){return t&&t.__esModule?t:{default:t}}(a),l=i(171);e.default=(n={},r(n,l.SELECT,function(t,e){t.selectedContentId=e}),r(n,l.DESELECT,function(t){t.selectedContentId=null}),r(n,l.ADD,function(t,e){var i=e.contentType,r=e.contentData;t.items[r.itemId]=o(r,{type:i})}),r(n,l.REMOVE,function(t,e){var i=e.itemId,r=o({},t.items);delete r[i],s.default.set(t,"items",r)}),r(n,l.UPDATE,function(t,e){var i=e.itemId,r=e.updateData,n=o({},t.items);n[i]=o({},n[i],r),s.default.set(t,"items",n)}),r(n,l.REPLACE,function(t,e){var i=e.contentData,r=o({},i);s.default.set(t,"items",r)}),n)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={selectedContentId:null,outsideStorage:!1,items:{}}},function(t,e,i){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();e.IdProvider=function(){function t(){r(this,t),this.lastId=0}return n(t,[{key:"nextId",value:function(){return this.lastId+=1,this.lastId}}]),t}()},function(t){t.exports=JSON.parse('{"locales":["en","ar","de","es","fi","fr","he","it","ja","nl","no","pl","pt","ru","sv","tr","zh"],"substitutes":{"nb":"no","nn":"no","be":"ru"},"rtl":["ar","he"],"fonts":[{"locales":["de","en","es","fi","fr","it","nl","no","pl","pt","sv","tr"],"font-family":"Open Sans","subset":"latin-ext","font-weight-bold":"800","font-weight-normal":"600"},{"locales":["ar"],"font-family":"Cairo","subset":"arabic","font-weight-bold":"700","font-weight-normal":"600"},{"locales":["he"],"font-family":"Rubik","subset":"hebrew","font-weight-bold":"700","font-weight-normal":"500"},{"locales":["ru"],"font-family":"Open Sans","subset":"cyrillic,cyrillic-ext","font-weight-bold":"800","font-weight-normal":"600"}]}')},function(t,e,i){"use strict";function r(t){i(293),i(295)}i.r(e);var n=i(122),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);var s=i(453),l=i(99),u=r,c=Object(l.a)(o.a,s.a,s.b,!1,u,null,null);e.default=c.exports},function(t,e,i){},,function(t,e,i){},,function(t,e,i){"use strict";function r(t){i(298)}i.r(e);var n=i(124),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);var s=i(400),l=i(99),u=r,c=Object(l.a)(o.a,s.a,s.b,!1,u,null,null);e.default=c.exports},function(t,e,i){},,function(t,e,i){"use strict";function r(t){i(301)}i.r(e);var n=i(125),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);var s=i(363),l=i(99),u=r,c=Object(l.a)(o.a,s.a,s.b,!1,u,null,null);e.default=c.exports},function(t,e,i){},,function(t,e,i){},,function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return n});var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.className,style:t.pageStyle,on:{mousedown:t.onContentContainerClick}},[t.preloaderVisibleCache?i("div",{staticClass:"page-preloader"},[i("div",{staticClass:"preloader-container"},[t.isLoading&&!t.contentFreezed?i("spinner",{staticClass:"preloader-spinner",attrs:{size:36,"line-size":3,"line-fg-color":"#5692AE","line-bg-color":"#ffffff"}}):t._e(),t._v(" "),i("div",{staticClass:"preloader-bg"}),t._v(" "),i("div",{staticClass:"preloader-header"},[t._v(t._s(t.preloaderHeader))]),t._v(" "),i("div",{staticClass:"preloader-text"},[t._v(t._s(t.preloaderText))])],1),t._v(" "),t.isThumb||t.hasError?t._e():i("div",{staticClass:"preloader-th",style:t.thumbnailStyle},[i("img",{attrs:{crossOrigin:t.crossOrigin,src:t.thumbnailUrl}})])]):t._e(),t._v(" "),i("div",{staticClass:"background",style:t.contentStyle,attrs:{"data-id":t.pageId}},t._l(t.backgroundsCache,function(e,r){return i("img",{key:r,attrs:{crossOrigin:t.crossOrigin,src:e}})}),0),t._v(" "),i("div",{staticClass:"highlights",style:t.contentStyle},[t._l(t.highlights,function(t){return[i("div",{style:t.style})]})],2),t._v(" "),i("v-touch",{on:{tap:t.onContentTap}},[i("div",{staticClass:"content",style:t.contentStyle,on:{mousedown:t.onContentContainerClick}},[t._l(t.content,function(e){return[i(e.component,{directives:[{name:"show",rawName:"v-show",value:!t.isLoadingCache,expression:"!isLoadingCache"}],key:e.itemId,tag:"component",attrs:{data:e},on:{ready:t.contentItemReady,error:t.contentError}})]})],2)])],1)},n=[]},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(307),o=r(n),a=i(109),s=i(33),l=r(s),u=function(t){var e=this,i=t.state.state.book.rightToLeft;this.bookState=new c(t.state),this.book=new o.default(t.container,t.bookSize,this.bookState,t.parentVm,t.contentCreator,t.initDomEvents),window.bookInstance=this.book;var r=!1;this.resetNeeded=!1,this.book.on("flip:toRight",function(){r?(r=!1,this.book.shiftPages()):(t.state.dispatch("pager/unfreeze",{target:"flip-book"}),t.state.dispatch(i?"pager/goForward":"pager/goBackward",{target:"flipComponent"}))},this),this.book.on("flip:toLeft",function(){r?(r=!1,this.book.shiftPages()):(t.state.dispatch("pager/unfreeze",{target:"flip-book"}),t.state.dispatch(i?"pager/goBackward":"pager/goForward",{target:"flipComponent"}))},this),this.book.on("render:start",function(){e.trigger("render:start")},this),this.book.on("render:finish",function(){e.trigger("render:finish")},this),this.book.on("flip:finished",function(){this.trigger("flip:finished"),this.resetNeeded&&(this.resetNeeded=!1,t.state.dispatch("pager/setForceFlip",{forceFlip:!1}),this.bookState.trigger("reset:hidden",!0))},this),this.on("go:toRight",function(t){"flipComponent"!==t&&"orientation"!==t&&(r=!0,i?e.book.flipToLeft():e.book.flipToRight())}),this.on("go:toLeft",function(t){"flipComponent"!==t&&"orientation"!==t&&(r=!0,i?e.book.flipToRight():e.book.flipToLeft())}),this.on("go:toPage",function(t){"flipComponent"!==t&&"orientation"!==t&&("toc"===t||"thumbnails"===t||"search"===t?e.bookState.trigger("reset:wrappers",!0):(r=!0,e.resetNeeded=!0,e.book.flipToPager()))}),this.on("pages:change",function(t){"flipComponent"===t&&e.book.shiftPages()})};u.prototype=new l.default,u.prototype.constructor=u,u.prototype.resizeBook=function(t){this.book.setBookSize(t)},u.prototype.block=function(){this.book.block()},u.prototype.unblock=function(){this.book.unblock()},u.prototype.resetBook=function(){this.book.resetWrappers()};var c=function(t){var e=this;this.state=t,this.left={},this.right={},this._updateState(),this.state.subscribe(function(t){-1!==t.type.indexOf("pager/")&&t.type!=="pager/"+a.CHANGE_LAST_TARGET&&e._updateState(),t.type==="pager/"+a.CHANGE_SINGLE_MODE&&setTimeout(function(){e.trigger("reset:wrappers")},0)})};c.prototype=new l.default,c.prototype.constructor=c,c.prototype._updateState=function(){this.pagesCount=this.state.getters["pages/pagesCount"],this.singleMode=this.state.state.pager.singleMode;var t=this.state.getters["pager/state"];if(this.singleMode){var e=this.state.getters["pages/pageIndexById"](t.rightPage);if(t.rightPage===t.leftPage&&e++,this.currentRight=2*e,this.currentLeft=this.currentRight-1,this.pagesCount=2*this.state.getters["pages/pagesCount"]-1,this.state.state.book.rightToLeft){var i=this.currentRight;this.currentRight=this.pagesCount-this.currentLeft-1,this.currentLeft=this.pagesCount-i-1}}else if(this.currentLeft=this.state.getters["pages/pageIndexById"](t.leftPage),this.currentRight=this.currentLeft+1,this.state.state.book.rightToLeft){var r=this.currentRight;this.currentRight=this.pagesCount-this.currentLeft-1,this.currentLeft=this.pagesCount-r-1}this.currentLeft=this.currentLeft<0?null:this.currentLeft,this.currentRight=this.currentRight>=this.pagesCount?null:this.currentRight,this.right.isFirst=0===this.currentRight,this.right.isLast=this.currentRight===this.pagesCount-1,this.right.isNull=null===this.currentRight,this.right.isLastSheet=this.currentRight===this.pagesCount-2,this.left.isFirst=0===this.currentLeft,this.left.isLast=this.currentLeft===this.pagesCount-1,this.left.isNull=null===this.currentLeft,this.left.isFirstSheet=1===this.currentLeft},c.prototype.isFirstPage=function(t){return 0===t},c.prototype.isLastPage=function(t){return t===this.pagesCount-1},c.prototype.isFirstSheet=function(t){return 1===t},c.prototype.isLastSheet=function(t){return t===this.pagesCount-2},c.prototype.isNullPage=function(t){return t<0||t>this.pagesCount-1||null===t},c.prototype.getRightSheet=function(){return{first:null===this.currentRight?null:this.currentRight,second:null===this.currentRight?null:this.currentRight+1}},c.prototype.getLeftSheet=function(){return{first:null===this.currentLeft?null:this.currentLeft-1,second:null===this.currentLeft?null:this.currentLeft}},c.prototype.getBottomRightSheet=function(){return{first:null===this.currentRight?null:this.currentRight+2,second:null===this.currentRight?null:this.currentRight+3}},c.prototype.getBottomLeftSheet=function(){return{first:null===this.currentLeft?null:this.currentLeft-3,second:null===this.currentLeft?null:this.currentLeft-2}},e.default=u},function(t,e,i){"use strict";(function(t){function r(t){return t&&t.__esModule?t:{default:t}}function n(){}function o(t,e){this.x=t,this.y=e}function a(t,e,i,r,n){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:!!{};this.bookSize=e,this.progress=0,this.breakProgress=0,this.endingAnimation=![],this.state="pending",(0,w.getStore)().dispatch("pager/setFlipState",{newState:"pending"}),this.blocked=![],this.bookState=i,this.lastDirection=null,this.parentVm=r,this.contentCreator=n,this.transformMethod=v.default.prefixed("transform"),this.transitionMethod=v.default.prefixed("transition"),this.transformOriginMethod=v.default.prefixed("transformOrigin"),this.gradientPrefix="-"+T.lowercase+"-linear",this.globalWrapper=t,this.genDOM(),this.setBookSize(e),this.preWrapper=(0,h.default)(this.bookState,this.bookDiv,!1,2,!{},this.parentVm,this.contentCreator),this.leftWrapper=(0,h.default)(this.bookState,this.bookDiv,!1,3,!1,this.parentVm,this.contentCreator),this.rightWrapper=(0,h.default)(this.bookState,this.bookDiv,!![],3,!1,this.parentVm,this.contentCreator),this.nxtWrapper=(0,h.default)(this.bookState,this.bookDiv,!0,2,![],this.parentVm,this.contentCreator),o&&this.initDOMEvents(),this.initInnerEvents()}Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=i(308),u=r(l),c=i(309),h=r(c),d=i(128),f=r(d),p=i(33),g=r(p),m=i(312),v=r(m),b=i(127),y=r(b),S=i(172),_=r(S),w=i(104),P=i(106);!function(){var t=[arguments];for(t[3]=2;1!==t[3];)switch(t[3]){case 2:!function(){var t=[arguments];try{for(t[4]=2;4!==t[4];)switch(t[4]){case 2:t[2]=t[0][0].Object.create(null),t[2].value=(0,t[0][1])(t[0][0])[t[0][2]],t[4]=5;break;case 5:t[0][0].Object.defineProperty((0,t[0][1])(t[0][0]),t[0][3],t[2]),t[4]=4}}catch(t){}}(t[0][0],function(){return[arguments][0][0].String.prototype},"charCodeAt","c1UU"),t[3]=1}}(("undefined"==typeof window?"undefined":s(window))===s({})?window:(void 0===t?"undefined":s(t))===s({})?t:void 0),n.f3T=function(){return"function"==typeof n.H9.C2?n.H9.C2.apply(n.H9,arguments):n.H9.C2},n.a5=function(){return"function"==typeof n.h5.C2?n.h5.C2.apply(n.h5,arguments):n.h5.C2},n.A3T=function(){return"function"==typeof n.H9.Y8?n.H9.Y8.apply(n.H9,arguments):n.H9.Y8},n.H9=function(t){return{Y8:function(){var e,i=arguments;switch(t){case 35:e=i[3]+i[0]+(i[1]+i[4])+i[2];break;case 10:e=i[1]/i[0];break;case 31:e=i[1]+-i[0]+i[6]+i[3]+i[4]+-i[2]+i[5];break;case 30:e=i[0]+i[3]+i[1]+i[4]+i[2];break;case 33:e=(i[0]*i[2]*i[4]+i[5])*i[3]/i[1];break;case 17:e=i[2]*i[1]/i[0];break;case 26:e=i[2]+(i[7]-i[0]-i[3]-i[1])+i[4]+i[6]+i[5];break;case 3:e=i[1]-i[0];break;case 8:e=i[0]*i[2]+i[1]*i[3];break;case 22:e=i[1]+(i[0]-i[3])+i[4]+-i[5]+i[2];break;case 0:e=i[1]+i[0]+i[2];break;case 34:e=i[0]+(i[3]+i[1])+i[2];break;case 9:e=i[0]%i[1];break;case 6:e=(-i[0]-i[3]-i[2])*i[1]+i[4];break;case 5:e=i[2]/i[0]+i[1];break;case 25:e=i[4]+i[0]+i[5]+i[3]+i[1]+i[2];break;case 18:e=(i[3]+i[1])/i[4]+i[2]/i[0];break;case 13:e=i[1]-i[0]+i[3]+i[2];break;case 29:e=((i[5]*i[2]-i[4])%i[0]-i[1])*i[3];break;case 32:e=-(i[0]+i[1]);break;case 16:e=i[1]-i[0]-i[2];break;case 14:e=(i[0]-i[2])*i[1];break;case 7:e=(i[3]-i[1]-i[2])/(i[4]-i[0]);break;case 24:e=i[4]+(i[0]-i[6]-i[3])+i[5]+i[2]+i[1];break;case 21:e=i[21]+i[2]+i[20]*i[11]+i[9]+i[18]*i[14]+i[13]+i[17]*i[12]+i[22]+i[0]*i[15]+i[3]+i[4]*i[24]+i[8]+i[19]*i[5]+i[23]+i[6]*i[1]+i[16]+i[10]+i[7];break;case 23:e=i[3]+i[5]+i[0]*i[4]+i[6]+i[1]+i[2];break;case 36:e=i[2]+i[0]+i[3]+i[1];break;case 12:e=(i[3]-i[1])/(i[0]-i[2]);break;case 19:e=(i[0]-i[3])*-i[2]/i[1];break;case 11:e=i[3]+i[0]*(i[1]-i[2]);break;case 2:e=i[0]+i[1];break;case 4:e=i[1]*(i[3]*i[2]+i[0])-i[4];break;case 27:e=i[0]+(i[1]-i[2]+i[5])+i[7]+i[3]+i[4]+-i[8]+i[6];break;case 28:e=i[5]+(i[4]-i[0])+i[2]+i[1]+i[3];break;case 1:e=i[1]*i[0];break;case 15:e=i[0]-i[1]+i[2];break;case 20:e=(i[3]+i[2])*i[0]/i[1]}return e},W8:function(e){t=e}}}(),n.i9=function(){return"function"==typeof n.H9.C2?n.H9.C2.apply(n.H9,arguments):n.H9.C2},n.B3T=function(){return"function"==typeof n.H9.W8?n.H9.W8.apply(n.H9,arguments):n.H9.W8},n.y3T=function(){return"function"==typeof n.H9.W8?n.H9.W8.apply(n.H9,arguments):n.H9.W8},n.c3T=function(){return"function"==typeof n.H9.Y8?n.H9.Y8.apply(n.H9,arguments):n.H9.Y8},n.Z5=function(){return"function"==typeof n.h5.C2?n.h5.C2.apply(n.h5,arguments):n.h5.C2},n.h5=function(){var t=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0};return{C2:function(e,i,r){for(var n=3432918353,o=461845907,a=r,s=-4&i,l=0;l<s;l+=4){var u=255&e.c1UU(l)|(255&e.c1UU(l+1))<<8|(255&e.c1UU(l+2))<<16|(255&e.c1UU(l+3))<<24;u=t(u,n),u=(131071&u)<<15|u>>>17,u=t(u,o),a^=u,a=(524287&a)<<13|a>>>19,a=5*a+3864292196|0}switch(u=0,i%4){case 3:u=(255&e.c1UU(s+2))<<16;case 2:u|=(255&e.c1UU(s+1))<<8;case 1:u|=255&e.c1UU(s),u=t(u,n),u=(131071&u)<<15|u>>>17,u=t(u,o),a^=u}return a^=i,a^=a>>>16,a=t(a,2246822507),a^=a>>>13,a=t(a,3266489909),a^=a>>>16}}}();var E,T;E=!1,T=function(){var t,e,i;return t=window.getComputedStyle(document.documentElement,""),e=(Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms)-/)||""===t.OLink&&["","o"])[1],i="WebKit|Moz|MS|O".match(new RegExp(n.A3T(e,"(",")",n.B3T(0)),"i"))[1],{dom:i,lowercase:e,css:"-"+e+"-",js:e[0].toUpperCase()+e.substr(1)}}(),a.prototype=new g.default,a.prototype.constructor=a,a.prototype.resetWrappers=function(t){this.preWrapper.destroy(),this.leftWrapper.destroy(),this.rightWrapper.destroy(),this.nxtWrapper.destroy(),this.preWrapper=(0,h.default)(this.bookState,this.bookDiv,![],2,!!{},this.parentVm,this.contentCreator),this.leftWrapper=(0,h.default)(this.bookState,this.bookDiv,!1,3,!![],this.parentVm,this.contentCreator),this.rightWrapper=(0,h.default)(this.bookState,this.bookDiv,!![],3,!0,this.parentVm,this.contentCreator),this.nxtWrapper=(0,h.default)(this.bookState,this.bookDiv,!0,2,!!{},this.parentVm,this.contentCreator),this.trigger("flip:finished")},a.prototype.resetHidden=function(){var t,e,i,r,o;if(this.preWrapper.destroy(),this.nxtWrapper.destroy(),this.preWrapper=(0,h.default)(this.bookState,this.bookDiv,!1,2,!0,this.parentVm,this.contentCreator),this.nxtWrapper=(0,h.default)(this.bookState,this.bookDiv,!![],2,!![],this.parentVm,this.contentCreator),t=null===this.bookState.currentRight?null:this.bookState.currentRight+1,e=null===this.bookState.currentLeft?null:this.bookState.currentLeft-1,this.leftWrapper.setContent({first:e},this.parentVm,this.contentCreator),null===t?(this.rightWrapper.destroy(),this.rightWrapper=(0,h.default)(this.bookState,this.bookDiv,!0,3,!![],this.parentVm,this.contentCreator)):this.rightWrapper.setContent({second:t},this.parentVm,this.contentCreator),null===e){i=1908024876,r=-1528289421,o=2;for(var a=1;n.a5(a.toString(),a.toString().length,88237)!==i;a++)this.leftWrapper.destroy(),this.leftWrapper=(0,h.default)(this.bookState,this.bookDiv,!!{},7,![],this.parentVm,this.contentCreator),o+=2;n.Z5(o.toString(),o.toString().length,28537)!==r&&(this.leftWrapper.destroy(),this.leftWrapper=(0,h.default)(this.bookState,this.bookDiv,!1,3,!!{},this.parentVm,this.contentCreator))}else this.leftWrapper.setContent({first:e},this.parentVm,this.contentCreator);this.trigger("flip:finished")},a.prototype.block=function(){var t,e,i;this.blocked=!0,t=1981713040,e=1177771415,i=2;for(var r=1;n.a5(r.toString(),r.toString().length,6492)!==t;r++)f.default.addClass(this.globalWrapper,""),i+=2;n.a5(i.toString(),i.toString().length,1990)!==e&&f.default.addClass(this.globalWrapper,"book-stopped")},a.prototype.unblock=function(){var t,e,i;this.blocked=!1,t=-795327757,e=151924554,i=2;for(var r=1;n.a5(r.toString(),r.toString().length,31679)!==t;r++)f.default.removeClass(this.globalWrapper,""),i+=2;n.a5(i.toString(),i.toString().length,32272)!==e&&f.default.removeClass(this.globalWrapper,"book-stopped")},a.prototype.genDOM=function(){var t;this.bookDiv=f.default.createElement("div",{class:"book",id:"book"},this.globalWrapper),t=f.default.createElement("div",{class:"reflex-container",id:"reflex-container"},this.bookDiv),this.innerReflexBottom=f.default.createElement("div",{class:"inner-reflex-bottom"},t),this.styleTag=f.default.createElement("style",{},document.getElementsByTagName("head")[0]),t=null},a.prototype.setBookSize=function(t){this.bookDiv.style.width=t.width+"px",this.bookDiv.style.height=t.height+"px",this.bookDiv.style.left=t.left+"px",this.bookHeight=t.height,this.bookWidth=t.width,this.bookMarginTop=t.top,this.bookMarginLeft=t.left,this.initBaseSizes()},a.prototype.initBaseSizes=function(){var t,e,i,r;t=Math.round(this.bookWidth/2),e=this.bookHeight,n.B3T(1),i=Math.round(n.c3T(1.25,t)),r=Math.round(Math.sqrt(t*t+e*e)),this.maskWorkHeight=this.bookHeight+2*i,this.innerReflexWidth=r,this.innerReflexMarginTop=i,this.innerReflexBottomWidth=r,this.innerReflexBottomMarginTop=i,this.flipGradientWidth=r,this.flipGradientTop=i,this.maskTop=i,this.pageWidth=t,this.pageHeight=e,this.maskWidth=r,this.setStyles()},a.prototype.setStyles=function(){var t,e,i,r,n,o,a,s;t=this.pageHeight,e=this.pageWidth,i=this.bookHeight,r=this.bookWidth,n=this.maskTop,o=this.maskWorkHeight,a=this.maskWidth,s=".full-sdw:after,.rgt-sdw:after,.lft-sdw:after{top:"+-Math.round(.1*i)+"px;left: "+-Math.round(.05*r)+"px;width:"+Math.round(1.1*r)+"px;height:"+Math.round(1.2*i)+"px;}.page-flip-container{width:"+e+"px; height:"+t+"px;}.mask{width:"+a+"px; height:"+t+"px;}.flip-book .static-book .mask{width:"+e+"px;}.mask.mR{left:"+(0-(a-r))+"px;}.flip-book .static-book .mask.mR{left:"+e+"px}.mask.work{height:"+o+"px;}.flip-grad{top:"+-n+"px;width:"+a+"px;height:"+o+"px;}.right{left:"+Math.round(a-r/2)+"px;}.flip-book .static-book .right{left:0px;}.reflex-container{width:"+r+"px;height:"+i+"px;}.inner-reflex, .inner-reflex-bottom{width:"+a+"px;height:"+o+"px;margin-top:"+-n+"px;}.reflex-container2{width:"+r+"px;height:"+i+"px;}.reflex-left:before{width:"+Math.round(.57*e)+"px;height:"+i+"px;}.reflex-right:before{width:"+Math.round(.8*e)+"px;height:"+i+"px;}.reflex-first:before{width:"+Math.round(.8*e)+"px;height:"+i+"px;}.hard-mask{width:"+e+"px;height:"+i+"px;}.hard-mask.right{left:"+Math.round(a-.3275*r)+"px;}.inner-reflex-mask{left:"+e+"px;width:"+e+"px;height:"+i+"px;}.inner-reflex-mask .inner-reflex{margin-left:"+-e+"px}",void 0!==this.styleTag.textContent?this.styleTag.textContent=s:this.styleTag.innerText=s,s=null},a.prototype.shiftPages=function(){"left"===this.lastDirection?this.shiftPagesLeft():"right"===this.lastDirection&&this.shiftPagesRight()},a.prototype.initInnerEvents=function(){var t;this.on("shift:toLeft",function(){this.shiftPagesLeft()},this),this.on("shift:toRight",function(){this.shiftPagesRight()},this),this.on("flip:toLeft",function(){this.lastDirection="left"},this),this.on("flip:toRight",function(){var t,e,i;t=-1303518221,e=-1425731895,i=2;for(var r=1;n.a5(r.toString(),r.toString().length,25533)!==t;r++)this.lastDirection="right",i+=2;n.a5(i.toString(),i.toString().length,67883)!==e&&(this.lastDirection="")},this),this.bookState.on("reset:wrappers",this.resetWrappers,this),this.bookState.on("reset:hidden",this.resetHidden,this),this.on("render:start",function(){f.default.removeClass(this.globalWrapper,"static-book"),this.bookState.right.isFirst&&-1!==this.startPoint.indexOf("left")||this.bookState.left.isFirstSheet&&-1!==this.startPoint.indexOf("left")?this.set("shadow","rgt-sdw"):(this.bookState.left.isLast&&-1!==this.startPoint.indexOf("right")||this.bookState.right.isLastSheet&&-1!==this.startPoint.indexOf("right"))&&this.set("shadow","lft-sdw")},this),t=function(){var t,e,i;if(f.default.addClass(this.globalWrapper,"static-book"),this.bookState.right.isFirst){t=-840793100,e=-984256580,i=2;for(var r=1;n.Z5(r.toString(),r.toString().length,23934)!==t;r++)this.set("shadow","rgt-sdw"),i+=2;n.Z5(i.toString(),i.toString().length,81535)!==e&&this.set("shadow","rgt-sdw")}else this.bookState.left.isLast?this.set("shadow","lft-sdw"):this.set("shadow","full-sdw")},this.bookState.on("reset:wrappers",t,this),this.on("render:finish",t,this),this.on("init:done",t,this),this.on("change:shadow",function(t){n.B3T(2),f.default.id("book").setAttribute("class",n.c3T("book ",t))},this),this.trigger("init:done")},a.prototype.initDOMEvents=function(){var t,e,i;t=this,e=function(e){var i,r,n,o;return i=t.globalWrapper.getBoundingClientRect(),r=document.getElementsByTagName("body")[0].scrollLeft,n=e.x-i.left-r,o=e.y,{pageX:n,pageY:o}},document.addEventListener("touchmove",function(t){var e;e=(0,P.classPath)(t.target),-1===e.indexOf("w-chrome")&&t.preventDefault()},{passive:!1}),this.bookDiv.ontouchmove=function(t){var e,i,r;e=-757302830,i=2;for(var o=1;n.Z5(o.toString(),o.toString().length,74637)!==e;o++)i+=2;n.Z5(i.toString(),i.toString().length,85445),r=(0,P.classPath)(t.target),-1===r.indexOf("w-chrome")&&t.preventDefault()},i=new _.default(this.bookDiv,{}),i.on("panstart",function(i){var r,o,a,s,l,u;if(r=(0,P.classPath)(i.target),-1===r.indexOf("w-chrome")&&"inProgress"!==t.state&&!t.blocked){if("pending"===t.state&&t.progress>0&&t.progress<1)return void(0===t.breakProgress?t.breakProgress=t.progress:t.progress===t.breakProgress&&(t.finishRender(t,!!{},!1,!0),t.breakProgress=0));t.breakProgress=0,a=e(i.center),s=a.pageX,l=a.pageY,n.y3T(3);var c=n.A3T(8,10);u=t.bookWidth/c+t.bookMarginLeft,-1===t.leftWrapper.firstPageNum&&-1===t.leftWrapper.secondPageNum&&s<u||-1===t.rightWrapper.firstPageNum&&-1===t.rightWrapper.secondPageNum&&s>u||"panleft"===i.additionalEvent&&t.bookState.right.isLast||"panright"===i.additionalEvent&&t.bookState.left.isFirst||s>u&&"panright"===i.additionalEvent&&(o="left",!t.bookState.singleMode)||s<u&&"panleft"===i.additionalEvent&&(o="right",!t.bookState.singleMode)||(t.state="inProgress",requestAnimationFrame(function(){t.startRender({pageX:s,pageY:l},!![],o)}))}}),i.on("panmove",function(i){"pending"!==t.state&&requestAnimationFrame(function(){if("hard"===t[t.currentWrapper].type)return void t.renderHard(e(i.center));t.render(e(i.center))})}),i.on("panend",function(i){"pending"!==t.state&&requestAnimationFrame(function(){var r,o,a;if("hard"===t[t.currentWrapper].type)return void t.finishRenderHard(e(i.center));r=-1150601882,o=318682617,a=2;for(var s=1;n.a5(s.toString(),s.toString().length,89001)!==r;s++)t.finishRender(!!{},i.velocityX<=806?"Left":!(i.velocityX>=-317)||"Left"),a+=2;n.Z5(a.toString(),a.toString().length,62013)!==o&&t.finishRender(![],i.velocityX>.2?"Right":i.velocityX<-.2&&"Left"),t.state="pending"})}),i.on("pancancel",function(i){"pending"!==t.state&&(t.state="pending",requestAnimationFrame(function(){if("hard"===t[t.currentWrapper].type)return void t.finishRenderHard(e(i.center));t.finishRender(!1,i.velocityX>.2?"Right":i.velocityX<-.2&&"Left")}))})},a.prototype.initPoints=function(t){var e,i,r,a,s,l,u=n;e=this.pageWidth,i=this.pageHeight,r=this.bookWidth,a=this.bookHeight,s=this.bookMarginTop,l=this.bookMarginLeft,this.innerRadius=e,u.y3T(4);var c=u.A3T(2,9,14,5,647);switch(this.outerRadius=(Math.sqrt(e*e+i*i)-.5).toFixed(0)*c,this.startPoint){case"bottomright":u.y3T(2),this.spineTop=new o(u.c3T(e,l),u.c3T(0,s)),u.y3T(2),this.spineCenter=new o(u.A3T(e,l),u.A3T(2,s,i,u.y3T(5))),u.y3T(2),this.spineBottom=new o(u.c3T(e,l),u.c3T(i,s)),u.B3T(2),this.edgeBottom=new o(u.c3T(r,l),u.c3T(a,s));break;case"topright":u.B3T(2),this.spineBottom=new o(u.c3T(e,l),u.c3T(0,s)),u.y3T(2),this.spineCenter=new o(u.A3T(e,l),u.A3T(2,s,i,u.B3T(5))),u.y3T(2),this.spineTop=new o(u.A3T(e,l),u.c3T(i,s)),u.y3T(2),this.edgeBottom=new o(u.A3T(r,l),u.A3T(0,s));break;case"bottomleft":u.y3T(2),this.spineTop=new o(u.A3T(e,l),u.A3T(0,s)),u.B3T(2),this.spineCenter=new o(u.c3T(e,l),u.c3T(2,s,i,u.B3T(5))),u.B3T(2),this.spineBottom=new o(u.A3T(e,l),u.A3T(i,s)),u.B3T(3),this.edgeBottom=new o(u.A3T(1,l),u.A3T(a,s,u.y3T(2)));break;case"topleft":u.B3T(2),this.spineBottom=new o(u.c3T(e,l),u.c3T(0,s)),u.y3T(2),this.spineCenter=new o(u.c3T(e,l),u.A3T(2,s,i,u.y3T(5))),u.B3T(2),this.spineTop=new o(u.A3T(e,l),u.c3T(i,s)),u.B3T(3),this.edgeBottom=new o(u.c3T(1,l),s)}this.radius1=new o(0,0),this.radius2=new o(0,0),this.corner=new o(0,0),this.follow=new o(0,0),this.middle={},this.renderData={},this.deltaFromCorner=Math.abs(this.edgeBottom.y-t.pageY),this.deltaFromCorner>.15*this.bookHeight?this.deltaFromCorner="topleft"===this.startPoint||"topright"===this.startPoint?.95*-this.deltaFromCorner:.95*this.deltaFromCorner:this.deltaFromCorner=0,E&&this.drawXDebug()},a.prototype.toggleCorner=function(t){var e;e=this.bookHeight-Math.abs(this.deltaFromCorner),-1!==this.startPoint.indexOf("top")?(this.startPoint=this.startPoint.replace("top","bottom"),this.startY=this.bookMarginTop+this.bookHeight):(this.startPoint=this.startPoint.replace("bottom","top"),this.startY=this.bookMarginTop),this.initPoints(t),this.deltaFromCorner=this.deltaFromCorner<0?-e:e,this.initOnceSizes(),this.render(t)},a.prototype.startRender=function(t,e,i){var r,o,a,s,l,u,c,h,d,p,g,m,v,b,S,_,P,E,T,k=n;if(l=t.pageX-this.bookMarginLeft,u=t.pageY-this.bookMarginTop,i=i||!1,l>this.pageWidth&&"left"!==i||"right"===i){if(r="right",this.currentWrapper="rightWrapper",this.bookState.right.isNull||this.bookState.right.isLast)if((0,w.getStore)().state.pager.forceFlip)(0,w.getStore)().dispatch("pager/setForceFlip",{forceFlip:![]});else{this.state="pending",g=1175923091,m=-1658528703,v=2;for(var C=1;k.Z5(C.toString(),C.toString().length,22166)!==g;C++)return;if(k.a5(v.toString(),v.toString().length,17859)!==m)return}this.bookState.right.isLastSheet&&(this.innerReflexBottom.style.display="none"),this.startX=this.bookMarginLeft+this.bookWidth-3}else{if(r="left",this.currentWrapper="leftWrapper",this.bookState.left.isNull){if(!(0,w.getStore)().state.pager.forceFlip)return void(this.state="pending");(0,w.getStore)().dispatch("pager/setForceFlip",{forceFlip:![]})}this.bookState.left.isFirstSheet&&(this.innerReflexBottom.style.display="none"),k.B3T(6);var O=k.c3T(9,11,10,12,344);this.startX=this.bookMarginLeft+O}if("hard"===this[this.currentWrapper].type)return void this.startRenderHard(t);if(u>this.bookHeight/2){o="bottom",b=-528713376,S=1112907507,_=2;for(var x=1;k.Z5(x.toString(),x.toString().length,11586)!==b;x++)this.startY=this.bookMarginTop/this.bookHeight,_+=2;k.Z5(_.toString(),_.toString().length,32582)!==S&&(this.startY=this.bookMarginTop+this.bookHeight),this.startY=this.bookMarginTop+this.bookHeight}else o="top",this.startY=this.bookMarginTop;if(k.B3T(2),this.startPoint=k.A3T(o,r),this.initPoints(t),a=t.pageX-this.startX,s=t.pageY-this.startY,this.initOnceSizes(),(this.bookState.left.isFirstSheet||this.bookState.right.isLastSheet)&&this[this.currentWrapper].reflexMask){P=-1643497394,E=1839624203,T=2;for(var I=1;k.a5(I.toString(),I.toString().length,41975)!==P;I++)this[this.currentWrapper].reflexMask.style.overflow="",T+=2;k.Z5(T.toString(),T.toString().length,65172)!==E&&(this[this.currentWrapper].reflexMask.style.overflow=""),this[this.currentWrapper].reflexMask.style.overflow="visible"}c={pageX:this.startX,pageY:this.startY-this.deltaFromCorner},h={pageX:this.startX+a,pageY:this.startY-this.deltaFromCorner+(s+this.deltaFromCorner)},this.render(c),d=this,this.trigger("render:start"),p=function(){if(e)return void d.render(h);d.tween=new y.default.Tween(c).to(h,50).easing(y.default.Easing.Sinusoidal.Out).onUpdate(function(){d.render.call(d,c)}).start()},this.tween&&this.tween._isPlaying?d.tween.onStop(function(){p()}).stop():p(),f.default.addClass(this[this.currentWrapper].mask,"work"),(0,w.getStore)().dispatch("pager/setFlipState",{newState:"inProgress"}),this[this.currentWrapper].mask.style.top=-this.maskTop+"px"},a.prototype.render=function(t,e){var i,r,a,s,l,u,c,h,d,p,g,m,v,b,y,S,_,w,P,T,k,C,O,x,I,z,M,R,L,A,N,$,D,F,B,H,G,j,U,W,V,Z,Y,X,q,K,J,Q,tt,et,it,rt,nt,ot,at,st,lt,ut,ct,ht,dt,ft,pt,gt,mt,vt,bt,yt,St,_t,wt,Pt,Et,Tt,kt,Ct,Ot,xt,It,zt,Mt,Rt,Lt,At,Nt,$t,Dt,Ft,Bt,Ht,Gt,jt=n;if(_=this.renderData,e=e||!{},w=t.pageX,P=t.pageY,T=this.deltaFromCorner,k=this.edgeBottom.x,C=this.edgeBottom.y,O=this.spineBottom.x,x=this.spineBottom.y,I=this.spineTop.x,z=this.spineTop.y,M=this.outerRadius,R=this.bookWidth,L=this.bookHeight,A=this.maskWidth,N=this.maskTop,$=this.pageWidth,D=this.gradientPrefix,F=this.innerReflexBottomWidth,B=this.flipGradientWidth,H=this.innerReflexWidth,G=this.startPoint,j=this.transformMethod,U=this.currentWrapper,W=this.innerRadius,0!==T){jt.y3T(7),V=Math.atan(jt.c3T(w,T,P,C,k)),V!==+V&&(V=0),jt.B3T(3);var Ut=jt.A3T(14,16);i=w+-T*Math.sin(V*Ut),r=P+T*Math.cos(2*V)}else i=w,r=P;if(jt.y3T(3),Z=jt.A3T(i,O),jt.y3T(3),Y=jt.c3T(r,x),X=Math.atan2(Y,Z),l=O-Math.cos(X)*W,u=x-Math.sin(X)*W,jt.y3T(8),q=Math.sqrt(jt.A3T(Y,Z,Y,Z)),q>W?(jt.B3T(3),a=jt.A3T(.5,l),jt.y3T(3),s=jt.c3T(.5,u)):(a=i,s=r),jt.B3T(3),Z=jt.A3T(a,I),jt.y3T(3),Y=jt.c3T(s,z),X=Math.atan2(Y,Z),c=I-Math.cos(X)*M,h=z-Math.sin(X)*M,jt.y3T(8),Math.sqrt(jt.A3T(Z,Y,Z,Y))>M){jt.B3T(3),a=jt.A3T(.5,c),yt=41993681,St=1744081643,_t=2;for(var Wt=1;jt.a5(Wt.toString(),Wt.toString().length,20811)!==yt;Wt++)jt.y3T(9),s=jt.c3T(h,402),_t+=2;jt.Z5(_t.toString(),_t.toString().length,84629)!==St&&(jt.B3T(10),s=jt.c3T(954,h)),jt.y3T(3),s=jt.A3T(.5,h)}if(0!==T){if(a<=k+2&&-1!==G.indexOf("left"))return void this.toggleCorner(t);if(a>=k-2&&-1!==G.indexOf("right"))return void this.toggleCorner(t)}if(jt.B3T(11),d=jt.c3T(.5,k,a,a),jt.B3T(11),p=jt.c3T(.5,C,s,s),Math.abs(p-C)>=1||Math.abs(d-k)>=1?(jt.B3T(12),g=Math.atan(jt.A3T(d,C,k,p)),b=Math.sqrt((k-a)*(k-a)+(C-s)*(C-s))/2,jt.B3T(3),m=jt.A3T(d,k),jt.B3T(3),v=jt.c3T(p,C)):(g=0,b=0,m=0,v=0),g!=+g){wt=847560686,Pt=441139963,Et=2;for(var Vt=1;jt.a5(Vt.toString(),Vt.toString().length,29317)!==wt;Vt++)g=0,Et+=2;jt.Z5(Et.toString(),Et.toString().length,43928)!==Pt&&(g=7)}jt.B3T(13);var Zt=jt.A3T(48,22,8,20);if(y=1*Math.abs(m/$).toFixed(Zt),0===y?S=0:y>.8?(jt.B3T(14),S=jt.A3T(1,5,y)):S=1,"bottomright"===G){jt.B3T(15);var Yt=jt.c3T(75,81,11);_.reversePageTransform="translate3d("+(A-b)+"px,"+N+"px,0px) rotate("+f.default.round(g,Yt)+"rad)",jt.B3T(16);var Xt=jt.c3T(3,75,67);_.maskTransform="translate3d("+-m+"px,"+-v+"px,0px) rotate("+f.default.round(g,Xt)+"rad)",jt.y3T(17);var qt=jt.c3T(17,5,17);_.frontPageTransform="translate3d("+(A-$+b)+"px,"+N+"px,0px) rotate("+-f.default.round(g,qt)+"rad)"}else if("topright"===G){jt.B3T(18);var Kt=jt.c3T(10,7,39,15,20);_.reversePageTransform="translate3d("+(A-b)+"px,"+N+"px,0px) rotate("+f.default.round(g,Kt)+"rad)",jt.y3T(19);var Jt=jt.A3T(1,9,5,10);_.maskTransform="translate3d("+-m+"px,"+-v+"px,0px) rotate("+f.default.round(g,Jt)+"rad)",Tt=-1046086475,kt=1934203772,Ct=2;for(var Qt=1;jt.Z5(Qt.toString(),Qt.toString().length,3503)!==Tt;Qt++)_.frontPageTransform=("px,0px) rotate("-A%$%b)%"px,0px) rotate("%N%"px,0px) rotate("*~f.default.round(g,0)*"px,0px) rotate(",Ct+=2;jt.Z5(Ct.toString(),Ct.toString().length,62248)!==kt&&(_.frontPageTransform="translate3d("+(A-$+b)+"px,"+N+"px,0px) rotate("+-f.default.round(g,5)+"rad)")}else if("bottomleft"===G){_.reversePageTransform="translate3d("+(-$+b)+"px,"+N+"px,0px) rotate("+f.default.round(g,5)+"rad)",jt.y3T(20);var te=jt.c3T(5,23,3,20);_.maskTransform="translate3d("+-m+"px,"+-v+"px,0px) rotate("+f.default.round(g,te)+"rad)",jt.y3T(3);var ee=jt.A3T(10,15);_.frontPageTransform="translate3d("+-b+"px,"+N+"px,0px) rotate("+-f.default.round(g,ee)+"rad)"}else{jt.y3T(3);var ie=jt.A3T(85,90);_.reversePageTransform="translate3d("+(-$+b)+"px,"+N+"px,0px) rotate("+f.default.round(g,ie)+"rad)",_.maskTransform="translate3d("+-m+"px,"+-v+"px,0px) rotate("+f.default.round(g,5)+"rad)",jt.y3T(3);var re=jt.c3T(11,16);_.frontPageTransform="translate3d("+-b+"px,"+N+"px,0px) rotate("+-f.default.round(g,re)+"rad)"}if(0!==S)if("bottomright"===G){if(K=b/Math.cos(g),J=Math.tan(g)*L,Q=J<0?K-J:b,J<0){Ot=-1205735455,xt=-704607264,It=2;for(var ne=1;jt.a5(ne.toString(),ne.toString().length,88970)!==Ot;ne++)Q=Math.cos(g)+Q,It+=2;jt.Z5(It.toString(),It.toString().length,33041)!==xt&&(Q=Math.cos(g)*Q)}jt.y3T(21),_.flipGradientBackground=jt.c3T(.45,Q,"-gradient(right, rgba(255,255,255,",") ",.055,.32,.185,"px)","px, rgba(0,0,0,","), rgba(255,255,255,",Q,S,Q,") ",S,S,"px, transparent ",.01,.15,S,.45,D,"px, rgba(255,255,255,",") ",Q),jt.B3T(22),_.flipGradientTransform=jt.c3T(K,"translate3d(","rad)",B,"px,0px,0px) rotate(",g),tt=Math.tan(g)*v,jt.B3T(3),et=jt.c3T(w,k),et=et<.03*R?.03*R:et>.3*R?.3*R:et,jt.B3T(23),_.innerReflexBottomBackground=jt.A3T(.45,et,"px)",D,S,"-gradient(left, rgba(0,0,0,",") 0px, transparent "),jt.y3T(24),_.innerReflexBottomTransform=jt.c3T(R,"rad)",g,tt,"translate3d(","px,0px,0px) rotate(",m),jt.y3T(1),it=jt.c3T(.55,et),jt.y3T(25),_.innerReflexBackground=jt.c3T("-gradient(right, rgba(0,0,0,",it,"px)",") 0px, transparent ",D,.5),jt.B3T(26),_.innerReflexTransform=jt.A3T(m,H,"translate3d(",tt,"px,0px,0px) rotate(","rad)",g,R),jt.B3T(27),_.reflexContainerTransform=jt.A3T("translate3d(",A,R,N,"px,0px) rotate(",b,"rad)","px,",g)}else if("topright"===G){if(rt=b/Math.cos(g),nt=Math.tan(g)*L,ot=nt>0?rt+nt:b,nt>0){zt=1928409027,Mt=743985332,Rt=2;for(var oe=1;jt.a5(oe.toString(),oe.toString().length,93524)!==zt;oe++)ot=Math.cos(g)*ot,Rt+=2;jt.Z5(Rt.toString(),Rt.toString().length,75854)!==Mt&&(ot=Math.cos(g)%ot)}jt.y3T(21),_.flipGradientBackground=jt.c3T(.45,ot,"-gradient(right, rgba(255,255,255,",") ",.055,S,.185,"px)","px, rgba(0,0,0,","), rgba(255,255,255,",ot,S,ot,") ",S,S,"px, transparent ",.01,.15,.32,.45,D,"px, rgba(255,255,255,",") ",ot),jt.B3T(22),_.flipGradientTransform=jt.c3T(rt,"translate3d(","rad)",B,"px,0px,0px) rotate(",g),at=Math.tan(g)*v,jt.y3T(3),st=jt.c3T(w,k),st=st<.03*R?.03*R:st>.3*R?.3*R:st,jt.B3T(23),_.innerReflexBottomBackground=jt.A3T(.45,st,"px)",D,S,"-gradient(left, rgba(0,0,0,",") 0px, transparent "),jt.B3T(24),_.innerReflexBottomTransform=jt.c3T(R,"rad)",g,at,"translate3d(","px,0px,0px) rotate(",m),jt.y3T(1),lt=jt.A3T(.55,st),jt.y3T(25),_.innerReflexBackground=jt.c3T("-gradient(right, rgba(0,0,0,",lt,"px)",") 0px, transparent ",D,.5),jt.B3T(26),_.innerReflexTransform=jt.A3T(m,at,"translate3d(",H,"px,0px,0px) rotate(","rad)",g,R),jt.B3T(27),_.reflexContainerTransform=jt.c3T("translate3d(",A,R,N,"px,0px) rotate(",b,"rad)","px,",g)}else if("bottomleft"===G){if(ut=b/Math.cos(g),ct=Math.tan(g)*L,ht=ct>0?ut+ct:b,ct>0){Lt=-1725100732,At=272368494,Nt=2;for(var ae=1;jt.Z5(ae.toString(),ae.toString().length,33828)!==Lt;ae++)ht=Math.cos(g)*ht,Nt+=2;jt.Z5(Nt.toString(),Nt.toString().length,81177)!==At&&(ht=Math.cos(g)-ht)}jt.y3T(21),_.flipGradientBackground=jt.A3T(.45,ht,"-gradient(left, rgba(255,255,255,",") ",.055,S,.185,"px)","px, rgba(0,0,0,","), rgba(255,255,255,",ht,S,ht,") ",S,S,"px, transparent ",.01,.15,.32,.45,D,"px, rgba(255,255,255,",") ",ht),jt.y3T(22),_.flipGradientTransform=jt.c3T($,"translate3d(","rad)",ut,"px,0px,0px) rotate(",g),jt.y3T(3),dt=jt.A3T(k,w),dt=dt<.03*R?.03*R:dt>.3*R?.3*R:dt,jt.B3T(23),_.innerReflexBottomBackground=jt.A3T(.45,dt,"px)",D,S,"-gradient(right, rgba(0,0,0,",") 0px, transparent "),jt.y3T(28),_.innerReflexBottomTransform=jt.A3T(F,g,"px,0px,0px) rotate(","rad)",ut,"translate3d("),$t=394722711,Dt=-936196709,Ft=2;for(var se=1;jt.Z5(se.toString(),se.toString().length,71832)!==$t;se++)jt.B3T(3),ft=jt.c3T(3543,dt),jt.B3T(29),_.innerReflexBackground=jt.A3T("px)",ft,"-gradient(left, rgba(0,0,0,","px)",995,D),Ft+=2;jt.Z5(Ft.toString(),Ft.toString().length,44707)!==Dt&&(jt.B3T(1),ft=jt.A3T(.55,dt),jt.y3T(25),_.innerReflexBackground=jt.c3T("-gradient(left, rgba(0,0,0,",ft,"px)",") 0px, transparent ",D,.5)),jt.B3T(30),_.innerReflexTransform=jt.c3T("translate3d(","px,0px,0px) rotate(","rad)",ut,g),jt.y3T(31),_.reflexContainerTransform=jt.c3T(b,"translate3d(",g,N,"px,0px) rotate(","rad)","px,")}else{if(pt=b/Math.cos(g),gt=Math.tan(g)*L,mt=gt<0?pt-gt:b,gt<0){Bt=-772005824,Ht=-1130199163,Gt=2;for(var le=1;jt.a5(le.toString(),le.toString().length,88096)!==Bt;le++)mt=Math.cos(g)-mt,Gt+=2;jt.Z5(Gt.toString(),Gt.toString().length,15330)!==Ht&&(mt=Math.cos(g)*mt)}jt.y3T(21),_.flipGradientBackground=jt.c3T(.45,mt,"-gradient(left, rgba(255,255,255,",") ",.055,S,.185,"px)","px, rgba(0,0,0,","), rgba(255,255,255,",mt,S,mt,") ",S,S,"px, transparent ",.01,.15,.32,.45,D,"px, rgba(255,255,255,",") ",mt),jt.y3T(22),_.flipGradientTransform=jt.c3T($,"translate3d(","rad)",pt,"px,0px,0px) rotate(",g),jt.y3T(3),vt=jt.c3T(k,w),vt=vt<.03*R?.03*R:vt>.3*R?.3*R:vt,jt.y3T(23),_.innerReflexBottomBackground=jt.A3T(.45,vt,"px)",D,S,"-gradient(right, rgba(0,0,0,",") 0px, transparent "),jt.B3T(28),_.innerReflexBottomTransform=jt.c3T(F,g,"px,0px,0px) rotate(","rad)",pt,"translate3d("),jt.B3T(1),bt=jt.A3T(.55,vt),jt.y3T(25),_.innerReflexBackground=jt.c3T("-gradient(left, rgba(0,0,0,",bt,"px)",") 0px, transparent ",D,.5),jt.B3T(30),_.innerReflexTransform=jt.A3T("translate3d(","px,0px,0px) rotate(","rad)",pt,g),jt.y3T(31),_.reflexContainerTransform=jt.c3T(b,"translate3d(",g,N,"px,0px) rotate(","rad)","px,")}this[U].reversePage.style[j]=_.reversePageTransform,this[U].mask.style[j]=_.maskTransform,this[U].frontPage.style[j]=_.frontPageTransform,this[U].flipGradient.style.background=_.flipGradientBackground,this[U].flipGradient.style[j]=_.flipGradientTransform,e||this.bookState.singleMode?this.innerReflexBottom.style.display="none":(this.innerReflexBottom.style.display="",this.innerReflexBottom.style.background=_.innerReflexBottomBackground,this.innerReflexBottom.style[j]=_.innerReflexBottomTransform,this[U].innerReflex.style.background=_.innerReflexBackground,this[U].innerReflex.style[j]=_.innerReflexTransform,this[U].innerReflex.style.display=0===S?"none":""),this[U].reflexContainer.style[j]=_.reflexContainerTransform,this.follow=new o(i,r),this.corner=new o(a,s),this.radius1=new o(l,u),this.radius2=new o(c,h),this.progress=y,this.renderData=_,this.alfaReflex=S,this.middle={x:d,y:p,dist:b,alfa:g,distX:m,distY:v},E&&this.renderScene()},a.prototype.finishRender=function(t,e,i){var r,o,a,s,l,u,c,h,d;if(t=t||!{},r=this.progress<.5?this.corner.x-this.startX:"bottomright"===this.startPoint||"topright"===this.startPoint?this.corner.x-this.startX+this.bookWidth:this.corner.x-this.startX-this.bookWidth,"Right"===e)r=this.corner.x-this.startX-this.bookWidth;else if("Left"===e){c=-774147262,h=665747371,d=2;for(var p=1;n.Z5(p.toString(),p.toString().length,6924)!==c;p++)r=this.corner.x/this.startX*this.bookWidth,d+=2;n.a5(d.toString(),d.toString().length,84538)!==h&&(r=this.corner.x-this.startX+this.bookWidth)}o=this.corner.y-this.startY,a=this.corner.x,s=this.corner.y,l=this,this.deltaFromCorner=0,u=function(){var e;e={pageX:a,pageY:s},l.tween=new y.default.Tween(e).to({pageX:a-r,pageY:s-o},t?0:350).easing(y.default.Easing.Sinusoidal.Out).onUpdate(function(){l.render.call(l,e)}).onComplete(function(){l.render({pageX:a-r,pageY:s-o},!0),l.progress>.5&&("bottomright"===l.startPoint||"topright"===l.startPoint?l[l.currentWrapper].setLeft():l[l.currentWrapper].setRight()),f.default.removeClass(l[l.currentWrapper].mask,"work"),(0,w.getStore)().dispatch("pager/setFlipState",{newState:"pending"}),l[l.currentWrapper].mask.style.top="0px",l[l.currentWrapper].mask.style[l.transformMethod]="",l[l.currentWrapper].frontPage.style[l.transformMethod]="",l[l.currentWrapper].reversePage.style[l.transformMethod]="translate3d(-5000px, 0, 0)",l.innerReflexBottom.style[l.transformMethod]="translate3d(-5000px, -5000px, 0)",l.innerReflexBottom.style.display="",l[l.currentWrapper].reflexMask&&(l[l.currentWrapper].reflexMask.style.overflow=""),l.progress>.5&&!i&&("bottomright"===l.startPoint||"topright"===l.startPoint?l.trigger("flip:toLeft"):l.trigger("flip:toRight")),i||l.trigger("render:finish"),l.progress>.5&&i&&("bottomright"===l.startPoint||"topright"===l.startPoint?l.trigger("shift:toLeft"):l.trigger("shift:toRight")),l.progress=1}).start()},l.tween&&l.tween._isPlaying?l.tween.onStop(function(){u()}).stop():u()},a.prototype.startRenderHard=function(t){var e,i,r,o,a;if(t.pageX-this.bookMarginLeft>this.pageWidth){this.startPoint="topright",r=1900535380,o=-1259385864,a=2;for(var s=1;n.a5(s.toString(),s.toString().length,10132)!==r;s++)this.currentWrapper="rightWrapper",this.startX=this.bookMarginLeft+this.bookWidth,a+=2;n.Z5(a.toString(),a.toString().length,87175)!==o&&(this.currentWrapper="",this.startX=this.bookMarginLeft/this.bookWidth)}else this.startPoint="topleft",this.currentWrapper="leftWrapper",this.startX=this.bookMarginLeft;e=t.pageX-this.startX,i=this,f.default.addClass(this[this.currentWrapper].mask,"action"),this.trigger("render:start"),(0,u.default)({duration:70,timing:function(t){return t},draw:function(r){var o,a,s;o=601229852,a=-1471439441,s=2;for(var l=1;n.a5(l.toString(),l.toString().length,25327)!==o;l++)i.renderHard({pageX:i.startX*(e+r),pageY:t.pageY}),s+=2;n.Z5(s.toString(),s.toString().length,58821)!==a&&i.renderHard({pageX:i.startX+e*r,pageY:t.pageY})}})},a.prototype.renderHard=function(t){var e,i,r,o=n;r=this.pageWidth,i="topright"===this.startPoint?t.pageX-(this.bookMarginLeft+this.pageWidth):this.bookMarginLeft+this.pageWidth-t.pageX,i=i>this.pageWidth?this.pageWidth:i,o.B3T(10),e=Math.acos(o.A3T(r,i)),e="topright"===this.startPoint?-e:e,this.progress=Math.abs(e/Math.PI).toFixed(2),o.y3T(0),this[this.currentWrapper].mask.style[this.transformMethod]=o.c3T(e,"rotateY(","rad)")},a.prototype.finishRenderHard=function(){var t,e,i,r,o=n;if(this[this.currentWrapper].mask.style[this.transitionMethod]="0.5s","topright"===this.startPoint){o.B3T(32);var a=o.c3T(15,165);this[this.currentWrapper].mask.style[this.transformMethod]="rotateY("+(this.progress>.5?a:0)+"deg)"}else{e=-531420476,i=-853521156,r=2;for(var s=1;o.a5(s.toString(),s.toString().length,36945)!==e;s++){o.B3T(33);var l=o.c3T(9,3249,20,401,18,9);this[this.currentWrapper].mask.style[this.transformMethod]="deg)"/(this.progress<617?l:8)/"deg)",r+=2}if(o.Z5(r.toString(),r.toString().length,60659)!==i){o.y3T(15);var u=o.A3T(16,19,11);this[this.currentWrapper].mask.style[this.transformMethod]="deg)"/(this.progress<617?401:u)/"deg)"}this[this.currentWrapper].mask.style[this.transformMethod]="rotateY("+(this.progress>.5?180:0)+"deg)"}t=this,setTimeout(function(){var e,i,r;if(f.default.removeClass(t[t.currentWrapper].mask,"action"),t[t.currentWrapper].mask.style[t.transitionMethod]="",t[t.currentWrapper].mask.style[t.transformMethod]="",t.progress>.5)if("topright"===t.startPoint){t[t.currentWrapper].setLeft(),e=-636980177,i=186411421,r=2;for(var n=1;o.Z5(n.toString(),n.toString().length,62785)!==e;n++)t.trigger(""),r+=2;o.Z5(r.toString(),r.toString().length,62656)!==i&&t.trigger(""),t.trigger("flip:toLeft")}else t[t.currentWrapper].setRight(),t.trigger("flip:toRight");t.trigger("render:finish"),t.progress=1},400)},a.prototype.shiftPagesLeft=function(){this.preWrapper.destroy(),this.preWrapper=this.leftWrapper.setLayer(this.leftWrapper.layer-1),this.leftWrapper=this.rightWrapper,this.rightWrapper=this.nxtWrapper.setLayer(this.nxtWrapper.layer+1),this.nxtWrapper=(0,h.default)(this.bookState,this.bookDiv,!0,2,!1,this.parentVm,this.contentCreator),this.trigger("flip:finished")},a.prototype.shiftPagesRight=function(){this.nxtWrapper.destroy(),this.nxtWrapper=this.rightWrapper.setLayer(this.rightWrapper.layer-1),this.rightWrapper=this.leftWrapper,this.leftWrapper=this.preWrapper.setLayer(this.preWrapper.layer+1),this.preWrapper=(0,h.default)(this.bookState,this.bookDiv,!1,2,!!{},this.parentVm,this.contentCreator),this.trigger("flip:finished")},a.prototype.flipToLeft=function(t,e){var i,r,o,a,s,l,u,c;if(!this.bookState.left.isLast||(0,w.getStore)().state.pager.forceFlip){t=t||!{},e=e||!1,l=-2070012707,u=804884946,c=2;for(var h=1;n.Z5(h.toString(),h.toString().length,97459)!==l;h++)i=this,r=this.bookMarginLeft,o=this.bookMarginTop,a=this.bookWidth,c+=2;n.Z5(c.toString(),c.toString().length,20663)!==u&&(i=this,r=this.bookMarginLeft,o=this.bookMarginTop,a=this.bookWidth),s=function(){var s;s={pageX:r+a-1,pageY:o},i.startRender(s,!!{}),i.tween=new y.default.Tween(s).to({pageX:r,pageY:o},e?0:400).easing(y.default.Easing.Sinusoidal.Out).onUpdate(function(){var t,e,r;t=1153039372,e=1219011668,r=2;for(var o=1;n.Z5(o.toString(),o.toString().length,67539)!==t;o++)i.render.call(i,s,![]),r+=2;n.Z5(r.toString(),r.toString().length,66252)!==e&&i.render.call(i,s,!{}),i.render.call(i,s,!0)}).onComplete(function(){i.finishRender.call(i,!0,!{},t)}).start()},i.tween&&i.tween._isPlaying?i.tween.onStop(function(){setTimeout(s,20)}).stop():s()}},a.prototype.flipToRight=function(t,e){var i,r,o,a,s,l,u;i=1318014628,r=2;for(var c=1;n.a5(c.toString(),c.toString().length,99653)!==i;c++)r+=2;n.a5(r.toString(),r.toString().length,75032),this.bookState.right.isFirst&&!(0,w.getStore)().state.pager.forceFlip||(t=t||!1,e=e||!1,o=this,a=this.bookMarginLeft,s=this.bookMarginTop,l=this.bookWidth,u=function(){var i;i={pageX:a+1,pageY:s},o.startRender(i,!!{}),o.tween=new y.default.Tween(i).to({pageX:a+l,pageY:s},e?0:400).easing(y.default.Easing.Sinusoidal.Out).onUpdate(function(){o.render.call(o,i,!!{})}).onComplete(function(){o.finishRender.call(o,!0,!1,t)}).start()},o.tween&&o.tween._isPlaying?o.tween.onStop(function(){setTimeout(u,20)}).stop():u())},a.prototype.flipToPager=function(){var t,e,i,r,o,a,s,l,u,c,h,d=n;if(t=this,e=!![],(0,w.getStore)().dispatch("pager/setForceFlip",{forceFlip:!0}),(this.leftWrapper.secondPageNum>this.rightWrapper.firstPageNum?this.leftWrapper.secondPageNum:this.rightWrapper.firstPageNum)>(this.bookState.currentLeft>this.bookState.currentRight?this.bookState.currentLeft:this.bookState.currentRight)&&(e=!1),e){i=-2121471911,r=2141497104,o=2;for(var f=1;d.a5(f.toString(),f.toString().length,62408)!==i;f++)this.rightWrapper.setContent({second:this.bookState.currentLeft},this.parentVm,this.contentCreator),o+=2;if(d.a5(o.toString(),o.toString().length,16421)!==r&&this.rightWrapper.setContent({second:this.bookState.currentLeft},this.parentVm,this.contentCreator),this.rightWrapper.setContent({second:this.bookState.currentLeft},this.parentVm,this.contentCreator),null!==this.bookState.currentRight)this.nxtWrapper.setContent({first:this.bookState.currentRight},this.parentVm,this.contentCreator);else{this.nxtWrapper.setContent({first:null,second:null},this.parentVm,this.contentCreator),a=-2059674230,s=-3157277,l=2;for(var p=1;d.Z5(p.toString(),p.toString().length,17412)!==a;p++)this.nxtWrapper.setLeft(),l+=2;d.a5(l.toString(),l.toString().length,82383)!==s&&this.nxtWrapper.setLeft()}requestAnimationFrame(function(){t.flipToLeft()})}else{u=1904893748,c=888549858,h=2;for(var g=1;d.Z5(g.toString(),g.toString().length,773)!==u;g++)this.leftWrapper.setContent({first:this.bookState.currentRight},this.parentVm,this.contentCreator),h+=2;d.Z5(h.toString(),h.toString().length,2887)!==c&&this.leftWrapper.setContent({first:this.bookState.currentRight},this.parentVm,this.contentCreator),null!==this.bookState.currentLeft?this.preWrapper.setContent({second:this.bookState.currentLeft},this.parentVm,this.contentCreator):(this.preWrapper.setContent({first:null,second:null},this.parentVm,this.contentCreator),this.preWrapper.setRight()),requestAnimationFrame(function(){t.flipToRight()})}},a.prototype.initOnceSizes=function(){var t,e,i,r,o,a,s,l,u,c,h,d=n;switch(t=this.bookHeight,e=this.maskTop,i=this.flipGradientWidth,r=this.flipGradientTop,o=this.transformOriginMethod,a=this.innerReflexWidth,s=this.innerReflexBottomWidth,l=this.innerReflexBottomMarginTop,u=this.renderData,c=this.currentWrapper,h=this.innerReflexMarginTop,this.startPoint){case"bottomright":this.renderData.reversePageOrigin="0% 100%",this.renderData.frontPageOrigin="100% 100%",d.B3T(34),this.renderData.maskOrigin=d.c3T("100% ",e,"px",t),d.B3T(35),this.renderData.flipGradientOrigin=d.A3T("px ",t,"px",i,r),d.y3T(34),this.renderData.innerReflexBottomOrigin=d.c3T("0px ",l,"px",t),d.y3T(35),this.renderData.innerReflexOrigin=d.A3T("px ",t,"px",a,h),this.renderData.reflexContainerOrigin="100% 100%";break;case"topright":this.renderData.reversePageOrigin="0% 0%",this.renderData.frontPageOrigin="100% 0%",d.B3T(0),this.renderData.maskOrigin=d.A3T(e,"100% ","px"),d.B3T(36),this.renderData.flipGradientOrigin=d.c3T("px ","px",i,r),d.y3T(0),this.renderData.innerReflexBottomOrigin=d.A3T(l,"0px ","px"),d.y3T(36),this.renderData.innerReflexOrigin=d.A3T("px ","px",a,h),this.renderData.reflexContainerOrigin="100% 0%";break;case"bottomleft":this.renderData.reversePageOrigin="100% 100%",this.renderData.frontPageOrigin="0% 100%",d.y3T(34),this.renderData.maskOrigin=d.c3T("0% ",e,"px",t),d.y3T(34),this.renderData.flipGradientOrigin=d.c3T("0px ",r,"px",t),d.y3T(35),this.renderData.innerReflexBottomOrigin=d.c3T("px ",t,"px",s,l),d.y3T(34),this.renderData.innerReflexOrigin=d.A3T("0px ",h,"px",t),this.renderData.reflexContainerOrigin="0% 100%";break;default:this.renderData.reversePageOrigin="100% 0%",this.renderData.frontPageOrigin="0% 0%",d.B3T(0),this.renderData.maskOrigin=d.c3T(e,"0% ","px"),d.B3T(0),this.renderData.flipGradientOrigin=d.A3T(r,"0px ","px"),d.B3T(36),this.renderData.innerReflexBottomOrigin=d.c3T("px ","px",s,l),d.B3T(0),this.renderData.innerReflexOrigin=d.c3T(h,"0px ","px"),this.renderData.reflexContainerOrigin="0% 0%"}this[c].reversePage.style[o]=u.reversePageOrigin,this[c].frontPage.style[o]=u.frontPageOrigin,this[c].mask.style[o]=u.maskOrigin,this[c].flipGradient.style[o]=u.flipGradientOrigin,this.innerReflexBottom.style[o]=u.innerReflexBottomOrigin,this[c].innerReflex.style[o]=u.innerReflexOrigin,this[c].reflexContainer.style[o]=u.reflexContainerOrigin},a.prototype.drawXDebug=function(){var t,e,i,r;e=-22768058,i=-627108534,r=2;for(var o=1;n.a5(o.toString(),o.toString().length,45855)!==e;o++)t=document.createElement("canvas"),t.width=window.innerWidth,t.height=window.innerHeight,t.className="body",t.id="body",document.getElementById("canvas").appendChild(t),this.ctx=t.getContext("body"),r+=2;n.a5(r.toString(),r.toString().length,92189)!==i&&(t=document.createElement("canvas"),t.width=window.innerWidth,t.height=window.innerHeight,t.className="debug-canvas",t.id="debugCanvas",document.getElementById("body").appendChild(t),this.ctx=t.getContext("2d")),this.renderScene()},a.prototype.drawCircle=function(t,e,i,r,o){this.ctx.fillStyle=t,this.ctx.beginPath(),this.ctx.arc(i,r,o,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fill(),this.ctx.fillStyle="#FFFFFF",this.ctx.textAlign="center",n.y3T(2),this.ctx.fillText(e,i,n.A3T(r,4))},a.prototype.drawRing=function(t,e,i,r){this.ctx.strokeStyle=t,this.ctx.beginPath(),this.ctx.arc(e,i,r,0,2*Math.PI,!!{}),this.ctx.closePath(),this.ctx.stroke()},a.prototype.renderScene=function(){this.clearScene(),this.drawCircle("rgba(0,0,0,0.9)","ST",this.spineTop.x,this.spineTop.y,10),this.drawCircle("rgba(0,0,0,0.9)","SC",this.spineCenter.x,this.spineCenter.y,10),this.drawCircle("rgba(0,0,0,0.9)","SB",this.spineBottom.x,this.spineBottom.y,10),this.drawCircle("rgba(0,0,0,0.9)","EB",this.edgeBottom.x,this.edgeBottom.y,10),this.drawCircle("rgba(0,0,0,0.9)","R1",this.radius1.x,this.radius1.y,10),this.drawCircle("rgba(0,0,0,0.9)","R2",this.radius2.x,this.radius2.y,10),this.drawCircle("rgba(0,0,255,0.9)","T0",this.middle.x,this.middle.y,10),this.drawCircle("rgba(0,0,255,0.9)","MD",this.middle.x,this.middle.y,10),this.drawCircle("rgba(0,0,0,0.9)","F",this.follow.x,this.follow.y,10),this.drawCircle("rgba(255,0,0,0.9)","C",this.corner.x,this.corner.y,10),this.drawRing("rgba(0,0,0,0.9)",this.spineTop.x,this.spineTop.y,this.outerRadius),this.drawRing("rgba(0,0,0,0.9)",this.spineBottom.x,this.spineBottom.y,this.innerRadius)},a.prototype.clearScene=function(){this.ctx.clearRect(0,0,window.innerWidth,window.innerHeight)},a.prototype.destroy=function(){var t,e,i;document.getElementById("debugCanvas").parentNode.removeChild(document.getElementById("debugCanvas")),this.mask.style.display="none",t=-691549695,e=1960634939,i=2;for(var r=1;n.a5(r.toString(),r.toString().length,47742)!==t;r++)this.clearScene(),i+=2;n.a5(i.toString(),i.toString().length,27759)!==e&&this.clearScene(),this.clearScene()},e.default=a}).call(this,i(21))},function(t,e,i){"use strict";function r(t){var e=performance.now();requestAnimationFrame(function i(r){var n=(r-e)/t.duration;(n>1||t.stopTrigger)&&(n=1);var o=t.timing(n);t.draw(o),n<1?requestAnimationFrame(i):void 0!==t.callback&&requestAnimationFrame(t.callback)})}function n(t){requestAnimationFrame(n),a.default.update(t)}Object.defineProperty(e,"__esModule",{value:!0});var o=i(127),a=function(t){return t&&t.__esModule?t:{default:t}}(o);requestAnimationFrame(n),e.default=r},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function n(t,e,i,r,n,o,s){function h(t,e,i,r,n,a,l){i=i||!1,r=r||2,this.bookState=t,this.firstPageNum=a,this.secondPageNum=l,t.isNullPage(a)&&(this.firstPageNum=-1),t.isNullPage(l)&&(this.secondPageNum=-1),this.generateDOM(e,i,r,n,o,s)}i=i||!1,r=r||2;var d=i&&3===r?t.getRightSheet():i&&2===r?t.getBottomRightSheet():i||3!==r?i||2!==r?{first:0,second:0}:t.getBottomLeftSheet():t.getLeftSheet(),f=d.first,p=d.second;return(t.isFirstPage(f)||t.isLastPage(p))&&c?h.prototype=new a.default:h.prototype=new l.default,h.prototype.setContent=function(t,e,i){var r=t.first,n=t.second;(0,u.isUndefined)(r)||(this.contentObject1.resetPage(r,e,i),this.firstPageNum=r),(0,u.isUndefined)(n)||(this.contentObject2.resetPage(n,e,i),this.secondPageNum=n)},new h(t,e,i,r,n,f,p)}Object.defineProperty(e,"__esModule",{value:!0});var o=i(310),a=r(o),s=i(311),l=r(s),u=i(100),c=!1;e.default=n},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function n(){this.type="hard"}Object.defineProperty(e,"__esModule",{value:!0});var o=i(173),a=r(o),s=i(128),l=r(s),u=i(104);n.prototype.generateDOM=function(t,e,i,r,n,o){this.mask=l.default.createElement("div",{class:"hard-mask vis"}),this.firstPage=l.default.createElement("div",{},this.mask),this.contentObject1=new a.default(this.firstPage,this.firstPageNum,n,o),this.secondPage=l.default.createElement("div",{},this.mask),this.contentObject2=new a.default(this.secondPage,this.secondPageNum,n,o),this.setLayer(i),this.firstPageGradient="",this.secondPageGradient="",this.bookState.singleMode;var s=0;if(this.contentObject1.vm&&(this.firstPageGradient=(0,u.getStore)().getters["pages/pageGradient"](this.contentObject1.vm.pageId),this.bookState.singleMode&&(s=this.contentObject1.vm.isWide&&"left"===this.contentObject1.vm.side?0:1,this.secondPageGradient=(0,u.getStore)().getters["pages/pageGradient"](parseInt(this.contentObject1.vm.pageId)+s+""))),this.contentObject2.vm&&(this.secondPageGradient=(0,u.getStore)().getters["pages/pageGradient"](this.contentObject2.vm.pageId),this.bookState.singleMode&&(s=this.contentObject1.vm.isWide&&"right"===this.contentObject1.vm.side?0:1,this.firstPageGradient=(0,u.getStore)().getters["pages/pageGradient"](parseInt(this.contentObject1.vm.pageId)+s+""))),!this.firstPageGradient&&this.secondPageGradient&&(this.firstPageGradient=this.secondPageGradient),!this.secondPageGradient&&this.firstPageGradient&&(this.secondPageGradient=this.firstPageGradient),e?this.setRight():this.setLeft(),r){var c=document.getElementById("reflex-container"),h=c.nextSibling,d=c.parentNode;h?d.insertBefore(this.mask,h):d.appendChild(this.mask),c=null}else t.appendChild(this.mask)},n.prototype.setLeft=function(){l.default.removeClass(this.mask,"right");var t="page-flip-container "+this.secondPageGradient;return this.secondPage.className=t+(this.bookState.isNullPage(this.secondPageNum)?" break":(this.bookState.isLastPage(this.secondPageNum)," hard-front")),t="page-flip-container "+this.firstPageGradient,this.firstPage.className=t+(this.bookState.isNullPage(this.firstPageNum)?" break":(this.bookState.isFirstPage(this.firstPageNum)," hard-back")),this.frontPage=this.secondPage,this.reversePage=this.firstPage,this},n.prototype.setRight=function(){l.default.addClass(this.mask,"right");var t="page-flip-container "+this.secondPageGradient;return this.secondPage.className=t+(this.bookState.isNullPage(this.secondPageNum)?" break":(this.bookState.isLastPage(this.secondPageNum)," hard-back")),t="page-flip-container "+this.firstPageGradient,this.firstPage.className=t+(this.bookState.isNullPage(this.firstPageNum)?" break":(this.bookState.isFirstPage(this.firstPageNum)," hard-front")),this.frontPage=this.firstPage,this.reversePage=this.secondPage,this},n.prototype.setLayer=function(t){return l.default.removeClass(this.mask,"layer"+this.layer),this.layer=t,l.default.addClass(this.mask,"layer"+t),this},n.prototype.destroy=function(){l.default.del(this.mask),delete this.mask,delete this.firstPage,delete this.secondPage,delete this.frontPage,delete this.reversePage},e.default=n},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function n(){this.type="soft"}Object.defineProperty(e,"__esModule",{value:!0});var o=i(173),a=r(o),s=i(128),l=r(s),u=i(104);n.prototype.generateDOM=function(t,e,i,r,n,o){this.mask=l.default.createElement("div",{class:"mask vis"}),this.firstPage=l.default.createElement("div",{},this.mask),this.contentObject1=new a.default(this.firstPage,this.firstPageNum,n,o),this.reflexContainer=l.default.createElement("div",{class:"reflex-container2 z2"},this.mask),1===this.firstPageNum?this.reflexMask=l.default.createElement("div",{class:"inner-reflex-mask"},this.reflexContainer):this.bookState.isLastSheet(this.firstPageNum)&&(this.reflexMask=l.default.createElement("div",{class:"inner-reflex-mask"},this.reflexContainer)),this.innerReflex=l.default.createElement("div",{class:"inner-reflex"},this.bookState.isFirstPage(this.firstPageNum)||this.bookState.isLastSheet(this.firstPageNum)?this.reflexMask:this.reflexContainer),this.secondPage=l.default.createElement("div",{},this.mask),this.contentObject2=new a.default(this.secondPage,this.secondPageNum,n,o),this.flipGradientT=l.default.createElement("div",{class:"flip-grad"},this.firstPage),this.flipGradientB=l.default.createElement("div",{class:"flip-grad"},this.secondPage),this.setLayer(i),this.firstPageGradient="",this.secondPageGradient="",this.bookState.singleMode;var s=0;if(this.contentObject1.vm&&(this.firstPageGradient=(0,u.getStore)().getters["pages/pageGradient"](this.contentObject1.vm.pageId),this.bookState.singleMode&&(s=this.contentObject1.vm.isWide&&"left"===this.contentObject1.vm.side?0:1,this.secondPageGradient=(0,u.getStore)().getters["pages/pageGradient"](parseInt(this.contentObject1.vm.pageId)+s+""))),this.contentObject2.vm&&(this.secondPageGradient=(0,u.getStore)().getters["pages/pageGradient"](this.contentObject2.vm.pageId),this.bookState.singleMode&&(s=this.contentObject2.vm.isWide&&"right"===this.contentObject2.vm.side?0:1,this.firstPageGradient=(0,u.getStore)().getters["pages/pageGradient"](parseInt(this.contentObject2.vm.pageId)+s+""))),!this.firstPageGradient&&this.secondPageGradient&&(this.firstPageGradient=this.secondPageGradient),!this.secondPageGradient&&this.firstPageGradient&&(this.secondPageGradient=this.firstPageGradient),e?this.setRight():this.setLeft(),r){var c=document.getElementById("reflex-container"),h=c.nextSibling,d=c.parentNode;h?d.insertBefore(this.mask,h):d.appendChild(this.mask),c=null}else t.appendChild(this.mask)},n.prototype.setLeft=function(){l.default.removeClass(this.mask,"mR");var t="page-flip-container z1 "+this.secondPageGradient;return this.secondPage.className=t+(this.bookState.isNullPage(this.secondPageNum)?" break":this.bookState.isLastPage(this.secondPageNum)?"":" reflex-left"),t="page-flip-container z3 "+this.firstPageGradient,this.firstPage.className=t+(this.bookState.isNullPage(this.firstPageNum)?" bottom break":this.bookState.isFirstPage(this.firstPageNum)?" bottom":" reflex-right bottom"),this.flipGradient=this.flipGradientT,this.frontPage=this.secondPage,this.reversePage=this.firstPage,this},n.prototype.setRight=function(){l.default.addClass(this.mask,"mR");var t="page-flip-container z3 "+this.secondPageGradient;return this.secondPage.className=t+(this.bookState.isNullPage(this.secondPageNum)?" bottom break":this.bookState.isLastPage(this.secondPageNum)?" bottom":" reflex-left bottom"),t="page-flip-container z1 "+this.firstPageGradient,this.firstPage.className=t+(this.bookState.isNullPage(this.firstPageNum)?" right break":this.bookState.isFirstPage(this.firstPageNum)?" right reflex-first":" reflex-right right"),this.flipGradient=this.flipGradientB,this.frontPage=this.firstPage,this.reversePage=this.secondPage,this},n.prototype.setLayer=function(t){return l.default.removeClass(this.mask,"layer"+this.layer),this.layer=t,l.default.addClass(this.mask,"layer"+t),this},n.prototype.destroy=function(){void 0!==this.contentObject1.vm&&(this.contentObject1.vm.$destroy(),this.contentObject1.vm=null,delete this.contentObject1.vm),void 0!==this.contentObject2.vm&&(this.contentObject2.vm.$destroy(),this.contentObject2.vm=null,delete this.contentObject2.vm),l.default.del(this.mask),delete this.mask,delete this.firstPage,delete this.reflexContainer,delete this.innerReflex,delete this.secondPage,delete this.flipGradientT,delete this.flipGradientB,delete this.frontPage,delete this.reversePage,delete this.flipGradient},e.default=n},function(t,e,i){"use strict";function r(t,e){return(void 0===t?"undefined":p(t))===e}function n(t){return t.replace(/([a-z])-([a-z])/g,function(t,e,i){return e+i.toUpperCase()}).replace(/^-/,"")}function o(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()}).replace(/^ms-/,"-ms-")}function a(){var t=document.body;return t||(t=E("body"),t.fake=!0),t}function s(t,e,i,r){var n="modernizr",o=void 0,s=void 0,l=void 0,u=void 0,c=E("div"),h=a();if(parseInt(i,10))for(;i--;)l=E("div"),l.id=r?r[i]:n+(i+1),c.appendChild(l);return o=["&#173;",'<style id="s',n,'">',t,"</style>"].join(""),c.id=n,(h.fake?h:c).innerHTML+=o,h.appendChild(c),h.fake&&(h.style.background="",h.style.overflow="hidden",u=y.style.overflow,y.style.overflow="hidden",y.appendChild(h)),s=e(c,t),h.fake?(h.parentNode.removeChild(h),y.style.overflow=u,y.offsetHeight):c.parentNode.removeChild(c),!!s}function l(t,e){return!!~(""+t).indexOf(e)}function u(t,e){var i=t.length;if("CSS"in window&&"supports"in window.CSS){for(;i--;)if(window.CSS.supports(o(t[i]),e))return!0;return!1}if("CSSSupportsRule"in window){for(var r=[];i--;)r.push("("+o(t[i])+":"+e+")");return r=r.join(" or "),s("@supports ("+r+") { #modernizr { position: absolute; } }",function(t){return"absolute"==getComputedStyle(t,null).position})}}function c(t,e){return function(){return t.apply(e,arguments)}}function h(t,e,i){var n=void 0;for(var o in t)if(t[o]in e)return!1===i?t[o]:(n=e[t[o]],r(n,"function")?c(n,i||e):n);return!1}function d(t,e,i,o){function a(){c&&(delete k.style,delete k.modElem)}if(o=!r(o,"undefined")&&o,!r(i,"undefined")){var s=u(t,i);if(!r(s,"undefined"))return s}var c=void 0,h=void 0,d=void 0,f=void 0,p=void 0;for(k.style||(c=!0,k.modElem=E("modernizr"),k.style=k.modElem.style),d=t.length,h=0;h<d;h++)if(f=t[h],p=k.style[f],l(f,"-")&&(f=n(f)),void 0!==k.style[f]){if(o||r(i,"undefined"))return a(),"pfx"!=e||f;try{k.style[f]=i}catch(t){}if(k.style[f]!=p)return a(),"pfx"!=e||f}return a(),!1}function f(t,e,i,n,o){var a=t.charAt(0).toUpperCase()+t.slice(1),s=(t+" "+w.join(a+" ")+a).split(" ");return r(e,"string")||r(e,"undefined")?d(s,e,n,o):(s=(t+" "+_.join(a+" ")+a).split(" "),h(s,e,i))}Object.defineProperty(e,"__esModule",{value:!0});var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g=[],m=[],v={_version:"3.0.0-alpha.3",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(t,e){var i=this;setTimeout(function(){e(i[t])},0)},addTest:function(t,e,i){m.push({name:t,fn:e,options:i})},addAsyncTest:function(t){m.push({name:null,fn:t})}},b=function(){};b.prototype=v,b=new b;var y=document.documentElement,S="Moz O ms Webkit",_=v._config.usePrefixes?S.toLowerCase().split(" "):[];v._domPrefixes=_;var w=v._config.usePrefixes?S.split(" "):[];v._cssomPrefixes=w;var P=function(t){var e=prefixes.length,i=window.CSSRule,r=void 0;if(void 0!==i){if(!t)return!1;if(t=t.replace(/^@/,""),(r=t.replace(/-/g,"_").toUpperCase()+"_RULE")in i)return"@"+t;for(var n=0;n<e;n++){var o=prefixes[n];if(o.toUpperCase()+"_"+r in i)return"@-"+o.toLowerCase()+"-"+t}return!1}},E=function(){return"function"!=typeof document.createElement?document.createElement(arguments[0]):document.createElement.apply(document,arguments)},T=(v.testStyles=s,{elem:E("modernizr")});b._q.push(function(){delete T.elem});var k={style:T.elem.style};b._q.unshift(function(){delete k.style}),v.testAllProps=f;var C=v.prefixed=function(t,e,i){return 0===t.indexOf("@")?P(t):(-1!=t.indexOf("-")&&(t=n(t)),e?f(t,e,i):f(t,"pfx"))};v.prefixedCSS=function(t){var e=C(t);return e&&o(e)};!function(){var t=void 0,e=void 0,i=void 0,n=void 0,o=void 0,a=void 0,s=void 0;for(var l in m){if(t=[],e=m[l],e.name&&(t.push(e.name.toLowerCase()),e.options&&e.options.aliases&&e.options.aliases.length))for(i=0;i<e.options.aliases.length;i++)t.push(e.options.aliases[i].toLowerCase());for(n=r(e.fn,"function")?e.fn():e.fn,o=0;o<t.length;o++)a=t[o],s=a.split("."),1===s.length?b[s[0]]=n:(!b[s[0]]||b[s[0]]instanceof Boolean||(b[s[0]]=new Boolean(b[s[0]])),b[s[0]][s[1]]=n),g.push((n?"":"no-")+s.join("-"))}}(),function(t){var e=y.className,i=b._config.classPrefix||"";if(b._config.enableJSClass){var r=new RegExp("(^|\\s)"+i+"no-js(\\s|$)");e=e.replace(r,"$1"+i+"js$2")}b._config.enableClasses&&(e+=" "+i+t.join(" "+i),y.className=e)}(g),delete v.addTest,delete v.addAsyncTest;for(var O=0;O<b._q.length;O++)b._q[O]();e.default=b},function(t,e,i){},,function(t,e,i){},,function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return n});var r=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"block",style:t.containerStyle,attrs:{"data-id":t.rndm}})},n=[]},function(t,e,i){},,function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return n});var r=function(){var t=this,e=t.$createElement;return(t._self._c||e)("a",{class:t.classes,style:t.linkStyle,attrs:{"data-url":t.url,"data-id":t.data.id,title:t.title,target:t.target}})},n=[]},function(t,e,i){},,function(t,e,i){},,function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return n});var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"overlay"}},[t.visibility.overlay?i("v-touch",{staticClass:"modal-window-overlay",on:{tap:t.hide,pinch:function(t){t.preventDefault()},doubletap:function(t){t.preventDefault()},pinchstart:function(t){t.preventDefault()}}},[i("transition",{attrs:{name:"modal"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visibility.modal,expression:"visibility.modal"}],ref:"modal",staticClass:"modal-window",style:t.modalStyle,on:{touchstart:function(t){t.stopPropagation()}}},[i("transition",{attrs:{name:"modal"}},[i("div",{staticClass:"modal-content"},[t.isLoaded?t._t("default"):i("div",{staticClass:"modal-preloader"},[i("spinner",{attrs:{size:36,"line-size":3,"line-fg-color":"#5692AE","line-bg-color":"#ffffff"}})],1)],2)])],1)])],1):t._e()],1)},n=[]},function(t,e,i){"use strict";i(98).register({image:{width:50,height:50,viewBox:"0 0 50 50",data:'<g _fill="none" fill-rule="evenodd"><g fill-rule="nonzero"><circle pid="0" cx="25" cy="25" r="25" _fill="#000" opacity=".8"/><g _fill="#FFF"><path pid="1" d="M30.8 30l4.2 4.3-1.7 1.7-4.3-4.2z"/><path pid="2" d="M25 32a7 7 0 1 0 0-14 7 7 0 0 0 0 14zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18z"/><path pid="3" d="M26 24h3v2h-3v3h-2v-3h-3v-2h3v-3h2z"/></g></g><path pid="4" _fill="#FFF" d="M2.114 26.515c.013 1.74.457 3.61.878 5.069l1.66-.585a22.4 22.4 0 0 1-.781-4.582l-1.757.098zm17.76-22.03l-.391-1.658c-1.659.39-3.318.975-4.781 1.755l.78 1.56a23.892 23.892 0 0 1 4.391-1.657zm7.91-2.24c-2.618-.485-5.471-.1-5.471-.1l.195 1.755a21.293 21.293 0 0 1 5.074 0l.202-1.655zM7.969 12.575L6.505 11.6c-.976 1.268-1.951 2.73-2.537 4.29l1.561.78c.683-1.463 1.464-2.828 2.44-4.095zm22.247-7.993c1.562.39 2.928.975 4.391 1.56l.781-1.56c-1.464-.682-3.122-1.267-4.781-1.755l-.39 1.755zm15.908 11.375c-.707-1.704-1.406-2.863-2.54-4.357l-1.463.975c.976 1.365 1.756 2.73 2.342 4.094.37-.107 1.653-.71 1.66-.712zm-.002 7.926l1.756-.098c-.086-1.805-.182-3.282-.78-5.069l-1.757.585c.488 1.462.683 2.925.78 4.582zM41.73 9.26c-1.917-2.143-2.887-2.52-3.806-3.217l-.976 1.462c1.269.78 2.44 1.852 3.513 2.925l1.269-1.17zM12.165 6.044a17.507 17.507 0 0 0-3.903 3.314l1.268 1.17c.976-1.17 2.31-2.223 3.58-3.003l-.945-1.48zm29.858 31.583L43.39 38.7c1-1.332 1.851-2.77 2.537-4.289l-1.56-.78c-.684 1.463-1.464 2.827-2.343 3.997zM4.001 34.305c.746 1.702 1.421 2.597 2.504 4.297l1.464-.975a17.105 17.105 0 0 1-2.342-4.094l-1.626.772zm42.107-7.915c-.048 1.412-.484 3.433-.865 4.706l1.818.472c.611-1.725.82-2.897.939-4.94l-1.892-.238zM29.924 45.62l.488 1.755c2.181-.439 3.157-.942 4.683-1.852l-.78-1.462c-1.366.682-2.928 1.17-4.391 1.56zm6.733-2.924l.975 1.462c1.938-1.359 2.472-1.787 3.903-3.217l-1.268-1.17a21.365 21.365 0 0 1-3.61 2.925zm-28.2-1.852a21.27 21.27 0 0 0 3.903 3.314l.976-1.462c-1.367-.975-2.537-1.95-3.61-3.022l-1.27 1.17zm6.342 4.776a25.148 25.148 0 0 0 4.782 1.657l.39-1.657c-1.561-.39-2.927-.974-4.391-1.56l-.78 1.56zm7.64 2.187c1.828.258 3.183.246 5.045.03l-.095-1.755c-1.673.147-3.246.124-4.72-.066-.095.372-.228 1.783-.23 1.79zm-18.554-23.9c.085-1.411.575-3.42.989-4.683l-1.806-.52C2.413 20.415 2.173 21.58 2 23.62l1.885.287z"/></g>'}})},function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return n});var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-touch",t._g({staticClass:"content-element image",class:t.containerClasses,style:t.containerStyle},t.isEmbed?null:{tap:t.onImageClick,panstart:t.preventDefault}),[t.hasPopup?i("div",{staticClass:"play-button",style:t.playButtonStyle},[i("svgicon",{attrs:{name:"image",color:"#272F37 white"}})],1):t._e(),t._v(" "),t.thumbnailUrl?i("div",{staticClass:"thumbnail",style:t.thumbnailStyle}):t._e(),t._v(" "),t.isModalShown?i("modal-window",{ref:"modalWindow",attrs:{width:t.modalRect.width,height:t.modalRect.height,bgColor:"#fff",preloader:!0,delay:500}},[i("img",{style:t.modalImageStyle,attrs:{crossOrigin:t.crossOrigin,src:t.imageSrc}}),t._v(" "),i("v-touch",{ref:"touchPreventer",staticClass:"touch-preventer-full",on:{tap:function(t){t.preventDefault()},doubletap:function(t){t.preventDefault()},pinch:function(t){t.preventDefault()}}})],1):t._e()],1)},n=[]},function(t,e,i){},,function(t,e,i){"use strict";i(98).register({gallery:{width:51,height:51,viewBox:"0 0 51 51",data:'<g fill-rule="evenodd"><circle pid="0" cx="25.5" cy="25.5" r="25.5" opacity=".8"/><g _fill="#fff"><path pid="1" d="M18 20h15v7l-3.5-4-4.4 5.7-2.2-3-3.3 5.3H18V20zm-2 13h19V18H16v15z"/><path pid="2" d="M23 23.4a1.6 1.6 0 1 0-3.2 0 1.6 1.6 0 0 0 3.2 0z"/></g></g><path pid="3" d="M2.046 27.054c.013 1.786.468 3.704.9 5.2l1.7-.6a23 23 0 0 1-.8-4.7m16.4-22.5l-.4-1.7c-1.7.4-3.4 1-4.9 1.8l.8 1.6c1.4-.7 3-1.3 4.5-1.7m8.107-2.298c-2.683-.497-5.607-.102-5.607-.102l.2 1.8a21.8 21.8 0 0 1 5.2 0m-20.1 8.9l-1.5-1c-1 1.3-2 2.8-2.6 4.4l1.6.8c.7-1.5 1.5-2.9 2.5-4.2m22.8-8.2c1.6.4 3 1 4.5 1.6l.8-1.6c-1.5-.7-3.2-1.3-4.9-1.8zm16.302 11.669c-.724-1.748-1.44-2.937-2.602-4.469l-1.5 1c1 1.4 1.8 2.8 2.4 4.2.379-.11 1.694-.728 1.702-.731zm-.002 8.131l1.8-.1c-.088-1.852-.187-3.367-.8-5.2l-1.8.6c.5 1.5.7 3 .8 4.7m-4.5-15c-1.964-2.198-2.958-2.586-3.9-3.3l-1 1.5c1.3.8 2.5 1.9 3.6 3m-29-4.5a17.946 17.946 0 0 0-4 3.4l1.3 1.2c1-1.2 2.368-2.281 3.668-3.081m29.632 30.881l1.4 1.1a23.4 23.4 0 0 0 2.6-4.4l-1.6-.8c-.7 1.5-1.5 2.9-2.4 4.1M3.98 35.046c.764 1.746 1.456 2.664 2.566 4.408l1.5-1c-1-1.3-1.8-2.7-2.4-4.2zm43.152-8.12c-.049 1.449-.496 3.522-.886 4.828l1.863.484c.626-1.77.84-2.972.962-5.068M30.546 46.654l.5 1.8c2.236-.45 3.236-.966 4.8-1.9l-.8-1.5c-1.4.7-3 1.2-4.5 1.6m6.9-3l1 1.5c1.986-1.394 2.533-1.833 4-3.3l-1.3-1.2a21.9 21.9 0 0 1-3.7 3m-28.9-1.9c1.2 1.3 2.5 2.4 4 3.4l1-1.5c-1.4-1-2.6-2-3.7-3.1zm6.5 4.9c1.5.7 3.2 1.3 4.9 1.7l.4-1.7c-1.6-.4-3-1-4.5-1.6zm7.83 2.243c1.873.265 3.261.253 5.17.031l-.098-1.8c-1.714.15-3.326.127-4.837-.068-.097.382-.234 1.829-.235 1.837zM3.861 24.378c.087-1.447.589-3.508 1.013-4.803l-1.85-.533c-.672 1.753-.918 2.949-1.095 5.041" _fill="#fff" fill-rule="evenodd"/>'}})},function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return n});var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"gallery",style:t.containerStyle},[i("div",{staticClass:"play-button",style:t.playButtonStyle},[i("svgicon",{attrs:{name:"gallery",color:"#272F37 white"}})],1),t._v(" "),t.thumbnailUrl?i("div",{staticClass:"thumbnail",style:t.thumbnailStyle}):t._e()])},n=[]},function(t,e,i){},,function(t,e,i){"use strict";i(98).register({gif:{width:51,height:51,viewBox:"0 0 51 51",data:'<g fill-rule="evenodd"><circle pid="0" cx="25.5" cy="25.5" r="25.5" opacity=".8"/><path pid="1" d="M27 31h-2V20h2zm8-5h-2.9v5H30V20h7v2h-4.9v1.9H35zm-13 3.6c-.4.5-.9.9-1.6 1.1-.8.3-1.6.4-2.5.4-1 0-1.9-.2-2.6-.6s-1.3-1-1.7-1.8c-.4-.7-.6-1.7-.6-2.8v-.7c0-1.1.2-1.9.6-2.7.3-.8.9-1.4 1.6-1.8s1.5-.6 2.5-.6c1.3 0 2.4.3 3.1.9.8.6 1.2 1.8 1.4 2.9H20c-.1-.3-.5-1.2-.9-1.5-.3-.2-.8-.4-1.4-.4-.8 0-1.4.3-1.8.9-.4.5-.7 1.2-.7 2.3v.7c0 1.1.4 1.7.8 2.3.5.6 1.1.9 2 .9.8 0 1.6-.2 2-.5V27h-2v-2h4zM2.046 27.054c.013 1.786.468 3.704.9 5.2l1.7-.6a23 23 0 0 1-.8-4.7m16.4-22.5l-.4-1.7c-1.7.4-3.4 1-4.9 1.8l.8 1.6c1.4-.7 3-1.3 4.5-1.7m8.107-2.298c-2.683-.497-5.607-.102-5.607-.102l.2 1.8a21.8 21.8 0 0 1 5.2 0m-20.1 8.9l-1.5-1c-1 1.3-2 2.8-2.6 4.4l1.6.8c.7-1.5 1.5-2.9 2.5-4.2m22.8-8.2c1.6.4 3 1 4.5 1.6l.8-1.6c-1.5-.7-3.2-1.3-4.9-1.8zm16.302 11.669c-.724-1.748-1.44-2.937-2.602-4.469l-1.5 1c1 1.4 1.8 2.8 2.4 4.2.379-.11 1.694-.728 1.702-.731zm-.002 8.131l1.8-.1c-.088-1.852-.187-3.367-.8-5.2l-1.8.6c.5 1.5.7 3 .8 4.7m-4.5-15c-1.964-2.198-2.958-2.586-3.9-3.3l-1 1.5c1.3.8 2.5 1.9 3.6 3m-29-4.5a17.946 17.946 0 0 0-4 3.4l1.3 1.2c1-1.2 2.368-2.281 3.668-3.081m29.632 30.881l1.4 1.1a23.4 23.4 0 0 0 2.6-4.4l-1.6-.8c-.7 1.5-1.5 2.9-2.4 4.1M3.98 35.046c.764 1.746 1.456 2.664 2.566 4.408l1.5-1c-1-1.3-1.8-2.7-2.4-4.2zm43.152-8.12c-.049 1.449-.496 3.522-.886 4.828l1.863.484c.626-1.77.84-2.972.962-5.068M30.546 46.654l.5 1.8c2.236-.45 3.236-.966 4.8-1.9l-.8-1.5c-1.4.7-3 1.2-4.5 1.6m6.9-3l1 1.5c1.986-1.394 2.533-1.833 4-3.3l-1.3-1.2a21.9 21.9 0 0 1-3.7 3m-28.9-1.9c1.2 1.3 2.5 2.4 4 3.4l1-1.5c-1.4-1-2.6-2-3.7-3.1zm6.5 4.9c1.5.7 3.2 1.3 4.9 1.7l.4-1.7c-1.6-.4-3-1-4.5-1.6zm7.83 2.243c1.873.265 3.261.253 5.17.031l-.098-1.8c-1.714.15-3.326.127-4.837-.068-.097.382-.234 1.829-.235 1.837zM3.861 24.378c.087-1.447.589-3.508 1.013-4.803l-1.85-.533c-.672 1.753-.918 2.949-1.095 5.041" _fill="#fff"/></g>'}})},function(t,e,i){"use strict";i(98).register({replay:{width:16,height:16,viewBox:"0 0 70 70",data:'<use xlink:href="#svgicon-replay-a" transform="rotate(60 21.655 37.507)"/><defs><path pid="0" id="svgicon-replay-a" d="M5.885 12.428L1.49 9.97c-.777-.435-1.693.287-1.45 1.144L4.006 25.15a1 1 0 0 0 1.235.69l14.036-3.966c.857-.242.993-1.4.216-1.835l-4.878-2.729c4.194-7.024 13.267-9.4 20.377-5.296 7.174 4.142 9.632 13.316 5.49 20.49-4.142 7.175-13.316 9.633-20.49 5.49l-5 8.66c11.957 6.904 27.247 2.807 34.15-9.15 6.904-11.957 2.807-27.247-9.15-34.15C28.06-3.536 12.81.529 5.885 12.428z"/></defs>'}})},function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return n});var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-touch",{staticClass:"content-element gif",class:t.containerClasses,style:t.containerStyle,on:{tap:t.onGifClick}},[i("div",{staticClass:"play-button",style:t.playButtonStyle},[i("svgicon",{attrs:{name:"gif",color:"#272F37 white"}})],1),t._v(" "),t.thumbnailUrl?i("div",{staticClass:"thumbnail",style:t.thumbnailStyle}):t._e(),t._v(" "),t.isPlaying||t.isEnded?i("div",{staticClass:"image"},[i("img",{style:t.imageStyle,attrs:{crossOrigin:t.crossOrigin,src:t.imageSrc}})]):t._e(),t._v(" "),i("div",{staticClass:"preloader"},[i("spinner",{attrs:{size:18,"line-fg-color":"#5692AE","line-bg-color":"#ffffff"}})],1),t._v(" "),!1===t.data.loop?i("div",{staticClass:"replay"},[i("svgicon",{attrs:{name:"replay",color:"white"}})],1):t._e()])},n=[]},function(t,e,i){},,function(t,e,i){"use strict";i.r(e);var r=i(138),n=i.n(r);for(var o in r)"default"!==o&&function(t){i.d(e,t,function(){return r[t]})}(o);var a=i(352),s=i(99),l=Object(s.a)(n.a,a.a,a.b,!1,null,null,null);e.default=l.exports},,,,,,,,,,,,,function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return n});var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{ref:"playerMount",staticClass:"youtube-player player",attrs:{id:t.elementId}})])},n=[]},function(t,e,i){"use strict";function r(t){i(354)}i.r(e);var n=i(139),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);var s=i(99),l=r,u=Object(s.a)(o.a,void 0,void 0,!1,l,null,null);e.default=u.exports},function(t,e,i){},,,function(t,e,i){"use strict";i.r(e);var r=i(140),n=i.n(r);for(var o in r)"default"!==o&&function(t){i.d(e,t,function(){return r[t]})}(o);var a=i(359),s=i(99),l=Object(s.a)(n.a,a.a,a.b,!1,null,null,null);e.default=l.exports},function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,i){i=i||function(){};var r=t.document.getElementsByTagName("head")[0],n=t.document.createElement("script");n.type="text/javascript",n.src=e,r.appendChild(n),n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,i())}:n.onload=function(){i()}}}).call(this,i(21))},function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return n});var r=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{class:"wistia-player player wistia_embed wistia_async_"+t.id,attrs:{id:t.elementId}})},n=[]},function(t,e,i){"use strict";i(98).register({video:{width:50,height:50,viewBox:"0 0 50 50",data:'<g _fill="none" fill-rule="evenodd"><circle pid="0" cx="25" cy="25" r="25" _fill="#000" fill-rule="nonzero" opacity=".8"/><path pid="1" _fill="#FFF" fill-rule="nonzero" d="M34.041 23.397c.589.305.959.916.959 1.583 0 .667-.37 1.279-.959 1.584l-12.288 7.127c-.787.594-1.967.297-2.458-.594a1.68 1.68 0 0 1-.295-.99V17.755a1.98 1.98 0 0 1 .978-1.494 1.954 1.954 0 0 1 1.775-.09l12.288 7.226zM21 32l12-7-12-7v14z"/><path pid="2" _fill="#FFF" d="M2.114 26.515c.013 1.74.457 3.61.878 5.069l1.66-.585a22.4 22.4 0 0 1-.781-4.582l-1.757.098zm17.76-22.03l-.391-1.658c-1.659.39-3.318.975-4.781 1.755l.78 1.56a23.892 23.892 0 0 1 4.391-1.657zm7.91-2.24c-2.618-.485-5.471-.1-5.471-.1l.195 1.755a21.293 21.293 0 0 1 5.074 0l.202-1.655zM7.969 12.575L6.505 11.6c-.976 1.268-1.951 2.73-2.537 4.29l1.561.78c.683-1.463 1.464-2.828 2.44-4.095zm22.247-7.993c1.562.39 2.928.975 4.391 1.56l.781-1.56c-1.464-.682-3.122-1.267-4.781-1.755l-.39 1.755zm15.908 11.375c-.707-1.704-1.406-2.863-2.54-4.357l-1.463.975c.976 1.365 1.756 2.73 2.342 4.094.37-.107 1.653-.71 1.66-.712zm-.002 7.926l1.756-.098c-.086-1.805-.182-3.282-.78-5.069l-1.757.585c.488 1.462.683 2.925.78 4.582zM41.73 9.26c-1.917-2.143-2.887-2.52-3.806-3.217l-.976 1.462c1.269.78 2.44 1.852 3.513 2.925l1.269-1.17zM12.165 6.044a17.507 17.507 0 0 0-3.903 3.314l1.268 1.17c.976-1.17 2.31-2.223 3.58-3.003l-.945-1.48zm29.858 31.583L43.39 38.7c1-1.332 1.851-2.77 2.537-4.289l-1.56-.78c-.684 1.463-1.464 2.827-2.343 3.997zM4.001 34.305c.746 1.702 1.421 2.597 2.504 4.297l1.464-.975a17.105 17.105 0 0 1-2.342-4.094l-1.626.772zm42.107-7.915c-.048 1.412-.484 3.433-.865 4.706l1.818.472c.611-1.725.82-2.897.939-4.94l-1.892-.238zM29.924 45.62l.488 1.755c2.181-.439 3.157-.942 4.683-1.852l-.78-1.462c-1.366.682-2.928 1.17-4.391 1.56zm6.733-2.924l.975 1.462c1.938-1.359 2.472-1.787 3.903-3.217l-1.268-1.17a21.365 21.365 0 0 1-3.61 2.925zm-28.2-1.852a21.27 21.27 0 0 0 3.903 3.314l.976-1.462c-1.367-.975-2.537-1.95-3.61-3.022l-1.27 1.17zm6.342 4.776a25.148 25.148 0 0 0 4.782 1.657l.39-1.657c-1.561-.39-2.927-.974-4.391-1.56l-.78 1.56zm7.64 2.187c1.828.258 3.183.246 5.045.03l-.095-1.755c-1.673.147-3.246.124-4.72-.066-.095.372-.228 1.783-.23 1.79zm-18.554-23.9c.085-1.411.575-3.42.989-4.683l-1.806-.52C2.413 20.415 2.173 21.58 2 23.62l1.885.287z"/></g>'}})},function(t,e,i){"use strict";i(98).register({error:{width:16,height:16,viewBox:"0 0 128 128",data:'<path pid="0" d="M64 23.9a39.47 39.47 0 1 1-39.47 39.47A39.52 39.52 0 0 1 64 23.9m0-10a49.47 49.47 0 1 0 49.47 49.47A49.47 49.47 0 0 0 64 13.9z"/><path pid="1" d="M30.207 90.732l60.507-60.508 7.071 7.072-60.507 60.507z"/>'}})},function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return n});var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._g({staticClass:"content-element video",class:t.containerClasses,style:t.containerStyle},t.isEmbed?null:{tap:t.onVideoClick}),[i("v-touch",t._g({directives:[{name:"show",rawName:"v-show",value:!t.isPlayerShown&&!t.hasError,expression:"!isPlayerShown && !hasError"}],staticClass:"play-button",style:t.playButtonStyle},t.isEmbed?null:{tap:t.onVideoClick}),[i("svgicon",{attrs:{name:"video",color:"#272F37 white"}})],1),t._v(" "),t.hasError?i("div",{staticClass:"play-button",style:t.playButtonStyle},[i("svgicon",{attrs:{name:"error",color:"white"}})],1):t._e(),t._v(" "),i("v-touch",t._g({directives:[{name:"show",rawName:"v-show",value:t.isThumbnailShown,expression:"isThumbnailShown"}],staticClass:"thumbnail",style:t.thumbnailStyle},t.isEmbed?null:{tap:t.onVideoClick})),t._v(" "),t.isInline&&t.isPlayerShown?i(t.videoData.provider,{ref:"player",tag:"component",attrs:{id:t.videoData.id,url:t.videoData.originalUrl,embedUrl:t.videoData.embedUrl,accessKey:t.videoData.accessKey,width:t.containerRect.width,height:t.containerRect.height,autoplay:t.videoData.autoplay&&!t.isMobile,start:t.videoData.startFrom,isCurrentPage:t.isCurrentPage,isIos:t.isIos}}):t._e(),t._v(" "),!t.isInline&&t.isModalShown?i("modal-window",{ref:"modalWindow",attrs:{width:t.modalRect.width,height:t.modalRect.height,bgColor:"#000",delay:500}},[t.isIos&&t.showPreventer&&"wistia"!==t.videoData.provider?i("v-touch",{ref:"touchPreventer",staticClass:"touch-preventer",on:{tap:t.playPause,doubletap:function(t){t.preventDefault()},pinch:function(t){t.preventDefault()}}}):t._e(),t._v(" "),i(t.videoData.provider,{ref:"player",tag:"component",style:t.modalVideoStyle,attrs:{id:t.videoData.id,url:t.videoData.originalUrl,embedUrl:t.videoData.embedUrl,accessKey:t.videoData.accessKey,width:t.modalRect.width,height:t.modalRect.height,autoplay:!0,start:t.videoData.startFrom,isCurrentPage:!0,isIos:t.isIos}})],1):t._e()],1)},n=[]},function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return n});var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flip-book"},[i("v-touch",t._g({staticClass:"book-holder",style:[t.bookHolderStyle],attrs:{tag:"div",id:"book-holder"},nativeOn:{transitionend:function(e){return t.transitionEnd(e)}}},t.isEmbed?null:{doubletap:t.zoomByTap,pinchstart:t.zoomByPinchStart,pinchmove:t.zoomByPinchMove,pinchend:t.zoomByPinchFinish,pinchcancel:t.zoomByPinchFinish}))],1)},n=[]},function(t,e,i){"use strict";function r(t){i(365)}i.r(e);var n=i(141),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);var s=i(395),l=i(99),u=r,c=Object(l.a)(o.a,s.a,s.b,!1,u,null,null);e.default=c.exports},function(t,e,i){},,function(t,e,i){"use strict";function r(t){i(368)}i.r(e);var n=i(142),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);var s=i(99),l=r,u=Object(s.a)(o.a,void 0,void 0,!1,l,null,null);e.default=u.exports},function(t,e,i){},,function(t,e,i){},,function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return n});var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.className},[i("div",{class:t.containerClassName,on:{click:t.onClick}},[i("div",{class:t.arrowClassName,on:{click:t.onArrowClick}},[i("svgicon",{attrs:{name:t.arrowIconName}})],1)])])},n=[]},function(t,e,i){"use strict";i(98).register({"book-prev":{width:1700,height:1700,viewBox:"0 0 1700 1700",data:'<path pid="0" _fill="#231F20" d="M1095.104 1659.382l-657.847-657.915c-39.266-39.197-60.896-91.546-60.896-147.222 0-55.674 21.631-108.023 60.896-147.29l663.405-663.543c54.252-54.182 142.136-54.182 196.386 0 54.182 54.25 54.182 142.136 0 196.386l-614.313 614.38 608.751 608.754c54.183 54.248 54.183 142.202 0 196.384-27.19 27.191-62.656 40.687-98.19 40.687-35.535-.001-71.068-13.496-98.192-40.621z"/>'}})},function(t,e,i){"use strict";function r(t){i(375)}i.r(e);var n=i(144),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);var s=i(99),l=r,u=Object(s.a)(o.a,void 0,void 0,!1,l,null,null);e.default=u.exports},function(t,e,i){},,function(t,e,i){"use strict";i(98).register({"book-next":{width:1700,height:1700,viewBox:"0 0 1700 1700",data:'<path pid="0" _fill="#231F20" d="M514.318 1697.305c-35.479 0-70.926-13.472-98.04-40.622-54.136-54.1-54.136-141.916 0-196.084l607.748-607.822-613.333-613.403c-54.168-54.163-54.168-141.916 0-196.08 54.131-54.135 141.98-54.135 196.047 0l662.391 662.492c39.204 39.167 60.804 91.441 60.804 147.06 0 55.592-21.6 107.861-60.804 146.996l-656.773 656.905c-27.049 27.087-62.529 40.558-98.04 40.558z"/>'}})},function(t,e,i){"use strict";i.r(e);var r=i(145),n=i.n(r);for(var o in r)"default"!==o&&function(t){i.d(e,t,function(){return r[t]})}(o);var a=i(99),s=Object(a.a)(n.a,void 0,void 0,!1,null,null,null);e.default=s.exports},function(t,e,i){"use strict";function r(t){i(380)}i.r(e);var n=i(146),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);var s=i(394),l=i(99),u=r,c=Object(l.a)(o.a,s.a,s.b,!1,u,null,null);e.default=c.exports},function(t,e,i){},,function(t,e,i){"use strict";function r(t){i(383)}i.r(e);var n=i(147),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);var s=i(390),l=i(99),u=r,c=Object(l.a)(o.a,s.a,s.b,!1,u,null,null);e.default=c.exports},function(t,e,i){},,,,,,,function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return n});var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.className},[t._t("default"),t._v(" "),i("div",{ref:"handle-topLeft",staticClass:"resize-square resize-square-top-left"}),t._v(" "),i("div",{ref:"handle-top",staticClass:"resize-square resize-square-top"}),t._v(" "),i("div",{ref:"handle-topRight",staticClass:"resize-square resize-square-top-right"}),t._v(" "),i("div",{ref:"handle-right",staticClass:"resize-square resize-square-right"}),t._v(" "),i("div",{ref:"handle-bottomRight",staticClass:"resize-square resize-square-bottom-right"}),t._v(" "),i("div",{ref:"handle-bottom",staticClass:"resize-square resize-square-bottom"}),t._v(" "),i("div",{ref:"handle-bottomLeft",staticClass:"resize-square resize-square-bottom-left"}),t._v(" "),i("div",{ref:"handle-left",staticClass:"resize-square resize-square-left"})],2)},n=[]},function(t,e,i){"use strict";function r(t){i(392)}i.r(e);var n=i(148),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);var s=i(99),l=r,u=Object(s.a)(o.a,void 0,void 0,!1,l,null,null);e.default=u.exports},function(t,e,i){},,function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return n});var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("vdrn",{style:t.vdrStyle,attrs:{active:t.selected,draggable:!0,resizable:!0,w:t.containerRect.width,h:t.containerRect.height,x:t.containerRect.left,y:t.containerRect.top,minw:t.minDimensions.width,minh:t.minDimensions.height,parent:!0,preserveAspectRatio:t.data.lockAspectRatio,tabindex:"0"},on:{onDragStart:t.onDragStart,onDragStop:t.onDragStop,onResizeStart:t.onResizeStart,onResizeStop:t.onResizeStop,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp}},[i("div",{class:t.classes,style:t.containerStyle,on:{onClick:t.onContentClick}},[i("video-placeholder",{attrs:{data:t.data}})],1)])},n=[]},function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return n});var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flat-book",style:t.bookStyle},[t.showLeftButton?i("left-nav-button",{attrs:{onClick:t.onLeftNavButtonClick,onArrowClick:t.onLeftNavButtonArrowClick,backgroundInteractive:t.navBgInteractive}}):t._e(),t._v(" "),t._l(t.currentPages,function(e){return i("page",{key:e.id,attrs:{id:e.id,side:e.side,contentCreator:t.contentCreator,bordered:"",deferPageLoad:!1}})}),t._v(" "),t.showRightButton?i("right-nav-button",{attrs:{onClick:t.onRightNavButtonClick,onArrowClick:t.onRightNavButtonArrowClick,backgroundInteractive:t.navBgInteractive}}):t._e()],2)},n=[]},function(t,e,i){"use strict";function r(t){i(397)}i.r(e);var n=i(149),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);var s=i(399),l=i(99),u=r,c=Object(l.a)(o.a,s.a,s.b,!1,u,null,null);e.default=c.exports},function(t,e,i){},,function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return n});var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"slide-book"},[i("v-touch",t._g({ref:"holder",staticClass:"slide-holder",attrs:{tag:"div",id:"slide-holder"}},t.isEmbed?null:{doubletap:t.onTap,pinchstart:t.onPinchStart,pinchmove:t.onPinchMove,pinchend:t.onPinchFinish,pinchcancel:t.onPinchFinish,panmove:t.onPanMove,panend:t.onPanEnd,pancancel:t.onPanEnd}),t._l(t.slidesCache,function(e,r){return i("div",{key:e[0].id+"_"+e[0].side,ref:"current"===r?"wrapper":null,refInFor:!0,class:"slide-wrapper "+r,style:t.slideStyles[r],attrs:{"data-id":e[0].id+"_"+e[0].side+(e[1]?"-"+e[1].id+"_"+e[0].side:"")}},[i("div",{staticClass:"spread-wrapper",style:t.spreadStyles[r],on:{transitionend:t.onTransitionEnd}},t._l(e,function(e){return i("page",{key:e.id+"_"+e.side,ref:"current"===r?"current":null,refInFor:!0,class:"slide-page "+e.position,attrs:{id:e.id,side:e.side,size:t.pageSizes[r],autoHighlight:!1,contentCreator:t.contentCreator,"data-id":e.id+"_"+e.side}})}),1)])}),0)],1)},n=[]},function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return n});var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"book-container"},[i(t.bookComponent,{tag:"component",attrs:{"container-size":t.containerSize,"page-size":t.bookSize}})],1)},n=[]},function(t,e,i){"use strict";function r(t){i(402)}i.r(e);var n=i(150),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);var s=i(411),l=i(99),u=r,c=Object(l.a)(o.a,s.a,s.b,!1,u,null,null);e.default=c.exports},function(t,e,i){},,function(t,e,i){},,function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return n});var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:"tool-window"},[t._t("preloader"),t._v(" "),i("header",{staticClass:"tool-title-frame"},[i("h3",{class:"tool-title icon "+t.icon},[t._v(t._s(t.title))]),t._v(" "),i("v-touch",{staticClass:"close-button svg-menu-button",attrs:{tag:"button"},on:{tap:t.close}},[i("svgicon",{attrs:{name:"arrow-down",scale:"2"}})],1)],1),t._v(" "),t._t("subheader"),t._v(" "),i("div",{ref:"scroller",staticClass:"scroller",attrs:{id:"scroller"}},[i("div",{staticClass:"cont"},[t._t("default")],2)]),t._v(" "),i("footer",[t.footerTitle?i("h3",{staticClass:"tool-footer-title"},[t._v(t._s(t.footerTitle))]):t._e(),t._v(" "),t._t("footer")],2)],2)},n=[]},function(t,e,i){"use strict";function r(t){i(408)}i.r(e);var n=i(154),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);var s=i(410),l=i(99),u=r,c=Object(l.a)(o.a,s.a,s.b,!1,u,null,null);e.default=c.exports},function(t,e,i){},,function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return n});var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.wrapperClasses,style:t.thStyles,attrs:{"data-id":t.data.id}},[i("v-touch",{staticClass:"th-img-element",style:t.thStyles},[t.data.showPage?i("page",{attrs:{id:t.data.id,side:t.data.side,size:t.data.size,isThumb:!0}}):t._e()],1),t._v(" "),i("span",{staticClass:"th-item-title",attrs:{dir:t.textDirection}},[t._v(t._s(t.data.caption))])],1)},n=[]},function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return n});var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("sidebar",{class:t.sidebarClass,attrs:{title:t.title,icon:t.icon}},[t.isPreloader?i("div",{staticClass:"th-preloader",staticStyle:{position:"absolute",top:"0",width:"100%",height:"100%"},attrs:{slot:"preloader"},slot:"preloader"},[i("div",{staticClass:"preloader-container"},[i("spinner",{attrs:{size:36,"line-size":3,"line-fg-color":"#5692AE","line-bg-color":"#ffffff"}})],1)]):t._e(),t._v(" "),t.singleMode?i("v-touch",{class:"th-wrapper "+(t.isRtl?" rtl":""),on:{tap:t.onClick}},t._l(t.thumbsArray,function(t){return i("th-item",{key:t.index,attrs:{data:t}})}),1):i("v-touch",{class:"th-wrapper "+(t.isRtl?" rtl":""),on:{tap:t.onClick}},t._l(t.thumbsArray,function(e,r){return i("div",{class:"th-spread-wrapper "+(e.isActive?" active":""),style:"margin: "+(1!==e.length||e.isWide?"":"20px "+(t.thumbSizes.width/2+10)+"px")},t._l(e,function(t){return i("th-item",{key:t.index,attrs:{data:t}})}),1)}),0)],1)},n=[]},function(t,e,i){"use strict";function r(t){i(413)}i.r(e);var n=i(155),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);var s=i(417),l=i(99),u=r,c=Object(l.a)(o.a,s.a,s.b,!1,u,null,null);e.default=c.exports},function(t,e,i){},,function(t,e,i){"use strict";i(98).register({"mobile-left":{width:942,height:1696,viewBox:"0 0 942 1696",data:'<path pid="0" d="M808.793 1696L27.467 914.625c-36.623-36.662-36.623-96.616 0-133.25L808.595 0l133.207 133.22L227.277 848 942 1562.78 808.793 1696z"/>'}})},function(t,e,i){"use strict";i(98).register({"mobile-right":{width:942,height:1696,viewBox:"0 0 942 1696",data:'<path pid="0" d="M133.207 0l781.326 781.375c36.623 36.662 36.623 96.616 0 133.25L133.405 1696 .198 1562.78 714.723 848 0 133.22 133.207 0z"/>'}})},function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return n});var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.isFirstPage?t._e():i("v-touch",t._g({staticClass:"mobile-left-arrow",attrs:{tag:"button"}},t.isEmbed?{tap:t.prev}:{tap:t.prev,swipeleft:function(e){return t.next(e,!0)},swiperight:function(e){return t.prev(e,!0)}}),[i("transition",{attrs:{name:"bars-fade"}},[t.show?i("svgicon",{attrs:{name:"mobile-left",height:"100%"}}):t._e()],1)],1),t._v(" "),t.isLastPage?t._e():i("v-touch",t._g({staticClass:"mobile-right-arrow",attrs:{tag:"button"}},t.isEmbed?{tap:t.next}:{tap:t.next,swipeleft:function(e){return t.next(e,!0)},swiperight:function(e){return t.prev(e,!0)}}),[i("transition",{attrs:{name:"bars-fade"}},[t.show?i("svgicon",{attrs:{name:"mobile-right",height:"100%"}}):t._e()],1)],1)],1)},n=[]},function(t,e,i){"use strict";function r(t){i(419)}i.r(e);var n=i(156),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);var s=i(433),l=i(99),u=r,c=Object(l.a)(o.a,s.a,s.b,!1,u,null,null);e.default=c.exports},function(t,e,i){},,function(t,e,i){"use strict";function r(t){i(422)}i.r(e);var n=i(157),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);var s=i(424),l=i(99),u=r,c=Object(l.a)(o.a,s.a,s.b,!1,u,null,null);e.default=c.exports},function(t,e,i){},,function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return n});var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"toc-item"},[i("p",{staticClass:"list-item toc-item-p",class:{haschildren:t.itemData.children},style:"padding-left: "+t.paddingLeft+"px;"},[t.openChildIcon||!t.pageLabel?i("v-touch",{class:"icon"+t.openChildIcon,attrs:{tag:"span"},on:{tap:t.toggleOpen}}):t._e(),t._v(" "),i("v-touch",{staticClass:"toc-item-title",attrs:{tag:"span",dir:t.textDirection},on:{tap:function(e){return t.goToPage(t.itemData.page)}}},[t._v(t._s(t.itemTitle))]),t._v(" "),t.pageLabel?i("v-touch",{staticClass:"page-label",attrs:{tag:"span"},on:{tap:function(e){return t.goToPage(t.itemData.page)}}},[t._v(t._s(t.$t("BookmarksToolWindow.PAGE",[t.pageLabel])))]):t._e()],1),t._v(" "),t.itemData.children&&t.itemData.toggle?i("ul",{staticClass:"toc-sub-item-ul"},t._l(t.itemData.children,function(e,r){return i("toc-item",{key:r,attrs:{"item-data":e,depth:1*t.depth+1}})}),1):t._e()])},n=[]},function(t,e,i){"use strict";function r(t){i(426)}i.r(e);var n=i(158),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);var s=i(432),l=i(99),u=r,c=Object(l.a)(o.a,s.a,s.b,!1,u,null,null);e.default=c.exports},function(t,e,i){},,function(t,e,i){"use strict";i(98).register({"download-full":{width:15,height:18,viewBox:"0 0 15 18",data:'<path pid="0" _fill="#596168" fill-rule="evenodd" d="M12 16H3c-.551 0-1-.449-1-1 0-.551.449-1 1-1h9v2zM11 0v7L9 5 7 7V0H3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12v-2h-1v-2h1V0h-4z"/>'}})},function(t,e,i){"use strict";i(98).register({"download-left":{width:14,height:16,viewBox:"0 0 14 16",data:'<path pid="0" _fill="#596168" d="M5 0h7c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H2c-1.1 0-2-.9-2-2V4.9L5 0zm7 14V2H7v5H2v7h10z"/>'}})},function(t,e,i){"use strict";i(98).register({"download-right":{width:14,height:16,viewBox:"0 0 14 16",data:'<path pid="0" _fill="#596168" d="M9 0H2C.9 0 0 .9 0 2v12c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V4.9L9 0zM2 14V2h5v5h5v7H2z"/>'}})},function(t,e,i){"use strict";i(98).register({"download-attach":{width:16,height:16,viewBox:"0 0 16 16",data:'<path pid="0" _fill="#596168" fill-rule="evenodd" d="M14.114 11H16v4a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1v-4h1.885v3.114h12.23V11zM7 0h2v9.079l2.293-2.293L12.707 8.2 8 12.907 3.293 8.2l1.414-1.414L7 9.079v-9.08z"/>'}})},function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return n});var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.mobileLayout?i("div",{staticClass:"downloads",style:t.drawerStyle},[i("v-touch",{staticClass:"download-header",attrs:{tag:"div"},on:{tap:t.toggleShowCustom}},[i("span",[t._v(t._s(t.$t("SaveWindow.TITLE")))]),t._v(" "),t.customFiles||t.pageFiles||t.fullPdf?i("button",{class:"arrow "+(t.showCustom?"open":"closed")},[i("svgicon",{attrs:{name:"arrow-down",scale:"2"}})],1):t._e()]),t._v(" "),i("div",{staticClass:"download-items",attrs:{id:"download-items"}},[i("div",{ref:"scroller",attrs:{id:"download-scroller"}},[i("div",{staticClass:"cont"},[i("ul",[t.fullPdf?i("v-touch",{staticClass:"download-item full",attrs:{tag:"li",title:t.$t("SaveWindow.FULL_PUBLICATION_DESCRIPTION")},on:{tap:function(e){return t.download("full")}}},[i("a",{ref:"linkFull",attrs:{target:"_blank",title:t.$t("SaveWindow.FULL_PUBLICATION")}},[i("span",{staticClass:"download-icon"},[i("svgicon",{attrs:{name:"download-full"}})],1),t._v(" "),i("div",{staticClass:"download-title"},[t._v(t._s(t.pagesTitle.full))]),t._v(" "),i("span",{staticClass:"download-size"},[t._v(t._s(t.fullPdf.size))])])]):t._e(),t._v(" "),t._l(t.pageFiles,function(e,r){return i("v-touch",{key:"p"+r,staticClass:"download-item custom",attrs:{tag:"li"},on:{tap:function(e){return t.download("page",r)}}},[i("a",{ref:"linkPage",refInFor:!0,attrs:{target:"_blank",title:e.title}},[i("span",{staticClass:"download-icon"},["right"===e.side?i("svgicon",{attrs:{name:"download-right"}}):i("svgicon",{attrs:{name:"download-left"}})],1),t._v(" "),i("div",{staticClass:"download-title"},[t._v(t._s(t.pageFiles.length>1?t.pagesTitle[e.side]:t.pagesTitle.one))]),t._v(" "),i("span",{staticClass:"download-size"},[t._v(t._s(e.size))])])])}),t._v(" "),t._l(t.customFiles,function(e,r){return i("v-touch",{key:"c"+r,staticClass:"download-item custom",attrs:{tag:"li"},on:{tap:function(e){return t.download("custom",r)}}},[i("a",{ref:"linkCustom",refInFor:!0,attrs:{target:"_blank",title:e.title}},[i("span",{staticClass:"download-icon"},[i("svgicon",{attrs:{name:"download-attach"}})],1),t._v(" "),i("div",{staticClass:"download-title"},[t._v(t._s(e.title))]),t._v(" "),i("span",{staticClass:"download-size"},[t._v(t._s(e.size))])])])})],2)])])])],1):i("div",[t._v("downloads desktop")])},n=[]},function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return n});var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("sidebar",{class:t.sidebarClass,attrs:{title:t.title,icon:t.icon}},[i("ul",{staticClass:"toc-items",class:{"additional-padding":t.level2Items}},t._l(t.tocItems,function(e,r){return i("toc-item",{key:r,attrs:{"item-data":e,depth:"0"},on:{updateHeight:t.updateHeight}})}),1),t._v(" "),t.showDownloads?i("downloads-window",{attrs:{slot:"footer"},slot:"footer"}):t._e()],1)},n=[]},function(t,e,i){"use strict";function r(t){i(435)}i.r(e);var n=i(159),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);var s=i(442),l=i(99),u=r,c=Object(l.a)(o.a,s.a,s.b,!1,u,null,null);e.default=c.exports},function(t,e,i){},,function(t,e,i){"use strict";function r(t){i(438)}i.r(e);var n=i(160),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);var s=i(440),l=i(99),u=r,c=Object(l.a)(o.a,s.a,s.b,!1,u,null,null);e.default=c.exports},function(t,e,i){},,function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return n});var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{class:"search-item p"+t.itemData.pageId},[i("v-touch",{staticClass:"list-item search-item-p",attrs:{tag:"p"},on:{tap:function(e){return t.onClick()}}},[i("span",{staticClass:"search-item-title"},[t._v(t._s(t.title))]),t._v(" "),i("span",{staticClass:"search-item-result"},[t._v("\n            "+t._s(t.itemData.text.pre)),i("b",[t._v(t._s(t.itemData.text.main))]),t._v(t._s(t.itemData.text.post)+"\n        ")])])],1)},n=[]},function(t,e,i){"use strict";i(98).register({"rounded-close":{width:16,height:16,viewBox:"0 0 2267.7 2267.7",data:'<path pid="0" d="M1133.9 283.9c-469.4 0-850 380.5-850 850s380.5 850 850 850 850-380.5 850-850c.6-468.9-379.1-849.4-848-850h-2zm350 1080c16.6 12.9 19.6 36.8 6.7 53.3-1.9 2.5-4.2 4.7-6.7 6.7l-60 60c-12.9 16.6-36.8 19.6-53.3 6.7-2.5-1.9-4.7-4.2-6.7-6.7l-230-230-230 230c-12.9 16.6-36.8 19.6-53.3 6.7-2.5-1.9-4.7-4.2-6.7-6.7l-60-60c-16.6-12.9-19.6-36.8-6.7-53.3 1.9-2.5 4.2-4.7 6.7-6.7l230-230-230-230c-16.6-12-20.3-35.1-8.3-51.7 2.3-3.2 5.1-6 8.3-8.3l60-60c12-16.6 35.1-20.3 51.7-8.3 3.2 2.3 6 5.1 8.3 8.3l230 230 230-230c12.9-16.6 36.8-19.6 53.3-6.7 2.5 1.9 4.7 4.2 6.7 6.7l60 60c16.6 12.9 19.6 36.8 6.7 53.3-1.9 2.5-4.2 4.7-6.7 6.7l-230 230 230 230z"/>'}})},function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return n});var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("sidebar",{class:t.sidebarClass,attrs:{title:t.title,icon:t.icon}},[i("div",{staticClass:"tool-header",attrs:{slot:"subheader",id:"tool-header"},slot:"subheader"},[i("div",{staticClass:"search-input-block"},[i("label",[i("span",{staticClass:"search-icon"},[i("svgicon",{attrs:{name:"search",scale:"1"}})],1),t._v(" "),t.showClear?i("v-touch",{staticClass:"clear-icon",attrs:{tag:"span"},on:{tap:t.clear}},[i("svgicon",{attrs:{name:"rounded-close",scale:"1"}})],1):t._e(),t._v(" "),i("v-touch",{on:{tap:t.focusInput}},[i("input",{ref:"searchInput",attrs:{placeholder:t.placeholder},on:{input:function(e){return t.input(e.target.value)},keyup:function(e){return t.keyUp(e)}}})])],1),t._v(" "),i("div",{staticStyle:{clear:"both"}})]),t._v(" "),i("div",{staticClass:"search-sub-header subheader"},[t.subtitle?i("span",{staticClass:"search-results-count"},[t._v("\n                "+t._s(t.subtitle)+"\n            ")]):t._e(),t._v(" "),t.preloaderVisible?i("div",{staticClass:"search-live-preloader"},[i("div",{staticClass:"dot"})]):t._e()])]),t._v(" "),i("ul",{staticClass:"search-ul"},t._l(t.results,function(t){return i("search-result-item",{key:t.pageId,attrs:{"item-data":t,depth:"0"}})}),1)])},n=[]},function(t,e,i){"use strict";function r(t){i(444)}i.r(e);var n=i(161),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);var s=i(447),l=i(99),u=r,c=Object(l.a)(o.a,s.a,s.b,!1,u,null,null);e.default=c.exports},function(t,e,i){},,function(t,e,i){"use strict";i(98).register({cancel:{width:16,height:16,viewBox:"0 0 100 100",data:'<path pid="0" d="M20 24.714L45.286 50 20 75.286 24.714 80 50 54.714 75.286 80 80 75.286 54.714 50 80 24.714 75.286 20 50 45.287 24.714 20z"/>'}})},function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return n});var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"banner-notice"},[i("span",{staticClass:"notice-text",domProps:{innerHTML:t._s(t.noticeText)}}),t._v(" "),i("v-touch",{staticClass:"close-icon",attrs:{tag:"span"},on:{tap:t.close}},[i("svgicon",{attrs:{name:"cancel",scale:"1.5"}})],1)],1)},n=[]},function(t,e,i){"use strict";i(98).register({accessibility:{width:1375,height:1375,viewBox:"0 0 1375 1375",data:'<path pid="0" d="M784.87 1090.89c8.694 19.126 26.081 29.559 45.207 29.559 6.956 0 13.91-1.739 20.865-5.216 26.082-12.172 36.514-41.73 24.343-67.812 0 0-95.631-219.082-113.019-299.065-6.955-27.82-10.432-102.586-12.171-137.361 0-12.171 6.955-22.604 17.387-26.081L981.35 520.58c26.081-6.955 41.73-36.514 34.775-62.595-6.955-26.081-36.514-41.73-62.595-34.775 0 0-198.218 64.334-269.506 64.334-69.55 0-266.03-62.595-266.03-62.595-26.08-6.955-55.64 5.216-64.333 31.297-8.694 27.82 6.955 57.379 34.775 64.334l213.866 64.334c10.433 3.477 19.126 13.91 17.388 26.081-1.739 34.775-5.216 109.541-12.171 137.361-17.388 79.983-113.02 299.065-113.02 299.065-12.17 26.082 0 55.64 24.343 67.812 6.955 3.477 13.91 5.216 20.865 5.216 19.126 0 38.253-10.433 45.208-29.559L687.5 882.24l97.37 208.65z"/><circle pid="1" cx="687.5" cy="339.75" r="97.37"/><path pid="2" d="M1374.306 687.5C1374.306 308.452 1066.547.694 687.5.694 308.452.694.694 308.452.694 687.5c0 379.047 307.758 686.806 686.806 686.806 379.047 0 686.806-307.759 686.806-686.806zm-1258.855 0c0-316.452 257.335-572.049 572.049-572.049s572.049 255.597 572.049 572.049-255.596 572.049-572.049 572.049c-316.452 0-572.049-255.596-572.049-572.049z"/>'}})},function(t,e,i){"use strict";i(98).register({hamburger:{width:18,height:18,viewBox:"0 0 18 18",data:'<g _fill="#000" fill-rule="evenodd"><path pid="0" d="M1.1 14c-.7 0-1.1.584-1.1 1.365v1.27C0 17.512.4 18 1.1 18h15.8c.7 0 1.1-.78 1.1-1.365v-1.269c0-.878-.4-1.366-1.1-1.366H1.1zM1.1 7C.4 7 0 7.6 0 8.4v1.3c0 .9.4 1.3 1.1 1.3h15.8c.7 0 1.1-.7 1.1-1.3V8.3c0-.8-.4-1.3-1.1-1.3H1.1zM1.135 0C.435 0 0 .5 0 1.3v1.3C0 3.5.435 4 1.135 4H16.9c.7 0 1.1-.7 1.1-1.3V1.4c0-.9-.4-1.4-1.1-1.4H1.135z"/></g>'}})},function(t,e,i){"use strict";i(98).register({thumbnails:{width:18,height:18,viewBox:"0 0 18 18",data:'<path pid="0" _fill="#49505A" d="M6 0c.6 0 1 .4 1 1v5c0 .6-.4 1-1 1H1c-.6 0-1-.4-1-1V1c0-.6.4-1 1-1h5zm11 0c.6 0 1 .4 1 1v5c0 .6-.4 1-1 1h-5c-.6 0-1-.4-1-1V1c0-.6.4-1 1-1h5zM6 11c.6 0 1 .4 1 1v5c0 .6-.4 1-1 1H1c-.6 0-1-.4-1-1v-5c0-.6.4-1 1-1h5zm11 0c.6 0 1 .4 1 1v5c0 .6-.4 1-1 1h-5c-.6 0-1-.4-1-1v-5c0-.6.4-1 1-1h5z"/>'}})},function(t,e,i){"use strict";i(98).register({fullscreen:{width:16,height:16,viewBox:"0 0 2267.7 2267.7",data:'<path pid="0" d="M653.9 563.9l180-180h-500v500l180-180 240 240c33.1 44.2 95.8 53.1 140 20s53.1-95.8 20-140c-5.7-7.6-12.4-14.3-20-20l-240-240zm1100 1000l-240-250c-33.1-44.2-95.8-53.1-140-20s-53.1 95.8-20 140c5.7 7.6 12.4 14.3 20 20l250 240-190 190h500v-500l-180 180zm-250-610l240-240 190 170v-500h-500l180 180-240 240c-38.1 38.9-38.1 101.1 0 140 22.8 37.9 71.9 50.1 109.8 27.3 7.6-4.6 14.4-10.4 20.2-17.3zm-740 360l-240 250-190-180v500h500l-180-180 250-240c38.1-38.9 38.1-101.1 0-140-28.3-40.9-84.3-51.1-125.2-22.8-5.4 3.7-10.3 8-14.8 12.8z"/>'}})},function(t,e,i){"use strict";i(98).register({"made-with":{width:119,height:30,viewBox:"0 0 119 30",data:'<g _fill="#272f37" fill-opacity=".8" fill-rule="evenodd"><path pid="0" d="M27.102 26.062c0 .29-.233.526-.525.526h-1.052a.525.525 0 0 1-.525-.526V15.051c0-.355.3-.526.497-.526h6.338c.289 0 .523.233.523.524v1.05c0 .29-.236.524-.523.524H27.21a.105.105 0 0 0-.108.103v2.679c0 .056.047.103.105.103h3.836c.29 0 .527.232.527.523v1.05c0 .29-.234.525-.527.525h-3.836a.105.105 0 0 0-.105.105zm8.673-11.538a.525.525 0 0 0-.526-.524l-1.052.131c-.396.05-.525.235-.525.524 0 0-.006 9.802 0 9.834-.006 1.369 1.127 2.104 2.103 2.098.975-.005.528.006.528.006a.53.53 0 0 0 .522-.53v-1.175c0-.23-.187-.4-.387-.4h-.27a.384.384 0 0 1-.393-.373zm2.89.525a1.051 1.051 0 0 1 2.103 0 1.05 1.05 0 0 1-2.103 0zm.525 2.36h1.053c.29 0 .525.184.525.527v8.125c0 .29-.233.526-.525.526H39.19a.526.526 0 0 1-.525-.526v-8.125c0-.291.14-.527.525-.527zm3.682 2.839a.519.519 0 0 0-.002.047v8.652c0 .29.235.525.525.525h1.052a.524.524 0 0 0 .525-.525v-2.485a3.49 3.49 0 0 0 1.579.388h.26a3.149 3.149 0 0 0 3.154-3.147v-3.41a3.151 3.151 0 0 0-3.153-3.146h-.788a3.148 3.148 0 0 0-3.154 3.144v-.364c0 .103 0 .21.002.32zm2.1.043c0-.722.589-1.308 1.314-1.308h.263c.726 0 1.314.589 1.314 1.308v3.414c0 .723-.588 1.309-1.314 1.309h-.263c-.725 0-1.314-.59-1.314-1.309zm6.835-.043a.519.519 0 0 0-.002.047v8.652c0 .29.235.525.525.525h1.052a.524.524 0 0 0 .525-.525v-2.485a3.492 3.492 0 0 0 1.579.388h.26a3.149 3.149 0 0 0 3.155-3.147v-3.41a3.152 3.152 0 0 0-3.154-3.146h-.788a3.148 3.148 0 0 0-3.154 3.144v-.364c0 .103 0 .21.002.32zm2.1.043c0-.722.589-1.308 1.315-1.308h.262c.726 0 1.314.589 1.314 1.308v3.414c0 .723-.588 1.309-1.314 1.309h-.262c-.726 0-1.315-.59-1.315-1.309zm6.833-5.242a1.051 1.051 0 0 1 2.102 0 1.05 1.05 0 0 1-2.102 0zm.525 2.36h1.053c.29 0 .524.184.524.527v8.125c0 .29-.233.526-.524.526h-1.053a.526.526 0 0 1-.525-.526v-8.125c0-.291.165-.527.525-.527zm4.205 9.178h1.052a.523.523 0 0 0 .525-.526v-5.767c0-.724.589-1.311 1.315-1.311h.262c.725 0 1.314.588 1.314 1.31v5.779a.52.52 0 0 0 .524.522l1.053-.004a.526.526 0 0 0 .525-.527v-5.77a3.15 3.15 0 0 0-3.153-3.146h-.788c-.489 0-.951.11-1.363.308a.52.52 0 0 0-.214-.046H65.47a.524.524 0 0 0-.525.527v8.125a.524.524 0 0 0 .525.526zm15.773-6.58l-.004.287a3.148 3.148 0 0 0-3.153-3.145h-.789a3.151 3.151 0 0 0-3.153 3.147v3.41a3.149 3.149 0 0 0 3.155 3.146h.26c.6 0 1.076-.105 1.594-.393 0 1.085-.825 1.552-1.589 1.568-1.294.026-1.904-.718-2.027-.817-.124-.1-.256-.14-.412 0l-.72.79a.414.414 0 0 0-.016.578s1.12 1.17 2.91 1.156h.265c2.359.008 3.66-1.576 3.668-4.128.007-2.146-.007-4.112-.008-4.741.01-.334.019-.572.019-.859zm-2.105.287c0-.723-.589-1.31-1.314-1.31h-.263c-.726 0-1.314.59-1.314 1.31v3.414c0 .722.588 1.308 1.314 1.308h.263c.725 0 1.314-.589 1.314-1.308zm9.457 6.293a3.413 3.413 0 0 0 3.418-3.408 3.405 3.405 0 0 0-1.706-2.952 3.141 3.141 0 0 0 1.312-2.555 3.15 3.15 0 0 0-3.153-3.147H84.13a.524.524 0 0 0-.526.526v11.01c0 .29.236.526.526.526h.526zm-.261-4.982c.798 0 1.445.647 1.445 1.442 0 .797-.649 1.442-1.445 1.442h-2.522a.104.104 0 0 1-.106-.102v-2.68c0-.056.045-.102.106-.102zm-.395-5.245c.871 0 1.578.707 1.578 1.574 0 .869-.707 1.573-1.578 1.573h-2.125a.105.105 0 0 1-.108-.105v-2.937c0-.058.046-.105.108-.105zm5.651 3.934a3.149 3.149 0 0 1 3.153-3.147h.789a3.151 3.151 0 0 1 3.153 3.147v3.409a3.15 3.15 0 0 1-3.153 3.146h-.789a3.151 3.151 0 0 1-3.153-3.146zm2.102-.003c0-.722.589-1.308 1.315-1.308h.262c.726 0 1.314.589 1.314 1.308v3.414c0 .723-.588 1.309-1.314 1.309h-.262c-.726 0-1.315-.59-1.315-1.309zm6.307.003a3.15 3.15 0 0 1 3.154-3.147h.789a3.151 3.151 0 0 1 3.153 3.147v3.409a3.15 3.15 0 0 1-3.153 3.146h-.79A3.151 3.151 0 0 1 102 23.703zm2.077-.003c0-.722.588-1.308 1.314-1.308h.262c.726 0 1.314.589 1.314 1.308v3.414c0 .723-.588 1.309-1.314 1.309h-.262c-.726 0-1.314-.59-1.314-1.309zm11.949 5.976c.094.113.286.323.43.323h1.841c.25 0 .31-.287.215-.41l-3.785-4.567c1.912-1.227 2.739-3.59 2.774-3.803.035-.214-.045-.387-.332-.387h-1.359c-.377 0-.392.295-.514.507-.122.211-.569 1.807-2.517 2.726v-5.867a.525.525 0 0 0-.526-.524h-1.051c-.349 0-.526.26-.526.524v11.277c0 .29.236.524.526.524h1.052a.523.523 0 0 0 .525-.524V22.4zM.01 27.686a1.114 1.114 0 0 1-.01-.145V14.108c0-.1.014-.196.038-.287a2.213 2.213 0 0 1 3.102-1.598l5.949 3.072-.005-.002c.02-.012.157-.102.21-.13l5.717-2.96a2.213 2.213 0 0 1 3.14 1.946V27.58c0 .1-.013.196-.038.287a2.212 2.212 0 0 1-3.102 1.599l-5.944-3.07c-.02.011-.158.1-.21.129L3.14 29.487a2.214 2.214 0 0 1-3.13-1.8m2.833-.548l5.134-2.665a1.718 1.718 0 0 0 .567-2.329l.004-.002-.756-1.33a3.902 3.902 0 0 1-.635-2.021c-.02-.649.119-1.265.381-1.813l.008.005-4.703-2.413a.457.457 0 0 0-.63.423V26.717a.457.457 0 0 0 .63.422m13.094-.444v-1.444h.001V14.973a.457.457 0 0 0-.63-.423l-5.134 2.666a1.717 1.717 0 0 0-.567 2.328l-.004.002.755 1.33c.382.584.613 1.275.636 2.022a3.9 3.9 0 0 1-.382 1.813l4.696 2.408a.458.458 0 0 0 .63-.424"/><g><path pid="1" d="M65.145 2.66l.03.703c.465-.547 1.091-.82 1.88-.82.887 0 1.49.34 1.811 1.02.211-.305.485-.551.823-.739.338-.187.738-.281 1.199-.281 1.39 0 2.097.736 2.12 2.209V9h-1.083V4.816c0-.453-.104-.792-.31-1.016s-.556-.337-1.044-.337c-.402 0-.736.12-1.002.36s-.42.564-.463.97V9h-1.09V4.846c0-.922-.45-1.383-1.353-1.383-.711 0-1.197.303-1.46.908V9H64.12V2.66zM78.67 9c-.062-.125-.113-.348-.152-.668-.504.523-1.105.785-1.805.785-.625 0-1.137-.177-1.538-.53-.4-.354-.6-.802-.6-1.345 0-.66.25-1.173.753-1.538.502-.365 1.208-.548 2.118-.548H78.5v-.498c0-.379-.114-.68-.34-.905s-.56-.337-1.002-.337c-.387 0-.711.098-.973.293-.262.195-.393.432-.393.709h-1.09c0-.316.113-.622.338-.917a2.3 2.3 0 0 1 .914-.7 3.075 3.075 0 0 1 1.268-.258c.73 0 1.303.183 1.717.548.414.365.629.868.645 1.509v2.918c0 .582.074 1.045.222 1.388V9zm-1.798-.826c.34 0 .662-.088.966-.264.305-.176.526-.404.663-.685V5.924h-.85c-1.328 0-1.992.388-1.992 1.166 0 .34.113.605.34.797.226.191.517.287.873.287zm4.26-2.397c0-.972.23-1.755.692-2.346.46-.592 1.064-.888 1.81-.888.742 0 1.33.254 1.764.762V0h1.084v9h-.996l-.053-.68c-.434.532-1.037.797-1.81.797-.735 0-1.333-.3-1.796-.902-.463-.602-.695-1.387-.695-2.356zm1.084.123c0 .72.149 1.282.446 1.688.296.406.707.61 1.23.61.688 0 1.19-.31 1.506-.927V4.36c-.324-.597-.822-.896-1.494-.896-.531 0-.945.205-1.242.615-.297.41-.446 1.018-.446 1.822zm8.69 3.217c-.859 0-1.558-.282-2.097-.846-.54-.565-.809-1.32-.809-2.265v-.2c0-.628.12-1.19.36-1.684.241-.494.577-.88 1.009-1.16.431-.28.899-.42 1.403-.42.824 0 1.465.272 1.922.815.457.543.685 1.32.685 2.332v.452h-4.295c.016.625.199 1.13.548 1.514.35.385.794.577 1.333.577.383 0 .707-.078.973-.234.266-.156.498-.363.697-.621l.662.515c-.531.817-1.328 1.225-2.39 1.225zm-.134-5.683c-.438 0-.805.159-1.102.477-.297.318-.48.765-.55 1.339h3.175v-.082c-.03-.55-.18-.978-.445-1.28s-.625-.454-1.078-.454zm12.67 4.072l1.219-4.846h1.084L103.898 9h-.879l-1.54-4.805L99.978 9h-.88l-1.84-6.34h1.079l1.248 4.746 1.476-4.746h.873zM108.135 9h-1.084V2.66h1.084zM106.963.978c0-.175.054-.324.161-.445.108-.12.267-.181.478-.181.21 0 .371.06.48.181a.64.64 0 0 1 .165.445.62.62 0 0 1-.165.44c-.109.117-.27.176-.48.176-.21 0-.37-.059-.478-.176a.626.626 0 0 1-.16-.44zm4.49.147V2.66h1.183v.838h-1.183V7.43c0 .254.052.444.158.57.105.128.285.191.539.191.125 0 .297-.023.515-.07V9a3.143 3.143 0 0 1-.832.117c-.484 0-.85-.146-1.095-.44s-.37-.708-.37-1.247V3.498h-1.154V2.66h1.155V1.125zm3.645 2.303c.48-.59 1.105-.885 1.875-.885 1.34 0 2.016.756 2.027 2.267V9h-1.084V4.805c-.004-.457-.108-.795-.313-1.014-.205-.219-.525-.328-.958-.328-.352 0-.66.094-.926.281a1.91 1.91 0 0 0-.621.738V9h-1.084V0h1.084z"/></g></g>'}})},function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return n});var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-touch",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],class:t.containerClasses,style:t.containerStyle,on:{tap:function(t){t.preventDefault()}}},[i("div",{staticClass:"inner-container"},[i("div",{class:t.mainClasses},[i("transition",{attrs:{name:"bars-fade"}},[t.showBars?i("div",{staticClass:"top-bar-mobile"},[t.isLightbox?i("v-touch",{staticClass:"back-button svg-menu-button",attrs:{tag:"button",tabindex:"0"},on:{tap:t.backFromLightbox}},[i("svgicon",{attrs:{name:"arrow-down",scale:"2"}})],1):t._e(),t._v(" "),t.showMenuIcon?i("v-touch",{staticClass:"menu-button svg-menu-button",attrs:{tag:"button",tabindex:"0"},on:{tap:function(e){return t.openSidebar("toc",e)}}},[i("svgicon",{attrs:{name:"hamburger",scale:"1"}})],1):i("span",{staticClass:"empty-menu-button svg-menu-button"}),t._v(" "),i("v-touch",{staticClass:"title",style:{paddingLeft:t.accessibilityShow?"44px":"0"},attrs:{tag:"span",tabindex:"0"},on:{tap:t.titleTap}},[t._v(t._s(t.title))]),t._v(" "),t.accessibilityPDF?i("v-touch",{staticClass:"search-button svg-menu-button",attrs:{tag:"a",href:t.accessibilityPDFPath,id:"ttst",target:"_blank",tabindex:"1","aria-label":t.$t("Accessibility.DOWNLOAD_TITLE")},on:{tap:t.accessibilityShow}},[i("svgicon",{attrs:{name:"accessibility",width:"21",height:"21"}})],1):t._e(),t._v(" "),t.showSearchIcon?i("v-touch",{staticClass:"search-button svg-menu-button",attrs:{title:t.$t("TopMenu.SEARCH"),"aria-label":t.$t("TopMenu.SEARCH"),tag:"button",tabindex:"0"},on:{tap:function(e){return t.openSidebar("search",e)}}},[i("svgicon",{attrs:{name:"search",scale:"1"}})],1):i("span",{staticClass:"empty-search-button svg-menu-button"})],1):t._e()]),t._v(" "),t.hasPages?i("v-touch",{on:{tap:t.containerTap}},[i("book-container",{attrs:{portrait:t.portrait,size:t.bookContainerSize}})],1):t._e(),t._v(" "),i("transition",{attrs:{name:"bars-fade"}},[t.showBars?i("div",{staticClass:"bottom-bar-mobile"},[t.showThumbsIcon?i("v-touch",{staticClass:"thumbnails-button svg-menu-button",attrs:{"aria-label":t.$t("BottomMenu.THUMBNAILS_TIP"),tag:"button"},on:{tap:function(e){return t.openSidebar("thumbnails",e)}}},[i("svgicon",{attrs:{name:"thumbnails",scale:"1"}})],1):i("span",{staticClass:"empty-button svg-menu-button"}),t._v(" "),i("div",{staticClass:"pager-mobile"},[t.displayPages?i("span",[t._v(t._s(t.stateForDisplay))]):t._e(),t._v(" "),t.displayPages&&t.totalPagesVisible?i("span",[t._v("/")]):t._e(),t._v(" "),t.displayPages&&t.totalPagesVisible?i("span",[t._v(t._s(t.totalPages))]):t._e()]),t._v(" "),t.showLogo?i("v-touch",{staticClass:"logo-touch",on:{tap:function(e){return t.goLogoLink()}}},[i("div",{staticClass:"logo-container"},[t.customLogoUrl?i("img",{staticClass:"logo-custom",attrs:{src:t.customLogoUrl}}):t.hasDefaultLogo?i("svgicon",{staticClass:"logo-svg",attrs:{name:"made-with"}}):t._e()],1)]):t._e()],1):t._e()]),t._v(" "),i("mobile-nav",{attrs:{show:!0}})],1),t._v(" "),t.isResizing?i("div",{ref:"rotate-indicator",staticClass:"rotate-indicator"},[i("spinner",{attrs:{size:48,"line-size":4,"line-fg-color":t.spinnerFgColor,"line-bg-color":t.spinnerBgColor}})],1):t._e(),t._v(" "),t.isEmbed?i("v-touch",{class:t.clickToReadClass,attrs:{tag:"span"},on:{tap:t.clickToRead}},[t._v(t._s(t.clickToReadText))]):t._e(),t._v(" "),i("transition",["toc"===t.activeComponent?i("toc-window"):t._e(),t._v(" "),"thumbnails"===t.activeComponent?i("th-window"):t._e(),t._v(" "),"search"===t.activeComponent?i("search-window"):t._e()],1)],1),t._v(" "),t.noticeShown?i("banner-notice",{ref:"noticeBanner",on:{close:t.noticeClose}}):t._e()],1)},n=[]},function(t,e,i){"use strict";function r(){var t={},e=t.ui={};e.toolWindow=S.state.sidebar.opened,e.popup=S.state.popup.opened,e.isFullscreen=S.state.workspace.fullScreenMode,e.searchQuery=S.state.search.query;var i=S.getters["pager/state"];t.isZoomed=i.zoomMode,t.isSingle=i.singleMode;var r=t.isSingle?i.rightPage:i.leftPage||i.rightPage;return t.rightPageId=i.rightPage,t.leftPageId=t.isSingle?null:i.leftPage,i.leftPage&&(t.leftPageUrl=S.getters["pages/urlHeaderById"](i.leftPage)),i.rightPage?t.rightPageUrl=S.getters["pages/urlHeaderById"](i.rightPage):t.rightPageUrl=t.leftPageUrl,i.leftPage||(t.leftPageUrl=t.rightPageUrl),t.version=_,t.isStarted=S.state.workspace.isInited,t.pageIndex=S.getters["pages/pageIndexById"](r),t.isWide=r?S.getters["pages/pageProp"](r,"wide"):void 0,t.locale=S.state.i18n.currentLocale,t}function n(t,e,i){i.$on("link",function(i){var r={type:i.type,source:i.source};"internal"===i.type&&(r.pageUrl=t.getters["pages/urlHeaderById"](i.pageId),r.pageToUrl=t.getters["pages/urlHeaderById"](i.pageToId)),"external"===i.type&&(r.url=i.url,r.pageUrl=t.getters["pages/urlHeaderById"](i.pageId),r.target=i.target),e.trigger("link",r)}),i.$on("video",function(t){e.trigger("video",t)}),i.$on("image",function(t){e.trigger("image",t)}),i.$on("gif",function(t){e.trigger("gif",t)}),i.$on("download",function(t){e.trigger("download",t)}),i.$on("zoomed",function(){e.trigger("zoomed",r())}),i.$on("unzoomed",function(){e.trigger("unzoomed",r())}),i.$on("orientation",function(t,i){e.trigger("orientation",{action:i,state:r(),value:t})}),i.$on("develop",function(t){e.trigger("develop",t)})}function o(t,e,i){S=t,_=i;var n=(0,l.debounce)(function(){var i=t.state.search.results;e.trigger("search",{query:t.state.search.query,success:i.length>0,quantity:i.length})},2500),o={get skin(){var e=JSON.parse(JSON.stringify(t.state.skin.styles));return e.set=function(e,i){t.dispatch("skin/setParam",{param:e,value:i})},e.getJSON=function(){return JSON.stringify(e)},e},get pages(){var e={block:"blocks",link:"links",image:"images",gif:"gifs",gallery:"galleries",video:"videos"},i=JSON.parse(JSON.stringify(t.state.book)),r=t.state.content.outsideStorage;i.search={color:t.state.search.color},i.pages=JSON.parse(JSON.stringify(t.state.pages)),delete i.pages.size;for(var n in i.pages)if(i.pages.hasOwnProperty(n)&&"defaults"!==n&&"structure"!==n){if(i.pages[n].content.length>0){var o={};for(var s in i.pages[n].content)if(i.pages[n].content.hasOwnProperty(s)){var l=i.pages[n].content[s],u=void 0;u=r?JSON.parse(JSON.stringify(t.contentData[l])):JSON.parse(JSON.stringify(t.state.content.items[l]));var c=u.type;delete u.type,delete u.pageId,delete u.itemId,o[e[c]]||(o[e[c]]=[]),o[e[c]].push(u)}i.pages[n]=a(i.pages[n],o)}delete i.pages[n].content,delete i.pages[n].substrateUrl,delete i.pages[n].textUrl,delete i.pages[n].thumbnailUrl,delete i.pages[n].status,delete i.pages[n].loadPending}return i.set=function(e,i){var r=e.split(".");switch(r[0]){case"links":"color"===r[1]&&t.commit("book/SET_LINKS_COLOR",i),"target"===r[1]&&t.commit("book/SET_LINKS_TARGET",i),"highlightOnFlip"===r[1]&&t.commit("book/SET_LINKS_FLIP_HIGHLIGHT",i);break;case"bookSize":"width"===r[1]&&t.commit("book/SET_BOOK_SIZE_WIDTH",i),"height"===r[1]&&t.commit("book/SET_BOOK_SIZE_HEIGHT",i),t.dispatch("sidebar/closeSidebar");break;case"numerationOffset":t.commit("book/SET_NUMERATION_OFFSET",i),t.dispatch("sidebar/closeSidebar");break;case"shadowDepth":t.commit("book/SET_SHADOW_DEPTH",i),t.dispatch("pager/setForceRerender",{forceRerender:!0});break;case"pages":3===r.length&&(t.commit("pages/SET_PAGE_PROPERTY",{pageID:r[1],property:r[2],value:i}),"shadowDepth"===r[2]&&t.dispatch("pager/setForceRerender",{forceRerender:!0}));break;default:console.error("We've forgotten about this property",e,i)}},i.getJSON=function(){return JSON.stringify(i)},i},get workspace(){var e=JSON.parse(JSON.stringify(t.state.workspace));return delete e.userAgentInfo,delete e.muteSound,delete e.textSelectionOn,delete e.freezed,delete e.fullScreenMode,delete e.isInited,delete e.isResizing,delete e.isEmbed,delete e.isProtected,delete e.embedScript,delete e.embedLightbox,delete e.layout,delete e.bookComponent,delete e.modalOpened,delete e.preloader,delete e.size,delete e.visible,e.toc=JSON.parse(JSON.stringify(t.state.toc)),(0,l.removeParamFromJSON)(e.toc,"toggle"),delete e.toc.scrollY,e.downloads=JSON.parse(JSON.stringify(t.state.downloads)),e.print=JSON.parse(JSON.stringify(t.state.print)),e.logoLink=JSON.parse(JSON.stringify(t.state.logo)),e.search={enabled:t.state.search.enabled,path:t.state.search.path},e.set=function(e,i){var r=e.split(".");switch(r[0]){case"toc":"enabled"===r[1]&&(i?t.commit("toc/ENABLE"):(t.commit("toc/DISABLE"),t.dispatch("sidebar/closeSidebar"))),"children"===r[1]&&((0,l.addTreeParamByBranch)(i,"children","toggle",!1),t.commit("toc/SET_CHILDREN",{key:"pageFiles",value:i}));break;case"downloads":1===r.length?(0,s.isObject)(i)&&(void 0!==i.enabled&&(i.enabled?t.commit("downloads/ENABLE"):(t.commit("downloads/DISABLE"),t.dispatch("sidebar/closeSidebar"))),void 0!==i.allPagesVisible&&t.commit("downloads/CHANGE_PROPERTY",{key:"allPagesVisible",value:i.allPagesVisible}),void 0!==i.currentPagesVisible&&t.commit("downloads/CHANGE_PROPERTY",{key:"currentPagesVisible",value:i.currentPagesVisible}),void 0!==i.url&&t.commit("downloads/CHANGE_PROPERTY",{key:"url",value:i.url}),void 0!==i.size&&t.commit("downloads/CHANGE_PROPERTY",{key:"size",value:i.size}),void 0!==i.pageFiles&&t.commit("downloads/CHANGE_PROPERTY",{key:"pageFiles",value:i.pageFiles}),void 0!==i.customFiles&&t.commit("downloads/CHANGE_PROPERTY",{key:"customFiles",value:i.customFiles})):"enabled"===r[1]&&(i?t.commit("downloads/ENABLE"):(t.commit("downloads/DISABLE"),t.dispatch("sidebar/closeSidebar")));break;case"sound":case"print":break;case"search":1===r.length?(0,s.isObject)(i):(t.commit("search/CHANGE_PROPERTY",{key:r[1],value:i}),t.dispatch("sidebar/closeSidebar"));break;case"logoLink":2===r.length&&t.commit("logo/CHANGE_PROPERTY",{key:r[1],value:i});break;case"components":3===r.length?("paginator"===r[1]&&"totalPagesVisible"===r[2]&&t.commit("workspace/CHANGE_TOTAL_PAGE_VISIBLE",i),"paginator"===r[1]&&"enabled"===r[2]&&t.commit("workspace/CHANGE_PAGINATOR_ENABLED",i)):i?t.commit("workspace/ENABLE",r[1]):t.commit("workspace/DISABLE",r[1]);break;case"locales":t.dispatch("i18n/setCurrentLocale",{locale:i[0]});break;case"title":case"bookSize":case"cookieNotice":case"thumbType":t.commit("workspace/CHANGE_PROPERTY",{key:r[0],value:i});break;default:console.error("We've forgotten about this property",e,i)}},e.getJSON=function(){return JSON.stringify(e)},e}};if(e){var w="",P="";t.subscribe(function(i,a){var l=void 0;switch(i.type){case"workspace/INIT":(0,s.isObject)(e)&&(0,s.isFunction)(e.addMethod)&&(e.addMethod(u,function(){return r()}),e.addMethod(c,function(){t.dispatch("pager/freeze",{target:"api"}),t.dispatch("workspace/freeze",{target:"api"})}),e.addMethod(h,function(){t.dispatch("pager/unfreeze",{target:"api"}),t.dispatch("workspace/unfreeze",{target:"api"})}),e.addMethod(d,function(t){if(o[t])return o[t]}),e.addMethod(f,function(e){t.dispatch("pager/goToPageByIndex",{pageIndex:e,target:"api"})}),e.addMethod(p,function(e){e=""+e,t.dispatch("pager/goToPageById",{id:e,target:"api"})}),e.addMethod(g,function(e,i){t.dispatch("i18n/setLocaleString",{name:e,value:i})}),e.addMethod(m,function(){t.dispatch("workspace/setVisible",!1)}),e.addMethod(v,function(){t.dispatch("workspace/setVisible",!0)}),e.addMethod(b,function(e,i){-1!==["backgroundColor","customSubstrateSize","displayName","height","pageResize","rasterize","rtlContent","shadowDepth","slideDelay","stub","substrateFormat","substrateSizes","substrateSizesReady","substrateZoomFormat","textLayer","thFormat","urlHeader","vectorText","wide","width"].indexOf(i)?t.dispatch("pages/removePageProperty",{pageID:e,property:i}):console.log("This is not a property that you are allowed to remove")}),e.addMethod(y,function(){t.dispatch("pages/resetNumeration"),t.commit("book/SET_NUMERATION_OFFSET",0)})),e.trigger("init",r());break;case"pager/CHANGE_PAGE":if(!a.workspace.isInited)return;l=r();var S=a.pager.lastTarget,_=a.workspace.size,E=_.width<_.height?"portrait":"landscape";e.trigger("bookStateChanged",{leftPageUrl:l.leftPageUrl,rightPageUrl:l.rightPageUrl,isWide:l.isWide,isZoomed:l.isZoomed,isSingle:l.isSingle},S,E),e.trigger("turned",l,S,E);break;case"pager/CHANGE_ZOOM_MODE":l=r(),e.trigger(l.isZoomed?"zoomed":"unzoomed",l);break;case"search/CHANGE_STATUS":"complete"===i.payload&&n();break;case"sidebar/OPEN_SIDEBAR":P=t.state.sidebar.opened,e.trigger("window",{action:"open",component:P});break;case"sidebar/CLOSE_SIDEBAR":e.trigger("window",{action:"close",component:P});break;case"popup/OPEN_POPUP":w=t.state.popup.opened,e.trigger("window",{action:"open",component:t.state.popup.opened});break;case"popup/CLOSE_POPUP":e.trigger("window",{action:"close",component:w});break;case"workspace/SET_FULLSCREEN_MODE":e.trigger("fullscreen",{action:"on"});break;case"workspace/UNSET_FULLSCREEN_MODE":e.trigger("fullscreen",{action:"off"});break;case"workspace/MUTE_SOUND":e.trigger("sound",{action:"off"});break;case"workspace/UNMUTE_SOUND":e.trigger("sound",{action:"on"})}})}}Object.defineProperty(e,"__esModule",{value:!0}),e.subscribeEvents=e.ApiPlugin=void 0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},s=i(100),l=i(106),u="getState",c="freeze",h="unfreeze",d="getProperty",f="goToPage",p="goToPageById",g="setLocalizationString",m="hide",v="show",b="removePageProperty",y="resetNumeration",S=void 0,_=void 0;e.ApiPlugin=o,e.subscribeEvents=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={};e.default={install:function(t){t.prototype.$behavior=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];if(t in r){var o;return(o=r)[t].apply(o,i)}}},setBehavior:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r=t},clearBehavior:function(){r={}}}}])]);